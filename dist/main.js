/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var cl=Object.create;var qt=Object.defineProperty;var ul=Object.getOwnPropertyDescriptor;var ml=Object.getOwnPropertyNames;var dl=Object.getPrototypeOf,fl=Object.prototype.hasOwnProperty;var hl=(r,a)=>()=>(a||r((a={exports:{}}).exports,a),a.exports),yl=(r,a)=>{for(var s in a)qt(r,s,{get:a[s],enumerable:!0})},Rr=(r,a,s,o)=>{if(a&&typeof a=="object"||typeof a=="function")for(let l of ml(a))!fl.call(r,l)&&l!==s&&qt(r,l,{get:()=>a[l],enumerable:!(o=ul(a,l))||o.enumerable});return r};var pl=(r,a,s)=>(s=r!=null?cl(dl(r)):{},Rr(a||!r||!r.__esModule?qt(s,"default",{value:r,enumerable:!0}):s,r)),gl=r=>Rr(qt({},"__esModule",{value:!0}),r);var Ur=hl((An,lt)=>{(function(r,a){typeof An=="object"&&typeof lt!="undefined"?lt.exports=a():typeof define=="function"&&define.amd?define(a):r.moment=a()})(An,function(){"use strict";var r;function a(){return r.apply(null,arguments)}function s(e){r=e}function o(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function l(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(u(e,t))return!1;return!0}function m(e){return e===void 0}function y(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function h(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function w(e,t){var n=[],i,c=e.length;for(i=0;i<c;++i)n.push(t(e[i],i));return n}function b(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function g(e,t,n,i){return pr(e,t,n,i,!0).utc()}function S(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function p(e){return e._pf==null&&(e._pf=S()),e._pf}var P;Array.prototype.some?P=Array.prototype.some:P=function(e){var t=Object(this),n=t.length>>>0,i;for(i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};function T(e){if(e._isValid==null){var t=p(e),n=P.call(t.parsedDateParts,function(c){return c!=null}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=i;else return i}return e._isValid}function I(e){var t=g(NaN);return e!=null?b(p(t),e):p(t).userInvalidated=!0,t}var M=a.momentProperties=[],x=!1;function O(e,t){var n,i,c,f=M.length;if(m(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),m(t._i)||(e._i=t._i),m(t._f)||(e._f=t._f),m(t._l)||(e._l=t._l),m(t._strict)||(e._strict=t._strict),m(t._tzm)||(e._tzm=t._tzm),m(t._isUTC)||(e._isUTC=t._isUTC),m(t._offset)||(e._offset=t._offset),m(t._pf)||(e._pf=p(t)),m(t._locale)||(e._locale=t._locale),f>0)for(n=0;n<f;n++)i=M[n],c=t[i],m(c)||(e[i]=c);return e}function G(e){O(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),x===!1&&(x=!0,a.updateOffset(this),x=!1)}function L(e){return e instanceof G||e!=null&&e._isAMomentObject!=null}function oe(e){a.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function ne(e,t){var n=!0;return b(function(){if(a.deprecationHandler!=null&&a.deprecationHandler(null,e),n){var i=[],c,f,v,k=arguments.length;for(f=0;f<k;f++){if(c="",typeof arguments[f]=="object"){c+=`
[`+f+"] ";for(v in arguments[0])u(arguments[0],v)&&(c+=v+": "+arguments[0][v]+", ");c=c.slice(0,-2)}else c=arguments[f];i.push(c)}oe(e+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var N={};function W(e,t){a.deprecationHandler!=null&&a.deprecationHandler(e,t),N[e]||(oe(t),N[e]=!0)}a.suppressDeprecationWarnings=!1,a.deprecationHandler=null;function q(e){return typeof Function!="undefined"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function je(e){var t,n;for(n in e)u(e,n)&&(t=e[n],q(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function re(e,t){var n=b({},e),i;for(i in t)u(t,i)&&(l(e[i])&&l(t[i])?(n[i]={},b(n[i],e[i]),b(n[i],t[i])):t[i]!=null?n[i]=t[i]:delete n[i]);for(i in e)u(e,i)&&!u(t,i)&&l(e[i])&&(n[i]=b({},n[i]));return n}function fe(e){e!=null&&this.set(e)}var ge;Object.keys?ge=Object.keys:ge=function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var xe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function It(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return q(i)?i.call(t,n):i}function he(e,t,n){var i=""+Math.abs(e),c=t-i.length,f=e>=0;return(f?n?"+":"":"-")+Math.pow(10,Math.max(0,c)).toString().substr(1)+i}var Fe=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,dt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ft={},et={};function _(e,t,n,i){var c=i;typeof i=="string"&&(c=function(){return this[i]()}),e&&(et[e]=c),t&&(et[t[0]]=function(){return he(c.apply(this,arguments),t[1],t[2])}),n&&(et[n]=function(){return this.localeData().ordinal(c.apply(this,arguments),e)})}function fa(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function ha(e){var t=e.match(Fe),n,i;for(n=0,i=t.length;n<i;n++)et[t[n]]?t[n]=et[t[n]]:t[n]=fa(t[n]);return function(c){var f="",v;for(v=0;v<i;v++)f+=q(t[v])?t[v].call(c,e):t[v];return f}}function _t(e,t){return e.isValid()?(t=zn(t,e.localeData()),ft[t]=ft[t]||ha(t),ft[t](e)):e.localeData().invalidDate()}function zn(e,t){var n=5;function i(c){return t.longDateFormat(c)||c}for(dt.lastIndex=0;n>=0&&dt.test(e);)e=e.replace(dt,i),dt.lastIndex=0,n-=1;return e}var ya={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function pa(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Fe).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[e])}var ga="Invalid date";function Sa(){return this._invalidDate}var va="%d",wa=/\d{1,2}/;function ba(e){return this._ordinal.replace("%d",e)}var Da={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Pa(e,t,n,i){var c=this._relativeTime[n];return q(c)?c(e,t,n,i):c.replace(/%d/i,e)}function Ea(e,t){var n=this._relativeTime[e>0?"future":"past"];return q(n)?n(t):n.replace(/%s/i,t)}var ht={};function le(e,t){var n=e.toLowerCase();ht[n]=ht[n+"s"]=ht[t]=e}function Se(e){return typeof e=="string"?ht[e]||ht[e.toLowerCase()]:void 0}function fn(e){var t={},n,i;for(i in e)u(e,i)&&(n=Se(i),n&&(t[n]=e[i]));return t}var Jn={};function ce(e,t){Jn[e]=t}function Oa(e){var t=[],n;for(n in e)u(e,n)&&t.push({unit:n,priority:Jn[n]});return t.sort(function(i,c){return i.priority-c.priority}),t}function kt(e){return e%4===0&&e%100!==0||e%400===0}function ve(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Y(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=ve(t)),n}function tt(e,t){return function(n){return n!=null?(Zn(this,e,n),a.updateOffset(this,t),this):Mt(this,e)}}function Mt(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Zn(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&kt(e.year())&&e.month()===1&&e.date()===29?(n=Y(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Yt(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function ja(e){return e=Se(e),q(this[e])?this[e]():this}function xa(e,t){if(typeof e=="object"){e=fn(e);var n=Oa(e),i,c=n.length;for(i=0;i<c;i++)this[n[i].unit](e[n[i].unit])}else if(e=Se(e),q(this[e]))return this[e](t);return this}var qn=/\d/,ye=/\d\d/,Qn=/\d{3}/,hn=/\d{4}/,Bt=/[+-]?\d{6}/,Q=/\d\d?/,Xn=/\d\d\d\d?/,er=/\d\d\d\d\d\d?/,Ct=/\d{1,3}/,yn=/\d{1,4}/,Nt=/[+-]?\d{1,6}/,nt=/\d+/,Ft=/[+-]?\d+/,Ta=/Z|[+-]\d\d:?\d\d/gi,At=/Z|[+-]\d\d(?::?\d\d)?/gi,Ia=/[+-]?\d+(\.\d{1,3})?/,yt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Rt;Rt={};function j(e,t,n){Rt[e]=q(t)?t:function(i,c){return i&&n?n:t}}function _a(e,t){return u(Rt,e)?Rt[e](t._strict,t._locale):new RegExp(ka(e))}function ka(e){return pe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,i,c,f){return n||i||c||f}))}function pe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var pn={};function z(e,t){var n,i=t,c;for(typeof e=="string"&&(e=[e]),y(t)&&(i=function(f,v){v[t]=Y(f)}),c=e.length,n=0;n<c;n++)pn[e[n]]=i}function pt(e,t){z(e,function(n,i,c,f){c._w=c._w||{},t(n,c._w,c,f)})}function Ma(e,t,n){t!=null&&u(pn,e)&&pn[e](t,n._a,n,e)}var ue=0,Te=1,Ee=2,ie=3,be=4,Ie=5,Ue=6,Ba=7,Ca=8;function Na(e,t){return(e%t+t)%t}var ae;Array.prototype.indexOf?ae=Array.prototype.indexOf:ae=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Yt(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Na(t,12);return e+=(t-n)/12,n===1?kt(e)?29:28:31-n%7%2}_("M",["MM",2],"Mo",function(){return this.month()+1}),_("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),_("MMMM",0,0,function(e){return this.localeData().months(this,e)}),le("month","M"),ce("month",8),j("M",Q),j("MM",Q,ye),j("MMM",function(e,t){return t.monthsShortRegex(e)}),j("MMMM",function(e,t){return t.monthsRegex(e)}),z(["M","MM"],function(e,t){t[Te]=Y(e)-1}),z(["MMM","MMMM"],function(e,t,n,i){var c=n._locale.monthsParse(e,i,n._strict);c!=null?t[Te]=c:p(n).invalidMonth=e});var Fa="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Aa=yt,Ra=yt;function Ya(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nr).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone}function $a(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nr.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function La(e,t,n){var i,c,f,v=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)f=g([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(f,"").toLocaleLowerCase();return n?t==="MMM"?(c=ae.call(this._shortMonthsParse,v),c!==-1?c:null):(c=ae.call(this._longMonthsParse,v),c!==-1?c:null):t==="MMM"?(c=ae.call(this._shortMonthsParse,v),c!==-1?c:(c=ae.call(this._longMonthsParse,v),c!==-1?c:null)):(c=ae.call(this._longMonthsParse,v),c!==-1?c:(c=ae.call(this._shortMonthsParse,v),c!==-1?c:null))}function Ha(e,t,n){var i,c,f;if(this._monthsParseExact)return La.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(c=g([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(c,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(c,"").replace(".","")+"$","i")),!n&&!this._monthsParse[i]&&(f="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[i]=new RegExp(f.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[i].test(e))return i;if(n&&t==="MMM"&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function rr(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Y(t);else if(t=e.localeData().monthsParse(t),!y(t))return e}return n=Math.min(e.date(),Yt(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ar(e){return e!=null?(rr(this,e),a.updateOffset(this,!0),this):Mt(this,"Month")}function Wa(){return Yt(this.year(),this.month())}function Ua(e){return this._monthsParseExact?(u(this,"_monthsRegex")||ir.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=Aa),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Ga(e){return this._monthsParseExact?(u(this,"_monthsRegex")||ir.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Ra),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ir(){function e(v,k){return k.length-v.length}var t=[],n=[],i=[],c,f;for(c=0;c<12;c++)f=g([2e3,c]),t.push(this.monthsShort(f,"")),n.push(this.months(f,"")),i.push(this.months(f,"")),i.push(this.monthsShort(f,""));for(t.sort(e),n.sort(e),i.sort(e),c=0;c<12;c++)t[c]=pe(t[c]),n[c]=pe(n[c]);for(c=0;c<24;c++)i[c]=pe(i[c]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}_("Y",0,0,function(){var e=this.year();return e<=9999?he(e,4):"+"+e}),_(0,["YY",2],0,function(){return this.year()%100}),_(0,["YYYY",4],0,"year"),_(0,["YYYYY",5],0,"year"),_(0,["YYYYYY",6,!0],0,"year"),le("year","y"),ce("year",1),j("Y",Ft),j("YY",Q,ye),j("YYYY",yn,hn),j("YYYYY",Nt,Bt),j("YYYYYY",Nt,Bt),z(["YYYYY","YYYYYY"],ue),z("YYYY",function(e,t){t[ue]=e.length===2?a.parseTwoDigitYear(e):Y(e)}),z("YY",function(e,t){t[ue]=a.parseTwoDigitYear(e)}),z("Y",function(e,t){t[ue]=parseInt(e,10)});function gt(e){return kt(e)?366:365}a.parseTwoDigitYear=function(e){return Y(e)+(Y(e)>68?1900:2e3)};var sr=tt("FullYear",!0);function Va(){return kt(this.year())}function Ka(e,t,n,i,c,f,v){var k;return e<100&&e>=0?(k=new Date(e+400,t,n,i,c,f,v),isFinite(k.getFullYear())&&k.setFullYear(e)):k=new Date(e,t,n,i,c,f,v),k}function St(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function $t(e,t,n){var i=7+t-n,c=(7+St(e,0,i).getUTCDay()-t)%7;return-c+i-1}function or(e,t,n,i,c){var f=(7+n-i)%7,v=$t(e,i,c),k=1+7*(t-1)+f+v,R,J;return k<=0?(R=e-1,J=gt(R)+k):k>gt(e)?(R=e+1,J=k-gt(e)):(R=e,J=k),{year:R,dayOfYear:J}}function vt(e,t,n){var i=$t(e.year(),t,n),c=Math.floor((e.dayOfYear()-i-1)/7)+1,f,v;return c<1?(v=e.year()-1,f=c+_e(v,t,n)):c>_e(e.year(),t,n)?(f=c-_e(e.year(),t,n),v=e.year()+1):(v=e.year(),f=c),{week:f,year:v}}function _e(e,t,n){var i=$t(e,t,n),c=$t(e+1,t,n);return(gt(e)-i+c)/7}_("w",["ww",2],"wo","week"),_("W",["WW",2],"Wo","isoWeek"),le("week","w"),le("isoWeek","W"),ce("week",5),ce("isoWeek",5),j("w",Q),j("ww",Q,ye),j("W",Q),j("WW",Q,ye),pt(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=Y(e)});function za(e){return vt(e,this._week.dow,this._week.doy).week}var Ja={dow:0,doy:6};function Za(){return this._week.dow}function qa(){return this._week.doy}function Qa(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Xa(e){var t=vt(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}_("d",0,"do","day"),_("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),_("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),_("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),_("e",0,0,"weekday"),_("E",0,0,"isoWeekday"),le("day","d"),le("weekday","e"),le("isoWeekday","E"),ce("day",11),ce("weekday",11),ce("isoWeekday",11),j("d",Q),j("e",Q),j("E",Q),j("dd",function(e,t){return t.weekdaysMinRegex(e)}),j("ddd",function(e,t){return t.weekdaysShortRegex(e)}),j("dddd",function(e,t){return t.weekdaysRegex(e)}),pt(["dd","ddd","dddd"],function(e,t,n,i){var c=n._locale.weekdaysParse(e,i,n._strict);c!=null?t.d=c:p(n).invalidWeekday=e}),pt(["d","e","E"],function(e,t,n,i){t[i]=Y(e)});function ei(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function ti(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function gn(e,t){return e.slice(t,7).concat(e.slice(0,t))}var ni="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),lr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ri="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ai=yt,ii=yt,si=yt;function oi(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?gn(n,this._week.dow):e?n[e.day()]:n}function li(e){return e===!0?gn(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function ci(e){return e===!0?gn(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function ui(e,t,n){var i,c,f,v=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)f=g([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(f,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(f,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(f,"").toLocaleLowerCase();return n?t==="dddd"?(c=ae.call(this._weekdaysParse,v),c!==-1?c:null):t==="ddd"?(c=ae.call(this._shortWeekdaysParse,v),c!==-1?c:null):(c=ae.call(this._minWeekdaysParse,v),c!==-1?c:null):t==="dddd"?(c=ae.call(this._weekdaysParse,v),c!==-1||(c=ae.call(this._shortWeekdaysParse,v),c!==-1)?c:(c=ae.call(this._minWeekdaysParse,v),c!==-1?c:null)):t==="ddd"?(c=ae.call(this._shortWeekdaysParse,v),c!==-1||(c=ae.call(this._weekdaysParse,v),c!==-1)?c:(c=ae.call(this._minWeekdaysParse,v),c!==-1?c:null)):(c=ae.call(this._minWeekdaysParse,v),c!==-1||(c=ae.call(this._weekdaysParse,v),c!==-1)?c:(c=ae.call(this._shortWeekdaysParse,v),c!==-1?c:null))}function mi(e,t,n){var i,c,f;if(this._weekdaysParseExact)return ui.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(c=g([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(c,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(c,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(c,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(f="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[i]=new RegExp(f.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[i].test(e))return i;if(n&&t==="ddd"&&this._shortWeekdaysParse[i].test(e))return i;if(n&&t==="dd"&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function di(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=ei(e,this.localeData()),this.add(e-t,"d")):t}function fi(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function hi(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=ti(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function yi(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Sn.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=ai),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function pi(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Sn.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ii),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function gi(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Sn.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=si),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Sn(){function e(me,Ne){return Ne.length-me.length}var t=[],n=[],i=[],c=[],f,v,k,R,J;for(f=0;f<7;f++)v=g([2e3,1]).day(f),k=pe(this.weekdaysMin(v,"")),R=pe(this.weekdaysShort(v,"")),J=pe(this.weekdays(v,"")),t.push(k),n.push(R),i.push(J),c.push(k),c.push(R),c.push(J);t.sort(e),n.sort(e),i.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function vn(){return this.hours()%12||12}function Si(){return this.hours()||24}_("H",["HH",2],0,"hour"),_("h",["hh",2],0,vn),_("k",["kk",2],0,Si),_("hmm",0,0,function(){return""+vn.apply(this)+he(this.minutes(),2)}),_("hmmss",0,0,function(){return""+vn.apply(this)+he(this.minutes(),2)+he(this.seconds(),2)}),_("Hmm",0,0,function(){return""+this.hours()+he(this.minutes(),2)}),_("Hmmss",0,0,function(){return""+this.hours()+he(this.minutes(),2)+he(this.seconds(),2)});function cr(e,t){_(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}cr("a",!0),cr("A",!1),le("hour","h"),ce("hour",13);function ur(e,t){return t._meridiemParse}j("a",ur),j("A",ur),j("H",Q),j("h",Q),j("k",Q),j("HH",Q,ye),j("hh",Q,ye),j("kk",Q,ye),j("hmm",Xn),j("hmmss",er),j("Hmm",Xn),j("Hmmss",er),z(["H","HH"],ie),z(["k","kk"],function(e,t,n){var i=Y(e);t[ie]=i===24?0:i}),z(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),z(["h","hh"],function(e,t,n){t[ie]=Y(e),p(n).bigHour=!0}),z("hmm",function(e,t,n){var i=e.length-2;t[ie]=Y(e.substr(0,i)),t[be]=Y(e.substr(i)),p(n).bigHour=!0}),z("hmmss",function(e,t,n){var i=e.length-4,c=e.length-2;t[ie]=Y(e.substr(0,i)),t[be]=Y(e.substr(i,2)),t[Ie]=Y(e.substr(c)),p(n).bigHour=!0}),z("Hmm",function(e,t,n){var i=e.length-2;t[ie]=Y(e.substr(0,i)),t[be]=Y(e.substr(i))}),z("Hmmss",function(e,t,n){var i=e.length-4,c=e.length-2;t[ie]=Y(e.substr(0,i)),t[be]=Y(e.substr(i,2)),t[Ie]=Y(e.substr(c))});function vi(e){return(e+"").toLowerCase().charAt(0)==="p"}var wi=/[ap]\.?m?\.?/i,bi=tt("Hours",!0);function Di(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var mr={calendar:xe,longDateFormat:ya,invalidDate:ga,ordinal:va,dayOfMonthOrdinalParse:wa,relativeTime:Da,months:Fa,monthsShort:tr,week:Ja,weekdays:ni,weekdaysMin:ri,weekdaysShort:lr,meridiemParse:wi},ee={},wt={},bt;function Pi(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n+=1)if(e[n]!==t[n])return n;return i}function dr(e){return e&&e.toLowerCase().replace("_","-")}function Ei(e){for(var t=0,n,i,c,f;t<e.length;){for(f=dr(e[t]).split("-"),n=f.length,i=dr(e[t+1]),i=i?i.split("-"):null;n>0;){if(c=Lt(f.slice(0,n).join("-")),c)return c;if(i&&i.length>=n&&Pi(f,i)>=n-1)break;n--}t++}return bt}function Oi(e){return e.match("^[^/\\\\]*$")!=null}function Lt(e){var t=null,n;if(ee[e]===void 0&&typeof lt!="undefined"&&lt&&lt.exports&&Oi(e))try{t=bt._abbr,n=require,n("./locale/"+e),Ae(t)}catch(i){ee[e]=null}return ee[e]}function Ae(e,t){var n;return e&&(m(t)?n=ke(e):n=wn(e,t),n?bt=n:typeof console!="undefined"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),bt._abbr}function wn(e,t){if(t!==null){var n,i=mr;if(t.abbr=e,ee[e]!=null)W("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=ee[e]._config;else if(t.parentLocale!=null)if(ee[t.parentLocale]!=null)i=ee[t.parentLocale]._config;else if(n=Lt(t.parentLocale),n!=null)i=n._config;else return wt[t.parentLocale]||(wt[t.parentLocale]=[]),wt[t.parentLocale].push({name:e,config:t}),null;return ee[e]=new fe(re(i,t)),wt[e]&&wt[e].forEach(function(c){wn(c.name,c.config)}),Ae(e),ee[e]}else return delete ee[e],null}function ji(e,t){if(t!=null){var n,i,c=mr;ee[e]!=null&&ee[e].parentLocale!=null?ee[e].set(re(ee[e]._config,t)):(i=Lt(e),i!=null&&(c=i._config),t=re(c,t),i==null&&(t.abbr=e),n=new fe(t),n.parentLocale=ee[e],ee[e]=n),Ae(e)}else ee[e]!=null&&(ee[e].parentLocale!=null?(ee[e]=ee[e].parentLocale,e===Ae()&&Ae(e)):ee[e]!=null&&delete ee[e]);return ee[e]}function ke(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return bt;if(!o(e)){if(t=Lt(e),t)return t;e=[e]}return Ei(e)}function xi(){return ge(ee)}function bn(e){var t,n=e._a;return n&&p(e).overflow===-2&&(t=n[Te]<0||n[Te]>11?Te:n[Ee]<1||n[Ee]>Yt(n[ue],n[Te])?Ee:n[ie]<0||n[ie]>24||n[ie]===24&&(n[be]!==0||n[Ie]!==0||n[Ue]!==0)?ie:n[be]<0||n[be]>59?be:n[Ie]<0||n[Ie]>59?Ie:n[Ue]<0||n[Ue]>999?Ue:-1,p(e)._overflowDayOfYear&&(t<ue||t>Ee)&&(t=Ee),p(e)._overflowWeeks&&t===-1&&(t=Ba),p(e)._overflowWeekday&&t===-1&&(t=Ca),p(e).overflow=t),e}var Ti=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ii=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_i=/Z|[+-]\d\d(?::?\d\d)?/,Ht=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Dn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ki=/^\/?Date\((-?\d+)/i,Mi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Bi={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function fr(e){var t,n,i=e._i,c=Ti.exec(i)||Ii.exec(i),f,v,k,R,J=Ht.length,me=Dn.length;if(c){for(p(e).iso=!0,t=0,n=J;t<n;t++)if(Ht[t][1].exec(c[1])){v=Ht[t][0],f=Ht[t][2]!==!1;break}if(v==null){e._isValid=!1;return}if(c[3]){for(t=0,n=me;t<n;t++)if(Dn[t][1].exec(c[3])){k=(c[2]||" ")+Dn[t][0];break}if(k==null){e._isValid=!1;return}}if(!f&&k!=null){e._isValid=!1;return}if(c[4])if(_i.exec(c[4]))R="Z";else{e._isValid=!1;return}e._f=v+(k||"")+(R||""),En(e)}else e._isValid=!1}function Ci(e,t,n,i,c,f){var v=[Ni(e),tr.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(c,10)];return f&&v.push(parseInt(f,10)),v}function Ni(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Fi(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ai(e,t,n){if(e){var i=lr.indexOf(e),c=new Date(t[0],t[1],t[2]).getDay();if(i!==c)return p(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function Ri(e,t,n){if(e)return Bi[e];if(t)return 0;var i=parseInt(n,10),c=i%100,f=(i-c)/100;return f*60+c}function hr(e){var t=Mi.exec(Fi(e._i)),n;if(t){if(n=Ci(t[4],t[3],t[2],t[5],t[6],t[7]),!Ai(t[1],n,e))return;e._a=n,e._tzm=Ri(t[8],t[9],t[10]),e._d=St.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function Yi(e){var t=ki.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(fr(e),e._isValid===!1)delete e._isValid;else return;if(hr(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:a.createFromInputFallback(e)}a.createFromInputFallback=ne("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function rt(e,t,n){return e!=null?e:t!=null?t:n}function $i(e){var t=new Date(a.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Pn(e){var t,n,i=[],c,f,v;if(!e._d){for(c=$i(e),e._w&&e._a[Ee]==null&&e._a[Te]==null&&Li(e),e._dayOfYear!=null&&(v=rt(e._a[ue],c[ue]),(e._dayOfYear>gt(v)||e._dayOfYear===0)&&(p(e)._overflowDayOfYear=!0),n=St(v,0,e._dayOfYear),e._a[Te]=n.getUTCMonth(),e._a[Ee]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=i[t]=c[t];for(;t<7;t++)e._a[t]=i[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[ie]===24&&e._a[be]===0&&e._a[Ie]===0&&e._a[Ue]===0&&(e._nextDay=!0,e._a[ie]=0),e._d=(e._useUTC?St:Ka).apply(null,i),f=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ie]=24),e._w&&typeof e._w.d!="undefined"&&e._w.d!==f&&(p(e).weekdayMismatch=!0)}}function Li(e){var t,n,i,c,f,v,k,R,J;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(f=1,v=4,n=rt(t.GG,e._a[ue],vt(X(),1,4).year),i=rt(t.W,1),c=rt(t.E,1),(c<1||c>7)&&(R=!0)):(f=e._locale._week.dow,v=e._locale._week.doy,J=vt(X(),f,v),n=rt(t.gg,e._a[ue],J.year),i=rt(t.w,J.week),t.d!=null?(c=t.d,(c<0||c>6)&&(R=!0)):t.e!=null?(c=t.e+f,(t.e<0||t.e>6)&&(R=!0)):c=f),i<1||i>_e(n,f,v)?p(e)._overflowWeeks=!0:R!=null?p(e)._overflowWeekday=!0:(k=or(n,i,c,f,v),e._a[ue]=k.year,e._dayOfYear=k.dayOfYear)}a.ISO_8601=function(){},a.RFC_2822=function(){};function En(e){if(e._f===a.ISO_8601){fr(e);return}if(e._f===a.RFC_2822){hr(e);return}e._a=[],p(e).empty=!0;var t=""+e._i,n,i,c,f,v,k=t.length,R=0,J,me;for(c=zn(e._f,e._locale).match(Fe)||[],me=c.length,n=0;n<me;n++)f=c[n],i=(t.match(_a(f,e))||[])[0],i&&(v=t.substr(0,t.indexOf(i)),v.length>0&&p(e).unusedInput.push(v),t=t.slice(t.indexOf(i)+i.length),R+=i.length),et[f]?(i?p(e).empty=!1:p(e).unusedTokens.push(f),Ma(f,i,e)):e._strict&&!i&&p(e).unusedTokens.push(f);p(e).charsLeftOver=k-R,t.length>0&&p(e).unusedInput.push(t),e._a[ie]<=12&&p(e).bigHour===!0&&e._a[ie]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[ie]=Hi(e._locale,e._a[ie],e._meridiem),J=p(e).era,J!==null&&(e._a[ue]=e._locale.erasConvertYear(J,e._a[ue])),Pn(e),bn(e)}function Hi(e,t,n){var i;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(i=e.isPM(n),i&&t<12&&(t+=12),!i&&t===12&&(t=0)),t)}function Wi(e){var t,n,i,c,f,v,k=!1,R=e._f.length;if(R===0){p(e).invalidFormat=!0,e._d=new Date(NaN);return}for(c=0;c<R;c++)f=0,v=!1,t=O({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[c],En(t),T(t)&&(v=!0),f+=p(t).charsLeftOver,f+=p(t).unusedTokens.length*10,p(t).score=f,k?f<i&&(i=f,n=t):(i==null||f<i||v)&&(i=f,n=t,v&&(k=!0));b(e,n||t)}function Ui(e){if(!e._d){var t=fn(e._i),n=t.day===void 0?t.date:t.day;e._a=w([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(i){return i&&parseInt(i,10)}),Pn(e)}}function Gi(e){var t=new G(bn(yr(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function yr(e){var t=e._i,n=e._f;return e._locale=e._locale||ke(e._l),t===null||n===void 0&&t===""?I({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),L(t)?new G(bn(t)):(h(t)?e._d=t:o(n)?Wi(e):n?En(e):Vi(e),T(e)||(e._d=null),e))}function Vi(e){var t=e._i;m(t)?e._d=new Date(a.now()):h(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Yi(e):o(t)?(e._a=w(t.slice(0),function(n){return parseInt(n,10)}),Pn(e)):l(t)?Ui(e):y(t)?e._d=new Date(t):a.createFromInputFallback(e)}function pr(e,t,n,i,c){var f={};return(t===!0||t===!1)&&(i=t,t=void 0),(n===!0||n===!1)&&(i=n,n=void 0),(l(e)&&d(e)||o(e)&&e.length===0)&&(e=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=c,f._l=n,f._i=e,f._f=t,f._strict=i,Gi(f)}function X(e,t,n,i){return pr(e,t,n,i,!1)}var Ki=ne("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=X.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:I()}),zi=ne("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=X.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:I()});function gr(e,t){var n,i;if(t.length===1&&o(t[0])&&(t=t[0]),!t.length)return X();for(n=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](n))&&(n=t[i]);return n}function Ji(){var e=[].slice.call(arguments,0);return gr("isBefore",e)}function Zi(){var e=[].slice.call(arguments,0);return gr("isAfter",e)}var qi=function(){return Date.now?Date.now():+new Date},Dt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Qi(e){var t,n=!1,i,c=Dt.length;for(t in e)if(u(e,t)&&!(ae.call(Dt,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(i=0;i<c;++i)if(e[Dt[i]]){if(n)return!1;parseFloat(e[Dt[i]])!==Y(e[Dt[i]])&&(n=!0)}return!0}function Xi(){return this._isValid}function es(){return De(NaN)}function Wt(e){var t=fn(e),n=t.year||0,i=t.quarter||0,c=t.month||0,f=t.week||t.isoWeek||0,v=t.day||0,k=t.hour||0,R=t.minute||0,J=t.second||0,me=t.millisecond||0;this._isValid=Qi(t),this._milliseconds=+me+J*1e3+R*6e4+k*1e3*60*60,this._days=+v+f*7,this._months=+c+i*3+n*12,this._data={},this._locale=ke(),this._bubble()}function Ut(e){return e instanceof Wt}function On(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function ts(e,t,n){var i=Math.min(e.length,t.length),c=Math.abs(e.length-t.length),f=0,v;for(v=0;v<i;v++)(n&&e[v]!==t[v]||!n&&Y(e[v])!==Y(t[v]))&&f++;return f+c}function Sr(e,t){_(e,0,0,function(){var n=this.utcOffset(),i="+";return n<0&&(n=-n,i="-"),i+he(~~(n/60),2)+t+he(~~n%60,2)})}Sr("Z",":"),Sr("ZZ",""),j("Z",At),j("ZZ",At),z(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=jn(At,e)});var ns=/([\+\-]|\d\d)/gi;function jn(e,t){var n=(t||"").match(e),i,c,f;return n===null?null:(i=n[n.length-1]||[],c=(i+"").match(ns)||["-",0,0],f=+(c[1]*60)+Y(c[2]),f===0?0:c[0]==="+"?f:-f)}function xn(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(L(e)||h(e)?e.valueOf():X(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),a.updateOffset(n,!1),n):X(e).local()}function Tn(e){return-Math.round(e._d.getTimezoneOffset())}a.updateOffset=function(){};function rs(e,t,n){var i=this._offset||0,c;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=jn(At,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(c=Tn(this)),this._offset=e,this._isUTC=!0,c!=null&&this.add(c,"m"),i!==e&&(!t||this._changeInProgress?Dr(this,De(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:Tn(this)}function as(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function is(e){return this.utcOffset(0,e)}function ss(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Tn(this),"m")),this}function os(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=jn(Ta,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function ls(e){return this.isValid()?(e=e?X(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function cs(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function us(){if(!m(this._isDSTShifted))return this._isDSTShifted;var e={},t;return O(e,this),e=yr(e),e._a?(t=e._isUTC?g(e._a):X(e._a),this._isDSTShifted=this.isValid()&&ts(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function ms(){return this.isValid()?!this._isUTC:!1}function ds(){return this.isValid()?this._isUTC:!1}function vr(){return this.isValid()?this._isUTC&&this._offset===0:!1}var fs=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,hs=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function De(e,t){var n=e,i=null,c,f,v;return Ut(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:y(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(i=fs.exec(e))?(c=i[1]==="-"?-1:1,n={y:0,d:Y(i[Ee])*c,h:Y(i[ie])*c,m:Y(i[be])*c,s:Y(i[Ie])*c,ms:Y(On(i[Ue]*1e3))*c}):(i=hs.exec(e))?(c=i[1]==="-"?-1:1,n={y:Ge(i[2],c),M:Ge(i[3],c),w:Ge(i[4],c),d:Ge(i[5],c),h:Ge(i[6],c),m:Ge(i[7],c),s:Ge(i[8],c)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(v=ys(X(n.from),X(n.to)),n={},n.ms=v.milliseconds,n.M=v.months),f=new Wt(n),Ut(e)&&u(e,"_locale")&&(f._locale=e._locale),Ut(e)&&u(e,"_isValid")&&(f._isValid=e._isValid),f}De.fn=Wt.prototype,De.invalid=es;function Ge(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function wr(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function ys(e,t){var n;return e.isValid()&&t.isValid()?(t=xn(t,e),e.isBefore(t)?n=wr(e,t):(n=wr(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function br(e,t){return function(n,i){var c,f;return i!==null&&!isNaN(+i)&&(W(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=n,n=i,i=f),c=De(n,i),Dr(this,c,e),this}}function Dr(e,t,n,i){var c=t._milliseconds,f=On(t._days),v=On(t._months);e.isValid()&&(i=i==null?!0:i,v&&rr(e,Mt(e,"Month")+v*n),f&&Zn(e,"Date",Mt(e,"Date")+f*n),c&&e._d.setTime(e._d.valueOf()+c*n),i&&a.updateOffset(e,f||v))}var ps=br(1,"add"),gs=br(-1,"subtract");function Pr(e){return typeof e=="string"||e instanceof String}function Ss(e){return L(e)||h(e)||Pr(e)||y(e)||ws(e)||vs(e)||e===null||e===void 0}function vs(e){var t=l(e)&&!d(e),n=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c,f,v=i.length;for(c=0;c<v;c+=1)f=i[c],n=n||u(e,f);return t&&n}function ws(e){var t=o(e),n=!1;return t&&(n=e.filter(function(i){return!y(i)&&Pr(e)}).length===0),t&&n}function bs(e){var t=l(e)&&!d(e),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],c,f;for(c=0;c<i.length;c+=1)f=i[c],n=n||u(e,f);return t&&n}function Ds(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Ps(e,t){arguments.length===1&&(arguments[0]?Ss(arguments[0])?(e=arguments[0],t=void 0):bs(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||X(),i=xn(n,this).startOf("day"),c=a.calendarFormat(this,i)||"sameElse",f=t&&(q(t[c])?t[c].call(this,n):t[c]);return this.format(f||this.localeData().calendar(c,this,X(n)))}function Es(){return new G(this)}function Os(e,t){var n=L(e)?e:X(e);return this.isValid()&&n.isValid()?(t=Se(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function js(e,t){var n=L(e)?e:X(e);return this.isValid()&&n.isValid()?(t=Se(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function xs(e,t,n,i){var c=L(e)?e:X(e),f=L(t)?t:X(t);return this.isValid()&&c.isValid()&&f.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(c,n):!this.isBefore(c,n))&&(i[1]===")"?this.isBefore(f,n):!this.isAfter(f,n))):!1}function Ts(e,t){var n=L(e)?e:X(e),i;return this.isValid()&&n.isValid()?(t=Se(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf())):!1}function Is(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function _s(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function ks(e,t,n){var i,c,f;if(!this.isValid())return NaN;if(i=xn(e,this),!i.isValid())return NaN;switch(c=(i.utcOffset()-this.utcOffset())*6e4,t=Se(t),t){case"year":f=Gt(this,i)/12;break;case"month":f=Gt(this,i);break;case"quarter":f=Gt(this,i)/3;break;case"second":f=(this-i)/1e3;break;case"minute":f=(this-i)/6e4;break;case"hour":f=(this-i)/36e5;break;case"day":f=(this-i-c)/864e5;break;case"week":f=(this-i-c)/6048e5;break;default:f=this-i}return n?f:ve(f)}function Gt(e,t){if(e.date()<t.date())return-Gt(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),i=e.clone().add(n,"months"),c,f;return t-i<0?(c=e.clone().add(n-1,"months"),f=(t-i)/(i-c)):(c=e.clone().add(n+1,"months"),f=(t-i)/(c-i)),-(n+f)||0}a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ms(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Bs(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?_t(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):q(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",_t(n,"Z")):_t(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Cs(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,i,c,f;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",c="-MM-DD[T]HH:mm:ss.SSS",f=t+'[")]',this.format(n+i+c+f)}function Ns(e){e||(e=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var t=_t(this,e);return this.localeData().postformat(t)}function Fs(e,t){return this.isValid()&&(L(e)&&e.isValid()||X(e).isValid())?De({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function As(e){return this.from(X(),e)}function Rs(e,t){return this.isValid()&&(L(e)&&e.isValid()||X(e).isValid())?De({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Ys(e){return this.to(X(),e)}function Er(e){var t;return e===void 0?this._locale._abbr:(t=ke(e),t!=null&&(this._locale=t),this)}var Or=ne("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function jr(){return this._locale}var Vt=1e3,at=60*Vt,Kt=60*at,xr=(365*400+97)*24*Kt;function it(e,t){return(e%t+t)%t}function Tr(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-xr:new Date(e,t,n).valueOf()}function Ir(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-xr:Date.UTC(e,t,n)}function $s(e){var t,n;if(e=Se(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Ir:Tr,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=it(t+(this._isUTC?0:this.utcOffset()*at),Kt);break;case"minute":t=this._d.valueOf(),t-=it(t,at);break;case"second":t=this._d.valueOf(),t-=it(t,Vt);break}return this._d.setTime(t),a.updateOffset(this,!0),this}function Ls(e){var t,n;if(e=Se(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Ir:Tr,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Kt-it(t+(this._isUTC?0:this.utcOffset()*at),Kt)-1;break;case"minute":t=this._d.valueOf(),t+=at-it(t,at)-1;break;case"second":t=this._d.valueOf(),t+=Vt-it(t,Vt)-1;break}return this._d.setTime(t),a.updateOffset(this,!0),this}function Hs(){return this._d.valueOf()-(this._offset||0)*6e4}function Ws(){return Math.floor(this.valueOf()/1e3)}function Us(){return new Date(this.valueOf())}function Gs(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Vs(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Ks(){return this.isValid()?this.toISOString():null}function zs(){return T(this)}function Js(){return b({},p(this))}function Zs(){return p(this).overflow}function qs(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}_("N",0,0,"eraAbbr"),_("NN",0,0,"eraAbbr"),_("NNN",0,0,"eraAbbr"),_("NNNN",0,0,"eraName"),_("NNNNN",0,0,"eraNarrow"),_("y",["y",1],"yo","eraYear"),_("y",["yy",2],0,"eraYear"),_("y",["yyy",3],0,"eraYear"),_("y",["yyyy",4],0,"eraYear"),j("N",In),j("NN",In),j("NNN",In),j("NNNN",lo),j("NNNNN",co),z(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,i){var c=n._locale.erasParse(e,i,n._strict);c?p(n).era=c:p(n).invalidEra=e}),j("y",nt),j("yy",nt),j("yyy",nt),j("yyyy",nt),j("yo",uo),z(["y","yy","yyy","yyyy"],ue),z(["yo"],function(e,t,n,i){var c;n._locale._eraYearOrdinalRegex&&(c=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ue]=n._locale.eraYearOrdinalParse(e,c):t[ue]=parseInt(e,10)});function Qs(e,t){var n,i,c,f=this._eras||ke("en")._eras;for(n=0,i=f.length;n<i;++n){switch(typeof f[n].since){case"string":c=a(f[n].since).startOf("day"),f[n].since=c.valueOf();break}switch(typeof f[n].until){case"undefined":f[n].until=1/0;break;case"string":c=a(f[n].until).startOf("day").valueOf(),f[n].until=c.valueOf();break}}return f}function Xs(e,t,n){var i,c,f=this.eras(),v,k,R;for(e=e.toUpperCase(),i=0,c=f.length;i<c;++i)if(v=f[i].name.toUpperCase(),k=f[i].abbr.toUpperCase(),R=f[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(k===e)return f[i];break;case"NNNN":if(v===e)return f[i];break;case"NNNNN":if(R===e)return f[i];break}else if([v,k,R].indexOf(e)>=0)return f[i]}function eo(e,t){var n=e.since<=e.until?1:-1;return t===void 0?a(e.since).year():a(e.since).year()+(t-e.offset)*n}function to(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return i[e].name;return""}function no(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return i[e].narrow;return""}function ro(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return i[e].abbr;return""}function ao(){var e,t,n,i,c=this.localeData().eras();for(e=0,t=c.length;e<t;++e)if(n=c[e].since<=c[e].until?1:-1,i=this.clone().startOf("day").valueOf(),c[e].since<=i&&i<=c[e].until||c[e].until<=i&&i<=c[e].since)return(this.year()-a(c[e].since).year())*n+c[e].offset;return this.year()}function io(e){return u(this,"_erasNameRegex")||_n.call(this),e?this._erasNameRegex:this._erasRegex}function so(e){return u(this,"_erasAbbrRegex")||_n.call(this),e?this._erasAbbrRegex:this._erasRegex}function oo(e){return u(this,"_erasNarrowRegex")||_n.call(this),e?this._erasNarrowRegex:this._erasRegex}function In(e,t){return t.erasAbbrRegex(e)}function lo(e,t){return t.erasNameRegex(e)}function co(e,t){return t.erasNarrowRegex(e)}function uo(e,t){return t._eraYearOrdinalRegex||nt}function _n(){var e=[],t=[],n=[],i=[],c,f,v=this.eras();for(c=0,f=v.length;c<f;++c)t.push(pe(v[c].name)),e.push(pe(v[c].abbr)),n.push(pe(v[c].narrow)),i.push(pe(v[c].name)),i.push(pe(v[c].abbr)),i.push(pe(v[c].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}_(0,["gg",2],0,function(){return this.weekYear()%100}),_(0,["GG",2],0,function(){return this.isoWeekYear()%100});function zt(e,t){_(0,[e,e.length],0,t)}zt("gggg","weekYear"),zt("ggggg","weekYear"),zt("GGGG","isoWeekYear"),zt("GGGGG","isoWeekYear"),le("weekYear","gg"),le("isoWeekYear","GG"),ce("weekYear",1),ce("isoWeekYear",1),j("G",Ft),j("g",Ft),j("GG",Q,ye),j("gg",Q,ye),j("GGGG",yn,hn),j("gggg",yn,hn),j("GGGGG",Nt,Bt),j("ggggg",Nt,Bt),pt(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=Y(e)}),pt(["gg","GG"],function(e,t,n,i){t[i]=a.parseTwoDigitYear(e)});function mo(e){return _r.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function fo(e){return _r.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function ho(){return _e(this.year(),1,4)}function yo(){return _e(this.isoWeekYear(),1,4)}function po(){var e=this.localeData()._week;return _e(this.year(),e.dow,e.doy)}function go(){var e=this.localeData()._week;return _e(this.weekYear(),e.dow,e.doy)}function _r(e,t,n,i,c){var f;return e==null?vt(this,i,c).year:(f=_e(e,i,c),t>f&&(t=f),So.call(this,e,t,n,i,c))}function So(e,t,n,i,c){var f=or(e,t,n,i,c),v=St(f.year,0,f.dayOfYear);return this.year(v.getUTCFullYear()),this.month(v.getUTCMonth()),this.date(v.getUTCDate()),this}_("Q",0,"Qo","quarter"),le("quarter","Q"),ce("quarter",7),j("Q",qn),z("Q",function(e,t){t[Te]=(Y(e)-1)*3});function vo(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}_("D",["DD",2],"Do","date"),le("date","D"),ce("date",9),j("D",Q),j("DD",Q,ye),j("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),z(["D","DD"],Ee),z("Do",function(e,t){t[Ee]=Y(e.match(Q)[0])});var kr=tt("Date",!0);_("DDD",["DDDD",3],"DDDo","dayOfYear"),le("dayOfYear","DDD"),ce("dayOfYear",4),j("DDD",Ct),j("DDDD",Qn),z(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Y(e)});function wo(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}_("m",["mm",2],0,"minute"),le("minute","m"),ce("minute",14),j("m",Q),j("mm",Q,ye),z(["m","mm"],be);var bo=tt("Minutes",!1);_("s",["ss",2],0,"second"),le("second","s"),ce("second",15),j("s",Q),j("ss",Q,ye),z(["s","ss"],Ie);var Do=tt("Seconds",!1);_("S",0,0,function(){return~~(this.millisecond()/100)}),_(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),_(0,["SSS",3],0,"millisecond"),_(0,["SSSS",4],0,function(){return this.millisecond()*10}),_(0,["SSSSS",5],0,function(){return this.millisecond()*100}),_(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),_(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),_(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),_(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),le("millisecond","ms"),ce("millisecond",16),j("S",Ct,qn),j("SS",Ct,ye),j("SSS",Ct,Qn);var Re,Mr;for(Re="SSSS";Re.length<=9;Re+="S")j(Re,nt);function Po(e,t){t[Ue]=Y(("0."+e)*1e3)}for(Re="S";Re.length<=9;Re+="S")z(Re,Po);Mr=tt("Milliseconds",!1),_("z",0,0,"zoneAbbr"),_("zz",0,0,"zoneName");function Eo(){return this._isUTC?"UTC":""}function Oo(){return this._isUTC?"Coordinated Universal Time":""}var E=G.prototype;E.add=ps,E.calendar=Ps,E.clone=Es,E.diff=ks,E.endOf=Ls,E.format=Ns,E.from=Fs,E.fromNow=As,E.to=Rs,E.toNow=Ys,E.get=ja,E.invalidAt=Zs,E.isAfter=Os,E.isBefore=js,E.isBetween=xs,E.isSame=Ts,E.isSameOrAfter=Is,E.isSameOrBefore=_s,E.isValid=zs,E.lang=Or,E.locale=Er,E.localeData=jr,E.max=zi,E.min=Ki,E.parsingFlags=Js,E.set=xa,E.startOf=$s,E.subtract=gs,E.toArray=Gs,E.toObject=Vs,E.toDate=Us,E.toISOString=Bs,E.inspect=Cs,typeof Symbol!="undefined"&&Symbol.for!=null&&(E[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),E.toJSON=Ks,E.toString=Ms,E.unix=Ws,E.valueOf=Hs,E.creationData=qs,E.eraName=to,E.eraNarrow=no,E.eraAbbr=ro,E.eraYear=ao,E.year=sr,E.isLeapYear=Va,E.weekYear=mo,E.isoWeekYear=fo,E.quarter=E.quarters=vo,E.month=ar,E.daysInMonth=Wa,E.week=E.weeks=Qa,E.isoWeek=E.isoWeeks=Xa,E.weeksInYear=po,E.weeksInWeekYear=go,E.isoWeeksInYear=ho,E.isoWeeksInISOWeekYear=yo,E.date=kr,E.day=E.days=di,E.weekday=fi,E.isoWeekday=hi,E.dayOfYear=wo,E.hour=E.hours=bi,E.minute=E.minutes=bo,E.second=E.seconds=Do,E.millisecond=E.milliseconds=Mr,E.utcOffset=rs,E.utc=is,E.local=ss,E.parseZone=os,E.hasAlignedHourOffset=ls,E.isDST=cs,E.isLocal=ms,E.isUtcOffset=ds,E.isUtc=vr,E.isUTC=vr,E.zoneAbbr=Eo,E.zoneName=Oo,E.dates=ne("dates accessor is deprecated. Use date instead.",kr),E.months=ne("months accessor is deprecated. Use month instead",ar),E.years=ne("years accessor is deprecated. Use year instead",sr),E.zone=ne("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",as),E.isDSTShifted=ne("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",us);function jo(e){return X(e*1e3)}function xo(){return X.apply(null,arguments).parseZone()}function Br(e){return e}var U=fe.prototype;U.calendar=It,U.longDateFormat=pa,U.invalidDate=Sa,U.ordinal=ba,U.preparse=Br,U.postformat=Br,U.relativeTime=Pa,U.pastFuture=Ea,U.set=je,U.eras=Qs,U.erasParse=Xs,U.erasConvertYear=eo,U.erasAbbrRegex=so,U.erasNameRegex=io,U.erasNarrowRegex=oo,U.months=Ya,U.monthsShort=$a,U.monthsParse=Ha,U.monthsRegex=Ga,U.monthsShortRegex=Ua,U.week=za,U.firstDayOfYear=qa,U.firstDayOfWeek=Za,U.weekdays=oi,U.weekdaysMin=ci,U.weekdaysShort=li,U.weekdaysParse=mi,U.weekdaysRegex=yi,U.weekdaysShortRegex=pi,U.weekdaysMinRegex=gi,U.isPM=vi,U.meridiem=Di;function Jt(e,t,n,i){var c=ke(),f=g().set(i,t);return c[n](f,e)}function Cr(e,t,n){if(y(e)&&(t=e,e=void 0),e=e||"",t!=null)return Jt(e,t,n,"month");var i,c=[];for(i=0;i<12;i++)c[i]=Jt(e,i,n,"month");return c}function kn(e,t,n,i){typeof e=="boolean"?(y(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,y(t)&&(n=t,t=void 0),t=t||"");var c=ke(),f=e?c._week.dow:0,v,k=[];if(n!=null)return Jt(t,(n+f)%7,i,"day");for(v=0;v<7;v++)k[v]=Jt(t,(v+f)%7,i,"day");return k}function To(e,t){return Cr(e,t,"months")}function Io(e,t){return Cr(e,t,"monthsShort")}function _o(e,t,n){return kn(e,t,n,"weekdays")}function ko(e,t,n){return kn(e,t,n,"weekdaysShort")}function Mo(e,t,n){return kn(e,t,n,"weekdaysMin")}Ae("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Y(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}}),a.lang=ne("moment.lang is deprecated. Use moment.locale instead.",Ae),a.langData=ne("moment.langData is deprecated. Use moment.localeData instead.",ke);var Me=Math.abs;function Bo(){var e=this._data;return this._milliseconds=Me(this._milliseconds),this._days=Me(this._days),this._months=Me(this._months),e.milliseconds=Me(e.milliseconds),e.seconds=Me(e.seconds),e.minutes=Me(e.minutes),e.hours=Me(e.hours),e.months=Me(e.months),e.years=Me(e.years),this}function Nr(e,t,n,i){var c=De(t,n);return e._milliseconds+=i*c._milliseconds,e._days+=i*c._days,e._months+=i*c._months,e._bubble()}function Co(e,t){return Nr(this,e,t,1)}function No(e,t){return Nr(this,e,t,-1)}function Fr(e){return e<0?Math.floor(e):Math.ceil(e)}function Fo(){var e=this._milliseconds,t=this._days,n=this._months,i=this._data,c,f,v,k,R;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=Fr(Mn(n)+t)*864e5,t=0,n=0),i.milliseconds=e%1e3,c=ve(e/1e3),i.seconds=c%60,f=ve(c/60),i.minutes=f%60,v=ve(f/60),i.hours=v%24,t+=ve(v/24),R=ve(Ar(t)),n+=R,t-=Fr(Mn(R)),k=ve(n/12),n%=12,i.days=t,i.months=n,i.years=k,this}function Ar(e){return e*4800/146097}function Mn(e){return e*146097/4800}function Ao(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if(e=Se(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+i/864e5,n=this._months+Ar(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Mn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return t*24+i/36e5;case"minute":return t*1440+i/6e4;case"second":return t*86400+i/1e3;case"millisecond":return Math.floor(t*864e5)+i;default:throw new Error("Unknown unit "+e)}}function Ro(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Y(this._months/12)*31536e6:NaN}function Be(e){return function(){return this.as(e)}}var Yo=Be("ms"),$o=Be("s"),Lo=Be("m"),Ho=Be("h"),Wo=Be("d"),Uo=Be("w"),Go=Be("M"),Vo=Be("Q"),Ko=Be("y");function zo(){return De(this)}function Jo(e){return e=Se(e),this.isValid()?this[e+"s"]():NaN}function Ve(e){return function(){return this.isValid()?this._data[e]:NaN}}var Zo=Ve("milliseconds"),qo=Ve("seconds"),Qo=Ve("minutes"),Xo=Ve("hours"),el=Ve("days"),tl=Ve("months"),nl=Ve("years");function rl(){return ve(this.days()/7)}var Ce=Math.round,st={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function al(e,t,n,i,c){return c.relativeTime(t||1,!!n,e,i)}function il(e,t,n,i){var c=De(e).abs(),f=Ce(c.as("s")),v=Ce(c.as("m")),k=Ce(c.as("h")),R=Ce(c.as("d")),J=Ce(c.as("M")),me=Ce(c.as("w")),Ne=Ce(c.as("y")),Ye=f<=n.ss&&["s",f]||f<n.s&&["ss",f]||v<=1&&["m"]||v<n.m&&["mm",v]||k<=1&&["h"]||k<n.h&&["hh",k]||R<=1&&["d"]||R<n.d&&["dd",R];return n.w!=null&&(Ye=Ye||me<=1&&["w"]||me<n.w&&["ww",me]),Ye=Ye||J<=1&&["M"]||J<n.M&&["MM",J]||Ne<=1&&["y"]||["yy",Ne],Ye[2]=t,Ye[3]=+e>0,Ye[4]=i,al.apply(null,Ye)}function sl(e){return e===void 0?Ce:typeof e=="function"?(Ce=e,!0):!1}function ol(e,t){return st[e]===void 0?!1:t===void 0?st[e]:(st[e]=t,e==="s"&&(st.ss=t-1),!0)}function ll(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,i=st,c,f;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(i=Object.assign({},st,t),t.s!=null&&t.ss==null&&(i.ss=t.s-1)),c=this.localeData(),f=il(this,!n,i,c),n&&(f=c.pastFuture(+this,f)),c.postformat(f)}var Bn=Math.abs;function ot(e){return(e>0)-(e<0)||+e}function Zt(){if(!this.isValid())return this.localeData().invalidDate();var e=Bn(this._milliseconds)/1e3,t=Bn(this._days),n=Bn(this._months),i,c,f,v,k=this.asSeconds(),R,J,me,Ne;return k?(i=ve(e/60),c=ve(i/60),e%=60,i%=60,f=ve(n/12),n%=12,v=e?e.toFixed(3).replace(/\.?0+$/,""):"",R=k<0?"-":"",J=ot(this._months)!==ot(k)?"-":"",me=ot(this._days)!==ot(k)?"-":"",Ne=ot(this._milliseconds)!==ot(k)?"-":"",R+"P"+(f?J+f+"Y":"")+(n?J+n+"M":"")+(t?me+t+"D":"")+(c||i||e?"T":"")+(c?Ne+c+"H":"")+(i?Ne+i+"M":"")+(e?Ne+v+"S":"")):"P0D"}var H=Wt.prototype;H.isValid=Xi,H.abs=Bo,H.add=Co,H.subtract=No,H.as=Ao,H.asMilliseconds=Yo,H.asSeconds=$o,H.asMinutes=Lo,H.asHours=Ho,H.asDays=Wo,H.asWeeks=Uo,H.asMonths=Go,H.asQuarters=Vo,H.asYears=Ko,H.valueOf=Ro,H._bubble=Fo,H.clone=zo,H.get=Jo,H.milliseconds=Zo,H.seconds=qo,H.minutes=Qo,H.hours=Xo,H.days=el,H.weeks=rl,H.months=tl,H.years=nl,H.humanize=ll,H.toISOString=Zt,H.toString=Zt,H.toJSON=Zt,H.locale=Er,H.localeData=jr,H.toIsoString=ne("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Zt),H.lang=Or,_("X",0,0,"unix"),_("x",0,0,"valueOf"),j("x",Ft),j("X",Ia),z("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)}),z("x",function(e,t,n){n._d=new Date(Y(e))});return a.version="2.29.4",s(X),a.fn=E,a.min=Ji,a.max=Zi,a.now=qi,a.utc=g,a.unix=jo,a.months=To,a.isDate=h,a.locale=Ae,a.invalid=I,a.duration=De,a.isMoment=L,a.weekdays=_o,a.parseZone=xo,a.localeData=ke,a.isDuration=Ut,a.monthsShort=Io,a.weekdaysMin=Mo,a.defineLocale=wn,a.updateLocale=ji,a.locales=xi,a.weekdaysShort=ko,a.normalizeUnits=Se,a.relativeTimeRounding=sl,a.relativeTimeThreshold=ol,a.calendarFormat=Ds,a.prototype=E,a.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},a})});var Fl={};yl(Fl,{FinancialAccountingView:()=>F,default:()=>D,stateManager:()=>se});module.exports=gl(Fl);var Z=require("obsidian");var de=require("obsidian");var Sl=20,vl=1,Ke=1e6,Yr=1e6,wl=-7,bl=21,Dl=!1,Pt="[big.js] ",ze=Pt+"Invalid ",Qt=ze+"decimal places",Pl=ze+"rounding mode",$r=Pt+"Division by zero",V={},Oe=void 0,El=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Lr(){function r(a){var s=this;if(!(s instanceof r))return a===Oe&&arguments.length===0?Lr():new r(a);if(a instanceof r)s.s=a.s,s.e=a.e,s.c=a.c.slice();else{if(typeof a!="string"){if(r.strict===!0&&typeof a!="bigint")throw TypeError(ze+"value");a=a===0&&1/a<0?"-0":String(a)}Ol(s,a)}s.constructor=r}return r.prototype=V,r.DP=Sl,r.RM=vl,r.NE=wl,r.PE=bl,r.strict=Dl,r.roundDown=0,r.roundHalfUp=1,r.roundHalfEven=2,r.roundUp=3,r}function Ol(r,a){var s,o,l;if(!El.test(a))throw Error(ze+"number");for(r.s=a.charAt(0)=="-"?(a=a.slice(1),-1):1,(s=a.indexOf("."))>-1&&(a=a.replace(".","")),(o=a.search(/e/i))>0?(s<0&&(s=o),s+=+a.slice(o+1),a=a.substring(0,o)):s<0&&(s=a.length),l=a.length,o=0;o<l&&a.charAt(o)=="0";)++o;if(o==l)r.c=[r.e=0];else{for(;l>0&&a.charAt(--l)=="0";);for(r.e=s-o-1,r.c=[],s=0;o<=l;)r.c[s++]=+a.charAt(o++)}return r}function Je(r,a,s,o){var l=r.c;if(s===Oe&&(s=r.constructor.RM),s!==0&&s!==1&&s!==2&&s!==3)throw Error(Pl);if(a<1)o=s===3&&(o||!!l[0])||a===0&&(s===1&&l[0]>=5||s===2&&(l[0]>5||l[0]===5&&(o||l[1]!==Oe))),l.length=1,o?(r.e=r.e-a+1,l[0]=1):l[0]=r.e=0;else if(a<l.length){if(o=s===1&&l[a]>=5||s===2&&(l[a]>5||l[a]===5&&(o||l[a+1]!==Oe||l[a-1]&1))||s===3&&(o||!!l[0]),l.length=a,o){for(;++l[--a]>9;)if(l[a]=0,a===0){++r.e,l.unshift(1);break}}for(a=l.length;!l[--a];)l.pop()}return r}function Ze(r,a,s){var o=r.e,l=r.c.join(""),u=l.length;if(a)l=l.charAt(0)+(u>1?"."+l.slice(1):"")+(o<0?"e":"e+")+o;else if(o<0){for(;++o;)l="0"+l;l="0."+l}else if(o>0)if(++o>u)for(o-=u;o--;)l+="0";else o<u&&(l=l.slice(0,o)+"."+l.slice(o));else u>1&&(l=l.charAt(0)+"."+l.slice(1));return r.s<0&&s?"-"+l:l}V.abs=function(){var r=new this.constructor(this);return r.s=1,r};V.cmp=function(r){var a,s=this,o=s.c,l=(r=new s.constructor(r)).c,u=s.s,d=r.s,m=s.e,y=r.e;if(!o[0]||!l[0])return o[0]?u:l[0]?-d:0;if(u!=d)return u;if(a=u<0,m!=y)return m>y^a?1:-1;for(d=(m=o.length)<(y=l.length)?m:y,u=-1;++u<d;)if(o[u]!=l[u])return o[u]>l[u]^a?1:-1;return m==y?0:m>y^a?1:-1};V.div=function(r){var a=this,s=a.constructor,o=a.c,l=(r=new s(r)).c,u=a.s==r.s?1:-1,d=s.DP;if(d!==~~d||d<0||d>Ke)throw Error(Qt);if(!l[0])throw Error($r);if(!o[0])return r.s=u,r.c=[r.e=0],r;var m,y,h,w,b,g=l.slice(),S=m=l.length,p=o.length,P=o.slice(0,m),T=P.length,I=r,M=I.c=[],x=0,O=d+(I.e=a.e-r.e)+1;for(I.s=u,u=O<0?0:O,g.unshift(0);T++<m;)P.push(0);do{for(h=0;h<10;h++){if(m!=(T=P.length))w=m>T?1:-1;else for(b=-1,w=0;++b<m;)if(l[b]!=P[b]){w=l[b]>P[b]?1:-1;break}if(w<0){for(y=T==m?l:g;T;){if(P[--T]<y[T]){for(b=T;b&&!P[--b];)P[b]=9;--P[b],P[T]+=10}P[T]-=y[T]}for(;!P[0];)P.shift()}else break}M[x++]=w?h:++h,P[0]&&w?P[T]=o[S]||0:P=[o[S]]}while((S++<p||P[0]!==Oe)&&u--);return!M[0]&&x!=1&&(M.shift(),I.e--,O--),x>O&&Je(I,O,s.RM,P[0]!==Oe),I};V.eq=function(r){return this.cmp(r)===0};V.gt=function(r){return this.cmp(r)>0};V.gte=function(r){return this.cmp(r)>-1};V.lt=function(r){return this.cmp(r)<0};V.lte=function(r){return this.cmp(r)<1};V.minus=V.sub=function(r){var a,s,o,l,u=this,d=u.constructor,m=u.s,y=(r=new d(r)).s;if(m!=y)return r.s=-y,u.plus(r);var h=u.c.slice(),w=u.e,b=r.c,g=r.e;if(!h[0]||!b[0])return b[0]?r.s=-y:h[0]?r=new d(u):r.s=1,r;if(m=w-g){for((l=m<0)?(m=-m,o=h):(g=w,o=b),o.reverse(),y=m;y--;)o.push(0);o.reverse()}else for(s=((l=h.length<b.length)?h:b).length,m=y=0;y<s;y++)if(h[y]!=b[y]){l=h[y]<b[y];break}if(l&&(o=h,h=b,b=o,r.s=-r.s),(y=(s=b.length)-(a=h.length))>0)for(;y--;)h[a++]=0;for(y=a;s>m;){if(h[--s]<b[s]){for(a=s;a&&!h[--a];)h[a]=9;--h[a],h[s]+=10}h[s]-=b[s]}for(;h[--y]===0;)h.pop();for(;h[0]===0;)h.shift(),--g;return h[0]||(r.s=1,h=[g=0]),r.c=h,r.e=g,r};V.mod=function(r){var a,s=this,o=s.constructor,l=s.s,u=(r=new o(r)).s;if(!r.c[0])throw Error($r);return s.s=r.s=1,a=r.cmp(s)==1,s.s=l,r.s=u,a?new o(s):(l=o.DP,u=o.RM,o.DP=o.RM=0,s=s.div(r),o.DP=l,o.RM=u,this.minus(s.times(r)))};V.neg=function(){var r=new this.constructor(this);return r.s=-r.s,r};V.plus=V.add=function(r){var a,s,o,l=this,u=l.constructor;if(r=new u(r),l.s!=r.s)return r.s=-r.s,l.minus(r);var d=l.e,m=l.c,y=r.e,h=r.c;if(!m[0]||!h[0])return h[0]||(m[0]?r=new u(l):r.s=l.s),r;if(m=m.slice(),a=d-y){for(a>0?(y=d,o=h):(a=-a,o=m),o.reverse();a--;)o.push(0);o.reverse()}for(m.length-h.length<0&&(o=h,h=m,m=o),a=h.length,s=0;a;m[a]%=10)s=(m[--a]=m[a]+h[a]+s)/10|0;for(s&&(m.unshift(s),++y),a=m.length;m[--a]===0;)m.pop();return r.c=m,r.e=y,r};V.pow=function(r){var a=this,s=new a.constructor("1"),o=s,l=r<0;if(r!==~~r||r<-Yr||r>Yr)throw Error(ze+"exponent");for(l&&(r=-r);r&1&&(o=o.times(a)),r>>=1,!!r;)a=a.times(a);return l?s.div(o):o};V.prec=function(r,a){if(r!==~~r||r<1||r>Ke)throw Error(ze+"precision");return Je(new this.constructor(this),r,a)};V.round=function(r,a){if(r===Oe)r=0;else if(r!==~~r||r<-Ke||r>Ke)throw Error(Qt);return Je(new this.constructor(this),r+this.e+1,a)};V.sqrt=function(){var r,a,s,o=this,l=o.constructor,u=o.s,d=o.e,m=new l("0.5");if(!o.c[0])return new l(o);if(u<0)throw Error(Pt+"No square root");u=Math.sqrt(+Ze(o,!0,!0)),u===0||u===1/0?(a=o.c.join(""),a.length+d&1||(a+="0"),u=Math.sqrt(a),d=((d+1)/2|0)-(d<0||d&1),r=new l((u==1/0?"5e":(u=u.toExponential()).slice(0,u.indexOf("e")+1))+d)):r=new l(u+""),d=r.e+(l.DP+=4);do s=r,r=m.times(s.plus(o.div(s)));while(s.c.slice(0,d).join("")!==r.c.slice(0,d).join(""));return Je(r,(l.DP-=4)+r.e+1,l.RM)};V.times=V.mul=function(r){var a,s=this,o=s.constructor,l=s.c,u=(r=new o(r)).c,d=l.length,m=u.length,y=s.e,h=r.e;if(r.s=s.s==r.s?1:-1,!l[0]||!u[0])return r.c=[r.e=0],r;for(r.e=y+h,d<m&&(a=l,l=u,u=a,h=d,d=m,m=h),a=new Array(h=d+m);h--;)a[h]=0;for(y=m;y--;){for(m=0,h=d+y;h>y;)m=a[h]+u[y]*l[h-y-1]+m,a[h--]=m%10,m=m/10|0;a[h]=m}for(m?++r.e:a.shift(),y=a.length;!a[--y];)a.pop();return r.c=a,r};V.toExponential=function(r,a){var s=this,o=s.c[0];if(r!==Oe){if(r!==~~r||r<0||r>Ke)throw Error(Qt);for(s=Je(new s.constructor(s),++r,a);s.c.length<r;)s.c.push(0)}return Ze(s,!0,!!o)};V.toFixed=function(r,a){var s=this,o=s.c[0];if(r!==Oe){if(r!==~~r||r<0||r>Ke)throw Error(Qt);for(s=Je(new s.constructor(s),r+s.e+1,a),r=r+s.e+1;s.c.length<r;)s.c.push(0)}return Ze(s,!1,!!o)};V.toJSON=V.toString=function(){var r=this,a=r.constructor;return Ze(r,r.e<=a.NE||r.e>=a.PE,!!r.c[0])};typeof Symbol!="undefined"&&(V[Symbol.for("nodejs.util.inspect.custom")]=V.toJSON);V.toNumber=function(){var r=+Ze(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(r.toString()))throw Error(Pt+"Imprecise conversion");return r};V.toPrecision=function(r,a){var s=this,o=s.constructor,l=s.c[0];if(r!==Oe){if(r!==~~r||r<1||r>Ke)throw Error(ze+"precision");for(s=Je(new o(s),r,a);s.c.length<r;)s.c.push(0)}return Ze(s,r<=s.e||s.e<=o.NE||s.e>=o.PE,!!l)};V.valueOf=function(){var r=this,a=r.constructor;if(a.strict===!0)throw Error(Pt+"valueOf disallowed");return Ze(r,r.e<=a.NE||r.e>=a.PE,!0)};var jl=Lr(),C=jl;var Cn={AED:{name:"United Arab Emirates Dirham",demonym:"UAE",majorSingle:"Dirham",majorPlural:"Dirhams",ISOnum:784,symbol:"\u062F.\u0625.",symbolNative:"\u062F.\u0625.",minorSingle:"Fils",minorPlural:"Fils",ISOdigits:2,decimals:2,numToBasic:100},AFN:{name:"Afghan Afghani",demonym:"Afghan",majorSingle:"Afghani",majorPlural:"Afghani",ISOnum:971,symbol:"Af",symbolNative:"\u060B",minorSingle:"Pul",minorPlural:"Pul",ISOdigits:2,decimals:2,numToBasic:100},ALL:{name:"Albanian Lek",demonym:"Albanian",majorSingle:"Lek",majorPlural:"Lek\xEB",ISOnum:8,symbol:"L",symbolNative:"L",minorSingle:"Qindarka",minorPlural:"Qindarka",ISOdigits:2,decimals:2,numToBasic:100},AMD:{name:"Armenian Dram",demonym:"Armenian",majorSingle:"Dram",majorPlural:"Dram",ISOnum:51,symbol:"\u058F",symbolNative:"\u0564\u0580",minorSingle:"Luma",minorPlural:"Luma",ISOdigits:2,decimals:2,numToBasic:100},ANG:{name:"Netherlands Antillean Guilder",demonym:"Netherlands Antillean",majorSingle:"Guilder",majorPlural:"Guilders",ISOnum:532,symbol:"\u0192",symbolNative:"\u0192",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},AOA:{name:"Angolan Kwanza",demonym:"Angolan",majorSingle:"Kwanza",majorPlural:"Kwanza",ISOnum:973,symbol:"Kz",symbolNative:"Kz",minorSingle:"Centimo",minorPlural:"Centimos",ISOdigits:2,decimals:2,numToBasic:100},ARS:{name:"Argentine Peso",demonym:"Argentine",majorSingle:"Peso",majorPlural:"Pesos",ISOnum:32,symbol:"AR$",symbolNative:"$",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},AUD:{name:"Australian Dollar",demonym:"Australian",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:36,symbol:"AU$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},AWG:{name:"Aruban Florin",demonym:"Aruban",majorSingle:"Florin",majorPlural:"Florin",ISOnum:533,symbol:"\u0192",symbolNative:"\u0192",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},AZN:{name:"Azerbaijani Manat",demonym:"Azerbaijani",majorSingle:"Manat",majorPlural:"Manat",ISOnum:944,symbol:"\u043C\u0430\u043D",symbolNative:"\u20BC",minorSingle:"Qapik",minorPlural:"Qapik",ISOdigits:2,decimals:2,numToBasic:100},BAM:{name:"Bosnia and Herzegovina Convertible Mark",demonym:"Bosnia-Herzegovina",majorSingle:"Convertible Mark",majorPlural:"Marks",ISOnum:977,symbol:"KM",symbolNative:"\u041A\u041C",minorSingle:"Fening",minorPlural:"Fening",ISOdigits:2,decimals:2,numToBasic:100},BBD:{name:"Barbadian Dollar",demonym:"Barbadian",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:52,symbol:"BBD$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},BDT:{name:"Bangladeshi Taka",demonym:"Bangladeshi",majorSingle:"Taka",majorPlural:"Taka",ISOnum:50,symbol:"\u09F3",symbolNative:"\u09F3",minorSingle:"Poisha",minorPlural:"Poisha",ISOdigits:2,decimals:2,numToBasic:100},BGN:{name:"Bulgarian Lev",demonym:"Bulgarian",majorSingle:"Lev",majorPlural:"Leva",ISOnum:975,symbol:"\u043B\u0432.",symbolNative:"\u043B\u0432.",minorSingle:"Stotinka",minorPlural:"Stotinki",ISOdigits:2,decimals:2,numToBasic:100},BHD:{name:"Bahraini Dinar",demonym:"Bahraini",majorSingle:"Dinar",majorPlural:"Dinars",ISOnum:48,symbol:"BD",symbolNative:"\u062F.\u0628.",minorSingle:"Fils",minorPlural:"Fils",ISOdigits:3,decimals:3,numToBasic:1e3},BIF:{name:"Burundian Franc",demonym:"Burundian",majorSingle:"Franc",majorPlural:"Francs",ISOnum:108,symbol:"FBu",symbolNative:"FBu",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:0,decimals:2,numToBasic:100},BMD:{name:"Bermudian Dollar",demonym:"Bermudian",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:60,symbol:"$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},BND:{name:"Brunei Dollar",demonym:"Brunei",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:96,symbol:"B$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},BOB:{name:"Bolivian Boliviano",demonym:"Bolivian",majorSingle:"Boliviano",majorPlural:"Bolivianos",ISOnum:68,symbol:"Bs.",symbolNative:"Bs.",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},BRL:{name:"Brazilian Real",demonym:"Brazilian",majorSingle:"Real",majorPlural:"Reais",ISOnum:986,symbol:"R$",symbolNative:"R$",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},BSD:{name:"Bahamian Dollar",demonym:"Bahamian",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:44,symbol:"$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},BTN:{name:"Bhutanese Ngultrum",demonym:"Bhutanese",majorSingle:"Ngultrum",majorPlural:"Ngultrums",ISOnum:64,symbol:"Nu.",symbolNative:"Nu.",minorSingle:"Chetrum",minorPlural:"Chetrums",ISOdigits:2,decimals:2,numToBasic:100},BWP:{name:"Botswana Pula",demonym:"Botswana",majorSingle:"Pula",majorPlural:"Pula",ISOnum:72,symbol:"P",symbolNative:"P",minorSingle:"Thebe",minorPlural:"Thebe",ISOdigits:2,decimals:2,numToBasic:100},BYN:{name:"Belarusian Ruble",demonym:"Belarusian",majorSingle:"Ruble",majorPlural:"Rubles",ISOnum:933,symbol:"Br",symbolNative:"\u0440\u0443\u0431.",minorSingle:"Kapiejka",minorPlural:"Kapiejka",ISOdigits:2,decimals:2,numToBasic:100},BZD:{name:"Belize Dollar",demonym:"Belize",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:84,symbol:"BZ$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},CAD:{name:"Canadian Dollar",demonym:"Canadian",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:124,symbol:"CA$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},CDF:{name:"Congolese Franc",demonym:"Congolese",majorSingle:"Franc",majorPlural:"Francs",ISOnum:976,symbol:"FC",symbolNative:"\u20A3",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:2,decimals:2,numToBasic:100},CHF:{name:"Swiss Franc",demonym:"Swiss",majorSingle:"Franc",majorPlural:"Francs",ISOnum:756,symbol:"Fr.",symbolNative:"\u20A3",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:2,decimals:2,numToBasic:100},CKD:{name:"Cook Islands Dollar",demonym:"Cook Islands",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:null,symbol:"$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},CLP:{name:"Chilean Peso",demonym:"Chilean",majorSingle:"Peso",majorPlural:"Pesos",ISOnum:152,symbol:"CL$",symbolNative:"$",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:0,decimals:0,numToBasic:100},CNY:{name:"Chinese Yuan",demonym:"Chinese",majorSingle:"Yuan",majorPlural:"Yuan",ISOnum:156,symbol:"CN\xA5",symbolNative:"\xA5\u5143",minorSingle:"Fen",minorPlural:"Fen",ISOdigits:2,decimals:2,numToBasic:100},COP:{name:"Colombian Peso",demonym:"Colombian",majorSingle:"Peso",majorPlural:"Pesos",ISOnum:170,symbol:"CO$",symbolNative:"$",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},CRC:{name:"Costa Rican Colon",demonym:"Costa Rican",majorSingle:"Col\xF3n",majorPlural:"Colones",ISOnum:188,symbol:"\u20A1",symbolNative:"\u20A1",minorSingle:"Centimo",minorPlural:"Centimos",ISOdigits:2,decimals:2,numToBasic:100},CUC:{name:"Cuban convertible Peso",demonym:"Cuban Convertible",majorSingle:"Peso",majorPlural:"Pesos",ISOnum:931,symbol:"CUC$",symbolNative:"$",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},CUP:{name:"Cuban Peso",demonym:"Cuban",majorSingle:"Peso",majorPlural:"Pesos",ISOnum:192,symbol:"$MN",symbolNative:"\u20B1",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},CVE:{name:"Cabo Verdean Escudo",demonym:"Cabo Verdean",majorSingle:"Escudo",majorPlural:"Escudo",ISOnum:132,symbol:"CV$",symbolNative:"$",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},CZK:{name:"Czech Koruna",demonym:"Czech",majorSingle:"Koruna",majorPlural:"Koruny",ISOnum:203,symbol:"K\u010D",symbolNative:"K\u010D",minorSingle:"Hal\xE9\u0159",minorPlural:"Hal\xE9\u0159",ISOdigits:2,decimals:2,numToBasic:100},DJF:{name:"Djiboutian Franc",demonym:"Djiboutian",majorSingle:"Franc",majorPlural:"Francs",ISOnum:262,symbol:"Fdj",symbolNative:"\u0641.\u062C.",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:0,decimals:2,numToBasic:100},DKK:{name:"Danish Krone",demonym:"Danish",majorSingle:"Krone",majorPlural:"Kroner",ISOnum:208,symbol:"kr.",symbolNative:"kr.",minorSingle:"\xD8re",minorPlural:"\xD8re",ISOdigits:2,decimals:2,numToBasic:100},DOP:{name:"Dominican Peso",demonym:"Dominican",majorSingle:"Peso",majorPlural:"Pesos",ISOnum:214,symbol:"RD$",symbolNative:"$",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},DZD:{name:"Algerian Dinar",demonym:"Algerian",majorSingle:"Dinar",majorPlural:"Dinars",ISOnum:12,symbol:"DA",symbolNative:"\u062F.\u062C.",minorSingle:"Santeem",minorPlural:"Santeems",ISOdigits:2,decimals:2,numToBasic:100},EGP:{name:"Egyptian Pound",demonym:"Egyptian",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:818,symbol:"E\xA3",symbolNative:"\u062C.\u0645.",minorSingle:"Qirsh",minorPlural:"Qirsh",ISOdigits:2,decimals:2,numToBasic:100},EHP:{name:"Sahrawi Peseta",demonym:"Sahrawi",majorSingle:"Peseta",majorPlural:"Pesetas",ISOnum:null,symbol:"Ptas.",symbolNative:"Ptas.",minorSingle:"C\xE9ntimo",minorPlural:"C\xE9ntimos",ISOdigits:2,decimals:2,numToBasic:100},ERN:{name:"Eritrean Nakfa",demonym:"Eritrean",majorSingle:"Nakfa",majorPlural:"Nakfa",ISOnum:232,symbol:"Nkf",symbolNative:"\u0646\u0627\u0643\u0641\u0627",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},ETB:{name:"Ethiopian Birr",demonym:"Ethiopian",majorSingle:"Birr",majorPlural:"Birr",ISOnum:230,symbol:"Br",symbolNative:"\u1265\u122D",minorSingle:"Santim",minorPlural:"Santim",ISOdigits:2,decimals:2,numToBasic:100},EUR:{name:"Euro",demonym:"",majorSingle:"Euro",majorPlural:"Euros",ISOnum:978,symbol:"\u20AC",symbolNative:"\u20AC",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},FJD:{name:"Fijian Dollar",demonym:"Fijian",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:242,symbol:"FJ$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},FKP:{name:"Falkland Islands Pound",demonym:"Falkland Islands",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:238,symbol:"FK\xA3",symbolNative:"\xA3",minorSingle:"Penny",minorPlural:"Pence",ISOdigits:2,decimals:2,numToBasic:100},FOK:{name:"Faroese Kr\xF3na",demonym:"Faroese",majorSingle:"Kr\xF3na",majorPlural:"Kr\xF3nas",ISOnum:null,symbol:"kr",symbolNative:"kr",minorSingle:"Oyra",minorPlural:"Oyra",ISOdigits:2,decimals:2,numToBasic:100},GBP:{name:"Pound Sterling",demonym:"Pound Sterling",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:826,symbol:"\xA3",symbolNative:"\xA3",minorSingle:"Penny",minorPlural:"Pence",ISOdigits:2,decimals:2,numToBasic:100},GEL:{name:"Georgian Lari",demonym:"Georgian",majorSingle:"Lari",majorPlural:"Lari",ISOnum:981,symbol:"\u20BE",symbolNative:"\u20BE",minorSingle:"Tetri",minorPlural:"Tetri",ISOdigits:2,decimals:2,numToBasic:100},GGP:{name:"Guernsey Pound",demonym:"Guernsey",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:null,symbol:"\xA3",symbolNative:"\xA3",minorSingle:"Penny",minorPlural:"Pence",ISOdigits:2,decimals:2,numToBasic:100},GHS:{name:"Ghanaian Cedi",demonym:"Ghanaian",majorSingle:"Cedi",majorPlural:"Cedis",ISOnum:936,symbol:"GH\u20B5",symbolNative:"\u20B5",minorSingle:"Pesewa",minorPlural:"Pesewas",ISOdigits:2,decimals:2,numToBasic:100},GIP:{name:"Gibraltar Pound",demonym:"Gibraltar",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:292,symbol:"\xA3",symbolNative:"\xA3",minorSingle:"Penny",minorPlural:"Pence",ISOdigits:2,decimals:2,numToBasic:100},GMD:{name:"Gambian Dalasi",demonym:"Gambian",majorSingle:"Dalasi",majorPlural:"Dalasis",ISOnum:270,symbol:"D",symbolNative:"D",minorSingle:"Butut",minorPlural:"Bututs",ISOdigits:2,decimals:2,numToBasic:100},GNF:{name:"Guinean Franc",demonym:"Guinean",majorSingle:"Franc",majorPlural:"Francs",ISOnum:324,symbol:"FG",symbolNative:"FG",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:0,decimals:2,numToBasic:100},GTQ:{name:"Guatemalan Quetzal",demonym:"Guatemalan",majorSingle:"Quetzal",majorPlural:"Quetzales",ISOnum:320,symbol:"Q",symbolNative:"$",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},GYD:{name:"Guyanese Dollar",demonym:"Guyanese",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:328,symbol:"G$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},HKD:{name:"Hong Kong Dollar",demonym:"Hong Kong",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:344,symbol:"HK$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},HNL:{name:"Honduran Lempira",demonym:"Honduran",majorSingle:"Lempira",majorPlural:"Lempiras",ISOnum:340,symbol:"L",symbolNative:"L",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},HRK:{name:"Croatian Kuna",demonym:"Croatian",majorSingle:"Kuna",majorPlural:"Kuna",ISOnum:191,symbol:"kn",symbolNative:"kn",minorSingle:"Lipa",minorPlural:"Lipa",ISOdigits:2,decimals:2,numToBasic:100},HTG:{name:"Haitian Gourde",demonym:"Haitian",majorSingle:"Gourde",majorPlural:"Gourdes",ISOnum:332,symbol:"G",symbolNative:"G",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:2,decimals:2,numToBasic:100},HUF:{name:"Hungarian Forint",demonym:"Hungarian",majorSingle:"Forint",majorPlural:"Forint",ISOnum:348,symbol:"Ft",symbolNative:"Ft",minorSingle:"fill\xE9r",minorPlural:"fill\xE9r",ISOdigits:2,decimals:2,numToBasic:100},IDR:{name:"Indonesian Rupiah",demonym:"Indonesian",majorSingle:"Rupiah",majorPlural:"Rupiah",ISOnum:360,symbol:"Rp",symbolNative:"Rp",minorSingle:"Sen",minorPlural:"Sen",ISOdigits:2,decimals:2,numToBasic:100},ILS:{name:"Israeli new Shekel",demonym:"Israeli",majorSingle:"Shekel",majorPlural:"Shekels",ISOnum:376,symbol:"\u20AA",symbolNative:"\u20AA",minorSingle:"Agora",minorPlural:"Agoras",ISOdigits:2,decimals:2,numToBasic:100},IMP:{name:"Manx Pound",demonym:"Manx",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:null,symbol:"\xA3",symbolNative:"\xA3",minorSingle:"Penny",minorPlural:"Pence",ISOdigits:2,decimals:2,numToBasic:100},INR:{name:"Indian Rupee",demonym:"Indian",majorSingle:"Rupee",majorPlural:"Rupees",ISOnum:356,symbol:"Rs.",symbolNative:"\u20B9",minorSingle:"Paisa",minorPlural:"Paise",ISOdigits:2,decimals:2,numToBasic:100},IQD:{name:"Iraqi Dinar",demonym:"Iraqi",majorSingle:"Dinar",majorPlural:"Dinars",ISOnum:368,symbol:"\u062F.\u0639.",symbolNative:"\u062F.\u0639.",minorSingle:"Fils",minorPlural:"Fils",ISOdigits:3,decimals:3,numToBasic:1e3},IRR:{name:"Iranian Rial",demonym:"Iranian",majorSingle:"Rial",majorPlural:"Rials",ISOnum:364,symbol:"\uFDFC",symbolNative:"\uFDFC",minorSingle:"Dinar",minorPlural:"Dinars",ISOdigits:2,decimals:2,numToBasic:100},ISK:{name:"Icelandic Krona",demonym:"Icelandic",majorSingle:"Krona",majorPlural:"Kr\xF3nur",ISOnum:352,symbol:"kr",symbolNative:"kr",minorSingle:"Aurar",minorPlural:"Aurar",ISOdigits:0,decimals:2,numToBasic:100},JEP:{name:"Jersey Pound",demonym:"Jersey",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:null,symbol:"\xA3",symbolNative:"\xA3",minorSingle:"Penny",minorPlural:"Pence",ISOdigits:2,decimals:2,numToBasic:100},JMD:{name:"Jamaican Dollar",demonym:"Jamaican",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:388,symbol:"J$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},JOD:{name:"Jordanian Dinar",demonym:"Jordanian",majorSingle:"Dinar",majorPlural:"Dinars",ISOnum:400,symbol:"JD",symbolNative:"\u062F.\u0623.",minorSingle:"Fils",minorPlural:"Fils",ISOdigits:3,decimals:3,numToBasic:1e3},JPY:{name:"Japanese Yen",demonym:"Japanese",majorSingle:"Yen",majorPlural:"Yen",ISOnum:392,symbol:"\xA5",symbolNative:"\xA5",minorSingle:"Sen",minorPlural:"Sen",ISOdigits:0,decimals:2,numToBasic:100},KES:{name:"Kenyan Shilling",demonym:"Kenyan",majorSingle:"Shilling",majorPlural:"Shillings",ISOnum:404,symbol:"KSh",symbolNative:"KSh",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},KGS:{name:"Kyrgyzstani Som",demonym:"Kyrgyzstani",majorSingle:"Som",majorPlural:"Som",ISOnum:417,symbol:"\u0441",symbolNative:"\u0441",minorSingle:"Tyiyn",minorPlural:"Tyiyn",ISOdigits:2,decimals:2,numToBasic:100},KHR:{name:"Cambodian Riel",demonym:"Cambodian",majorSingle:"Riel",majorPlural:"Riels",ISOnum:116,symbol:"\u17DB",symbolNative:"\u17DB",minorSingle:"Sen",minorPlural:"Sen",ISOdigits:2,decimals:2,numToBasic:100},KID:{name:"Kiribati Dollar",demonym:"Kiribati",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:null,symbol:"$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},KMF:{name:"Comorian Franc",demonym:"Comorian",majorSingle:"Franc",majorPlural:"Francs",ISOnum:174,symbol:"CF",symbolNative:"CF",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:0,decimals:2,numToBasic:100},KPW:{name:"North Korean Won",demonym:"North Korean",majorSingle:"Won",majorPlural:"Won",ISOnum:408,symbol:"\u20A9",symbolNative:"\u20A9",minorSingle:"Chon",minorPlural:"Chon",ISOdigits:2,decimals:2,numToBasic:100},KRW:{name:"South Korean Won",demonym:"South Korean",majorSingle:"Won",majorPlural:"Won",ISOnum:410,symbol:"\u20A9",symbolNative:"\u20A9",minorSingle:"Jeon",minorPlural:"Jeon",ISOdigits:0,decimals:2,numToBasic:100},KWD:{name:"Kuwaiti Dinar",demonym:"Kuwaiti",majorSingle:"Dinar",majorPlural:"Dinars",ISOnum:414,symbol:"KD",symbolNative:"\u062F.\u0643.",minorSingle:"Fils",minorPlural:"Fils",ISOdigits:3,decimals:3,numToBasic:1e3},KYD:{name:"Cayman Islands Dollar",demonym:"Cayman Islands",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:136,symbol:"CI$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},KZT:{name:"Kazakhstani Tenge",demonym:"Kazakhstani",majorSingle:"Tenge",majorPlural:"Tenge",ISOnum:398,symbol:"\u20B8",symbolNative:"\u20B8",minorSingle:"T\u0131yn",minorPlural:"T\u0131yn",ISOdigits:2,decimals:2,numToBasic:100},LAK:{name:"Lao Kip",demonym:"Lao",majorSingle:"Kip",majorPlural:"Kip",ISOnum:418,symbol:"\u20ADN",symbolNative:"\u20AD",minorSingle:"Att",minorPlural:"Att",ISOdigits:2,decimals:2,numToBasic:100},LBP:{name:"Lebanese Pound",demonym:"Lebanese",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:422,symbol:"LL.",symbolNative:"\u0644.\u0644.",minorSingle:"Qirsh",minorPlural:"Qirsh",ISOdigits:2,decimals:2,numToBasic:100},LKR:{name:"Sri Lankan Rupee",demonym:"Sri Lankan",majorSingle:"Rupee",majorPlural:"Rupees",ISOnum:144,symbol:"Rs.",symbolNative:"\u0DBB\u0DD4 or \u0BB0\u0BC2",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},LRD:{name:"Liberian Dollar",demonym:"Liberian",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:430,symbol:"L$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},LSL:{name:"Lesotho Loti",demonym:"Lesotho",majorSingle:"Loti",majorPlural:"maLoti",ISOnum:426,symbol:"L",symbolNative:"L",minorSingle:"Sente",minorPlural:"Lisente",ISOdigits:2,decimals:2,numToBasic:100},LYD:{name:"Libyan Dinar",demonym:"Libyan",majorSingle:"Dinar",majorPlural:"Dinars",ISOnum:434,symbol:"LD",symbolNative:"\u0644.\u062F.",minorSingle:"Dirham",minorPlural:"Dirhams",ISOdigits:3,decimals:3,numToBasic:1e3},MAD:{name:"Moroccan Dirham",demonym:"Moroccan",majorSingle:"Dirham",majorPlural:"Dirhams",ISOnum:504,symbol:"DH",symbolNative:"\u062F.\u0645.",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:2,decimals:2,numToBasic:100},MDL:{name:"Moldovan Leu",demonym:"Moldovan",majorSingle:"Leu",majorPlural:"Lei",ISOnum:498,symbol:"L",symbolNative:"L",minorSingle:"Ban",minorPlural:"Bani",ISOdigits:2,decimals:2,numToBasic:100},MGA:{name:"Malagasy Ariary",demonym:"Malagasy",majorSingle:"Ariary",majorPlural:"Ariary",ISOnum:969,symbol:"Ar",symbolNative:"Ar",minorSingle:"Iraimbilanja",minorPlural:"Iraimbilanja",ISOdigits:2,decimals:0,numToBasic:5},MKD:{name:"Macedonian Denar",demonym:"Macedonian",majorSingle:"Denar",majorPlural:"Denars",ISOnum:807,symbol:"den",symbolNative:"\u0434\u0435\u043D",minorSingle:"Deni",minorPlural:"Deni",ISOdigits:2,decimals:2,numToBasic:100},MMK:{name:"Myanmar Kyat",demonym:"Myanmar",majorSingle:"Kyat",majorPlural:"Kyat",ISOnum:104,symbol:"Ks",symbolNative:"Ks",minorSingle:"Pya",minorPlural:"Pya",ISOdigits:2,decimals:2,numToBasic:100},MNT:{name:"Mongolian T\xF6gr\xF6g",demonym:"Mongolian",majorSingle:"T\xF6gr\xF6g",majorPlural:"T\xF6gr\xF6g",ISOnum:496,symbol:"\u20AE",symbolNative:"\u20AE",minorSingle:"m\xF6ng\xF6",minorPlural:"m\xF6ng\xF6",ISOdigits:2,decimals:2,numToBasic:100},MOP:{name:"Macanese Pataca",demonym:"Macanese",majorSingle:"Pataca",majorPlural:"Patacas",ISOnum:446,symbol:"MOP$",symbolNative:"MOP$",minorSingle:"Avo",minorPlural:"Avos",ISOdigits:2,decimals:2,numToBasic:100},MRU:{name:"Mauritanian Ouguiya",demonym:"Mauritanian",majorSingle:"Ouguiya",majorPlural:"Ouguiya",ISOnum:929,symbol:"UM",symbolNative:"\u0623.\u0645.",minorSingle:"Khoums",minorPlural:"Khoums",ISOdigits:2,decimals:0,numToBasic:5},MUR:{name:"Mauritian Rupee",demonym:"Mauritian",majorSingle:"Rupee",majorPlural:"Rupees",ISOnum:480,symbol:"Rs.",symbolNative:"\u0930\u0941 ",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},MVR:{name:"Maldivian Rufiyaa",demonym:"Maldivian",majorSingle:"Rufiyaa",majorPlural:"Rufiyaa",ISOnum:462,symbol:"MRf",symbolNative:".\u0783",minorSingle:"laari",minorPlural:"laari",ISOdigits:2,decimals:2,numToBasic:100},MWK:{name:"Malawian Kwacha",demonym:"Malawian",majorSingle:"Kwacha",majorPlural:"Kwacha",ISOnum:454,symbol:"MK",symbolNative:"MK",minorSingle:"Tambala",minorPlural:"Tambala",ISOdigits:2,decimals:2,numToBasic:100},MXN:{name:"Mexican Peso",demonym:"Mexican",majorSingle:"Peso",majorPlural:"Pesos",ISOnum:484,symbol:"MX$",symbolNative:"$",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},MYR:{name:"Malaysian Ringgit",demonym:"Malaysian",majorSingle:"Ringgit",majorPlural:"Ringgit",ISOnum:458,symbol:"RM",symbolNative:"RM",minorSingle:"Sen",minorPlural:"Sen",ISOdigits:2,decimals:2,numToBasic:100},MZN:{name:"Mozambican Metical",demonym:"Mozambican",majorSingle:"Metical",majorPlural:"Meticais",ISOnum:943,symbol:"MTn",symbolNative:"MT",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},NAD:{name:"Namibian Dollar",demonym:"Namibian",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:516,symbol:"N$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},NGN:{name:"Nigerian Naira",demonym:"Nigerian",majorSingle:"Naira",majorPlural:"Naira",ISOnum:566,symbol:"\u20A6",symbolNative:"\u20A6",minorSingle:"Kobo",minorPlural:"Kobo",ISOdigits:2,decimals:2,numToBasic:100},NIO:{name:"Nicaraguan C\xF3rdoba",demonym:"Nicaraguan",majorSingle:"C\xF3rdoba Oro",majorPlural:"C\xF3rdoba Oro",ISOnum:558,symbol:"C$",symbolNative:"C$",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},NOK:{name:"Norwegian Krone",demonym:"Norwegian",majorSingle:"Krone",majorPlural:"Kroner",ISOnum:578,symbol:"kr",symbolNative:"kr",minorSingle:"\xF8re",minorPlural:"\xF8re",ISOdigits:2,decimals:2,numToBasic:100},NPR:{name:"Nepalese Rupee",demonym:"Nepalese",majorSingle:"Rupee",majorPlural:"Rupees",ISOnum:524,symbol:"Rs.",symbolNative:"\u0930\u0942",minorSingle:"Paisa",minorPlural:"Paise",ISOdigits:2,decimals:2,numToBasic:100},NZD:{name:"New Zealand Dollar",demonym:"New Zealand",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:554,symbol:"NZ$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},OMR:{name:"Omani Rial",demonym:"Omani",majorSingle:"Rial",majorPlural:"Rials",ISOnum:512,symbol:"OR",symbolNative:"\u0631.\u0639.",minorSingle:"Baisa",minorPlural:"Baisa",ISOdigits:3,decimals:3,numToBasic:1e3},PAB:{name:"Panamanian Balboa",demonym:"Panamanian",majorSingle:"Balboa",majorPlural:"Balboa",ISOnum:590,symbol:"B/.",symbolNative:"B/.",minorSingle:"Cent\xE9simo",minorPlural:"Cent\xE9simos",ISOdigits:2,decimals:2,numToBasic:100},PEN:{name:"Peruvian Sol",demonym:"Peruvian",majorSingle:"Sol",majorPlural:"Soles",ISOnum:604,symbol:"S/.",symbolNative:"S/.",minorSingle:"C\xE9ntimo",minorPlural:"C\xE9ntimos",ISOdigits:2,decimals:2,numToBasic:100},PGK:{name:"Papua New Guinean Kina",demonym:"Papua New Guinean",majorSingle:"Kina",majorPlural:"Kina",ISOnum:598,symbol:"K",symbolNative:"K",minorSingle:"Toea",minorPlural:"Toea",ISOdigits:2,decimals:2,numToBasic:100},PHP:{name:"Philippine Peso",demonym:"Philippine",majorSingle:"Peso",majorPlural:"Pesos",ISOnum:608,symbol:"\u20B1",symbolNative:"\u20B1",minorSingle:"Sentimo",minorPlural:"Sentimo",ISOdigits:2,decimals:2,numToBasic:100},PKR:{name:"Pakistani Rupee",demonym:"Pakistani",majorSingle:"Rupee",majorPlural:"Rupees",ISOnum:586,symbol:"Rs.",symbolNative:"Rs",minorSingle:"Paisa",minorPlural:"Paise",ISOdigits:2,decimals:2,numToBasic:100},PLN:{name:"Polish Zloty",demonym:"Polish",majorSingle:"Zloty",majorPlural:"Zlotys",ISOnum:985,symbol:"z\u0142",symbolNative:"z\u0142",minorSingle:"Grosz",minorPlural:"Groszy",ISOdigits:2,decimals:2,numToBasic:100},PND:{name:"Pitcairn Islands Dollar",demonym:"Pitcairn Islands",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:null,symbol:"$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},PRB:{name:"Transnistrian Ruble",demonym:"Transnistrian",majorSingle:"Ruble",majorPlural:"Rubles",ISOnum:null,symbol:"\u0440.",symbolNative:"\u0440.",minorSingle:"Kopek",minorPlural:"Kopeks",ISOdigits:2,decimals:2,numToBasic:100},PYG:{name:"Paraguayan Guaran\xED",demonym:"Paraguayan",majorSingle:"Guaran\xED",majorPlural:"Guaran\xEDes",ISOnum:600,symbol:"\u20B2",symbolNative:"\u20B2",minorSingle:"Centimo",minorPlural:"Centimos",ISOdigits:0,decimals:2,numToBasic:100},QAR:{name:"Qatari Riyal",demonym:"Qatari",majorSingle:"Riyal",majorPlural:"Riyals",ISOnum:634,symbol:"QR",symbolNative:"\u0631.\u0642.",minorSingle:"Dirham",minorPlural:"Dirhams",ISOdigits:2,decimals:2,numToBasic:100},RON:{name:"Romanian Leu",demonym:"Romanian",majorSingle:"Leu",majorPlural:"Lei",ISOnum:946,symbol:"L",symbolNative:"L",minorSingle:"Ban",minorPlural:"Bani",ISOdigits:2,decimals:2,numToBasic:100},RSD:{name:"Serbian Dinar",demonym:"Serbian",majorSingle:"Dinar",majorPlural:"Dinars",ISOnum:941,symbol:"din",symbolNative:"\u0434\u0438\u043D",minorSingle:"Para",minorPlural:"Para",ISOdigits:2,decimals:2,numToBasic:100},RUB:{name:"Russian Ruble",demonym:"Russian",majorSingle:"Ruble",majorPlural:"Rubles",ISOnum:643,symbol:"\u20BD",symbolNative:"\u20BD",minorSingle:"Kopek",minorPlural:"Kopeks",ISOdigits:2,decimals:2,numToBasic:100},RWF:{name:"Rwandan Franc",demonym:"Rwandan",majorSingle:"Franc",majorPlural:"Francs",ISOnum:646,symbol:"FRw",symbolNative:"R\u20A3",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:0,decimals:2,numToBasic:100},SAR:{name:"Saudi Riyal",demonym:"Saudi",majorSingle:"Riyal",majorPlural:"Riyals",ISOnum:682,symbol:"SR",symbolNative:"\u0631.\u0633.",minorSingle:"Halalah",minorPlural:"Halalahs",ISOdigits:2,decimals:2,numToBasic:100},SBD:{name:"Solomon Islands Dollar",demonym:"Solomon Islands",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:90,symbol:"SI$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},SCR:{name:"Seychellois Rupee",demonym:"Seychellois",majorSingle:"Rupee",majorPlural:"Rupees",ISOnum:690,symbol:"Rs.",symbolNative:"Rs",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},SDG:{name:"Sudanese Pound",demonym:"Sudanese",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:938,symbol:"\xA3SD",symbolNative:"\u062C.\u0633.",minorSingle:"Qirsh",minorPlural:"Qirsh",ISOdigits:2,decimals:2,numToBasic:100},SEK:{name:"Swedish Krona",demonym:"Swedish",majorSingle:"Krona",majorPlural:"Kronor",ISOnum:752,symbol:"kr",symbolNative:"kr",minorSingle:"\xD6re",minorPlural:"\xD6re",ISOdigits:2,decimals:2,numToBasic:100},SGD:{name:"Singapore Dollar",demonym:"Singapore",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:702,symbol:"S$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},SHP:{name:"Saint Helena Pound",demonym:"Saint Helena",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:654,symbol:"\xA3",symbolNative:"\xA3",minorSingle:"Penny",minorPlural:"Pence",ISOdigits:2,decimals:2,numToBasic:100},SLL:{name:"Sierra Leonean Leone",demonym:"Sierra Leonean",majorSingle:"Leone",majorPlural:"Leones",ISOnum:694,symbol:"Le",symbolNative:"Le",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},SLS:{name:"Somaliland Shilling",demonym:"Somaliland",majorSingle:"Shilling",majorPlural:"Shillings",ISOnum:null,symbol:"Sl",symbolNative:"Sl",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},SOS:{name:"Somali Shilling",demonym:"Somali",majorSingle:"Shilling",majorPlural:"Shillings",ISOnum:706,symbol:"Sh.So.",symbolNative:"Ssh",minorSingle:"Senti",minorPlural:"Senti",ISOdigits:2,decimals:2,numToBasic:100},SRD:{name:"Surinamese Dollar",demonym:"Surinamese",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:968,symbol:"Sr$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},SSP:{name:"South Sudanese Pound",demonym:"South Sudanese",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:728,symbol:"SS\xA3",symbolNative:"SS\xA3",minorSingle:"Qirsh",minorPlural:"Qirsh",ISOdigits:2,decimals:2,numToBasic:100},STN:{name:"Sao Tome and Pr\xEDncipe Dobra",demonym:"Sao Tome",majorSingle:"Dobra",majorPlural:"Dobras",ISOnum:930,symbol:"Db",symbolNative:"Db",minorSingle:"Centimo",minorPlural:"Centimos",ISOdigits:2,decimals:2,numToBasic:100},SVC:{name:"Salvadoran Col\xF3n",demonym:"Salvadoran",majorSingle:"Col\xF3n",majorPlural:"Colones",ISOnum:222,symbol:"\u20A1",symbolNative:"\u20A1",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},SYP:{name:"Syrian Pound",demonym:"Syrian",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:760,symbol:"LS",symbolNative:"\u0644.\u0633.",minorSingle:"Qirsh",minorPlural:"Qirsh",ISOdigits:2,decimals:2,numToBasic:100},SZL:{name:"Swazi Lilangeni",demonym:"Swazi",majorSingle:"Lilangeni",majorPlural:"Emalangeni",ISOnum:748,symbol:"L",symbolNative:"L",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},THB:{name:"Thai Baht",demonym:"Thai",majorSingle:"Baht",majorPlural:"Baht",ISOnum:764,symbol:"\u0E3F",symbolNative:"\u0E3F",minorSingle:"Satang",minorPlural:"Satang",ISOdigits:2,decimals:2,numToBasic:100},TJS:{name:"Tajikistani Somoni",demonym:"Tajikistani",majorSingle:"Somoni",majorPlural:"Somoni",ISOnum:972,symbol:"SM",symbolNative:"SM",minorSingle:"Diram",minorPlural:"Diram",ISOdigits:2,decimals:2,numToBasic:100},TMT:{name:"Turkmenistan Manat",demonym:"Turkmenistan",majorSingle:"Manat",majorPlural:"Manat",ISOnum:934,symbol:"m.",symbolNative:"T",minorSingle:"Tenge",minorPlural:"Tenge",ISOdigits:2,decimals:2,numToBasic:100},TND:{name:"Tunisian Dinar",demonym:"Tunisian",majorSingle:"Dinar",majorPlural:"Dinars",ISOnum:788,symbol:"DT",symbolNative:"\u062F.\u062A.",minorSingle:"Millime",minorPlural:"Millime",ISOdigits:3,decimals:3,numToBasic:1e3},TOP:{name:"Tongan Pa\u02BBanga",demonym:"Tongan",majorSingle:"Pa'anga",majorPlural:"Pa'anga",ISOnum:776,symbol:"T$",symbolNative:"PT",minorSingle:"Seniti",minorPlural:"Seniti",ISOdigits:2,decimals:2,numToBasic:100},TRY:{name:"Turkish Lira",demonym:"Turkish",majorSingle:"Lira",majorPlural:"Lira",ISOnum:949,symbol:"TL",symbolNative:"\u20BA",minorSingle:"Kuru\u015F",minorPlural:"Kuru\u015F",ISOdigits:2,decimals:2,numToBasic:100},TTD:{name:"Trinidad and Tobago Dollar",demonym:"Trinidad and Tobago",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:780,symbol:"TT$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},TVD:{name:"Tuvaluan Dollar",demonym:"Tuvaluan",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:null,symbol:"$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},TWD:{name:"New Taiwan Dollar",demonym:"New Taiwan",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:901,symbol:"NT$",symbolNative:"\u5713",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},TZS:{name:"Tanzanian Shilling",demonym:"Tanzanian",majorSingle:"Shilling",majorPlural:"Shillings",ISOnum:834,symbol:"TSh",symbolNative:"TSh",minorSingle:"Senti",minorPlural:"Senti",ISOdigits:2,decimals:2,numToBasic:100},UAH:{name:"Ukrainian Hryvnia",demonym:"Ukrainian",majorSingle:"Hryvnia",majorPlural:"Hryvnias",ISOnum:980,symbol:"\u20B4",symbolNative:"\u0433\u0440\u043D",minorSingle:"Kopiyka",minorPlural:"kopiyky",ISOdigits:2,decimals:2,numToBasic:100},UGX:{name:"Ugandan Shilling",demonym:"Ugandan",majorSingle:"Shilling",majorPlural:"Shillings",ISOnum:800,symbol:"USh",symbolNative:"Sh",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:0,decimals:2,numToBasic:100},USD:{name:"United States Dollar",demonym:"US",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:840,symbol:"$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},UYU:{name:"Uruguayan Peso",demonym:"Uruguayan",majorSingle:"Peso",majorPlural:"Pesos",ISOnum:858,symbol:"$U",symbolNative:"$",minorSingle:"Cent\xE9simo",minorPlural:"Cent\xE9simos",ISOdigits:2,decimals:2,numToBasic:100},UZS:{name:"Uzbekistani Som",demonym:"Uzbekistani",majorSingle:"Som",majorPlural:"Som",ISOnum:860,symbol:"\u0441\u0443\u043C",symbolNative:"\u0441\u0443\u043C",minorSingle:"Tiyin",minorPlural:"Tiyin",ISOdigits:2,decimals:2,numToBasic:100},VED:{name:"Venezuelan bol\xEDvar digital",demonym:"Venezuelan",majorSingle:"Bol\xEDvar Digital",majorPlural:"Bol\xEDvars Digital",ISOnum:null,symbol:"Bs.",symbolNative:"Bs.",minorSingle:"C\xE9ntimo",minorPlural:"C\xE9ntimos",ISOdigits:2,decimals:2,numToBasic:100},VES:{name:"Venezuelan Bol\xEDvar Soberano",demonym:"Venezuelan",majorSingle:"Bol\xEDvar",majorPlural:"Bol\xEDvares",ISOnum:928,symbol:"Bs.F",symbolNative:"Bs.F",minorSingle:"Centimo",minorPlural:"Centimos",ISOdigits:2,decimals:2,numToBasic:100},VND:{name:"Vietnamese Dong",demonym:"Vietnamese",majorSingle:"Dong",majorPlural:"Dong",ISOnum:704,symbol:"\u20AB",symbolNative:"\u20AB",minorSingle:"H\xE0o",minorPlural:"H\xE0o",ISOdigits:0,decimals:2,numToBasic:10},VUV:{name:"Vanuatu Vatu",demonym:"Vanuatu",majorSingle:"Vatu",majorPlural:"Vatu",ISOnum:548,symbol:"VT",symbolNative:"VT",minorSingle:"",minorPlural:"",ISOdigits:0,decimals:0,numToBasic:null},WST:{name:"Samoan Tala",demonym:"Samoan",majorSingle:"Tala",majorPlural:"Tala",ISOnum:882,symbol:"T",symbolNative:"ST",minorSingle:"Sene",minorPlural:"Sene",ISOdigits:2,decimals:2,numToBasic:100},XAF:{name:"Central African CFA Franc BEAC",demonym:"Central African CFA",majorSingle:"Franc",majorPlural:"Francs",ISOnum:950,symbol:"Fr",symbolNative:"Fr.",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:0,decimals:2,numToBasic:100},XCD:{name:"East Caribbean Dollar",demonym:"East Caribbean",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:951,symbol:"$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},XOF:{name:"West African CFA Franc BCEAO",demonym:"West African CFA",majorSingle:"Franc",majorPlural:"Francs",ISOnum:952,symbol:"\u20A3",symbolNative:"\u20A3",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:0,decimals:2,numToBasic:100},XPF:{name:"CFP Franc (Franc Pacifique)",demonym:"CFP",majorSingle:"Franc",majorPlural:"Francs",ISOnum:953,symbol:"\u20A3",symbolNative:"\u20A3",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:0,decimals:0,numToBasic:100},YER:{name:"Yemeni Rial",demonym:"Yemeni",majorSingle:"Rial",majorPlural:"Rials",ISOnum:886,symbol:"YR",symbolNative:"\u0631.\u064A.",minorSingle:"Fils",minorPlural:"Fils",ISOdigits:2,decimals:2,numToBasic:100},ZAR:{name:"South African Rand",demonym:"South African",majorSingle:"Rand",majorPlural:"Rand",ISOnum:710,symbol:"R",symbolNative:"R",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},ZMW:{name:"Zambian Kwacha",demonym:"Zambian",majorSingle:"Kwacha",majorPlural:"Kwacha",ISOnum:967,symbol:"ZK",symbolNative:"ZK",minorSingle:"Ngwee",minorPlural:"Ngwee",ISOdigits:2,decimals:2,numToBasic:100},ZWB:{name:"RTGS Dollar",demonym:"RTGS",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:null,symbol:"",symbolNative:"",minorSingle:"",minorPlural:"",ISOdigits:0,decimals:0,numToBasic:null},ZWL:{name:"Zimbabwean Dollar",demonym:"Zimbabwean",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:932,symbol:"Z$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},Abkhazia:{name:"Abkhazian Apsar",demonym:"Abkhazian",majorSingle:"Apsar",majorPlural:"Apsark",ISOnum:null,symbol:"",symbolNative:"",minorSingle:"",minorPlural:"",ISOdigits:0,decimals:0,numToBasic:null},Artsakh:{name:"Artsakh Dram",demonym:"Artsakh",majorSingle:"Dram",majorPlural:"Dram",ISOnum:null,symbol:"\u0564\u0580.",symbolNative:"\u0564\u0580.",minorSingle:"Luma",minorPlural:"Luma",ISOdigits:2,decimals:2,numToBasic:100}};var tn=require("obsidian");var Xt=async()=>{let r=await $("Archive expenditure plan");if(r.status==="error")return{status:"error",error:r.error};if(r.jsonData===void 0)return{status:"error",error:new Error("Archive expenditure plan data is undefined")};if(r.jsonData===null)return{status:"success"};if(r.content===void 0)return{status:"error",error:new Error("Archive expenditure plan content is undefined")};let a=await B("Expenditure plan");if(a.status==="error")return{status:"error",error:a.error};if(a.file===void 0)return{status:"error",error:new Error("Expenditure plan file is undefined")};if(r.jsonData.length>0)try{let s=r.jsonData.map(u=>({...u,amount:0})),o=JSON.stringify(s,null,4),l=r.content.replace(/```json[\s\S]*?```/,"```json\n"+o+"\n```");return await D.instance.app.vault.modify(a.file,l),{status:"success"}}catch(s){return{status:"error",error:s instanceof Error?s:new Error(`Failed to create new month expenditure plan: ${String(s)}`)}}else return{status:"success"}},en=async()=>{let r=await $("Archive income plan");if(r.status==="error")return{status:"error",error:r.error};if(r.jsonData===void 0)return{status:"error",error:new Error("Archive income plan data is undefined")};if(r.jsonData===null)return{status:"success"};if(r.content===void 0)return{status:"error",error:new Error("Archive income plan content is undefined")};let a=await B("Income plan");if(a.status==="error")return{status:"error",error:a.error};if(a.file===void 0)return{status:"error",error:new Error("Income plan file is undefined")};if(r.jsonData.length>0)try{let s=r.jsonData.map(u=>({...u,amount:0})),o=JSON.stringify(s,null,4),l=r.content.replace(/```json[\s\S]*?```/,"```json\n"+o+"\n```");return await D.instance.app.vault.modify(a.file,l),{status:"success"}}catch(s){return{status:"error",error:s instanceof Error?s:new Error(`Failed to create new month income plan: ${String(s)}`)}}else return{status:"success"}},Nn=async()=>{let r=await B("Expenditure plan");if(r.status==="error")return{status:"error",error:r.error};if(r.jsonData===void 0)return{status:"error",error:new Error("Expenditure plan info is undefined")};if(r.content===void 0)return{status:"error",error:new Error("Expenditure plan content is undefined")};if(r.file===void 0)return{status:"error",error:new Error("Expenditure plan file is undefined")};let a=r.jsonData,s=await $("Archive expenditure plan");if(s.status==="error")return{status:"error",error:s.error};if(s.jsonData===void 0)return{status:"error",error:new Error("Archive expenditure plan info is undefined")};if(s.jsonData===null)return{status:"success"};if(a===null)return await Xt();if(a.length<s.jsonData.length)try{let o=s.jsonData.filter(m=>!a.some(y=>y.id===m.id)).map(m=>({...m,amount:0})),l=[...a,...o],u=JSON.stringify(l,null,4),d=r.content.replace(/```json[\s\S]*?```/,"```json\n"+u+"\n```");return await D.instance.app.vault.modify(r.file,d),{status:"success"}}catch(o){return{status:"error",error:o instanceof Error?o:new Error(`Failed to check expense plan for compliance: ${String(o)}`)}}else if(a.length>s.jsonData.length)try{let o=s.jsonData.filter(d=>a.some(m=>m.id===d.id)).map(d=>({...d,amount:0})),l=JSON.stringify(o,null,4),u=r.content.replace(/```json[\s\S]*?```/,"```json\n"+l+"\n```");return await D.instance.app.vault.modify(r.file,u),{status:"success"}}catch(o){return{status:"error",error:o instanceof Error?o:new Error(`Failed to check expense plan for compliance: ${String(o)}`)}}else return{status:"success"}},Fn=async()=>{let r=await B("Income plan");if(r.status==="error")return{status:"error",error:r.error};if(r.jsonData===void 0)return{status:"error",error:new Error("Income plan info is undefined")};if(r.content===void 0)return{status:"error",error:new Error("Income plan content is undefined")};if(r.file===void 0)return{status:"error",error:new Error("Income plan file is undefined")};let a=r.jsonData,s=await $("Archive income plan");if(s.status==="error")return{status:"error",error:s.error};if(s.jsonData===void 0)return{status:"error",error:new Error("Archive income plan info is undefined")};if(s.jsonData===null)return{status:"success"};if(a===null)return await en();if(a.length<s.jsonData.length)try{let o=s.jsonData.filter(m=>!a.some(y=>y.id===m.id)).map(m=>({...m,amount:0})),l=[...a,...o],u=JSON.stringify(l,null,4),d=r.content.replace(/```json[\s\S]*?```/,"```json\n"+u+"\n```");return await D.instance.app.vault.modify(r.file,d),{status:"success"}}catch(o){return{status:"error",error:o instanceof Error?o:new Error(`Failed to check income plan for compliance: ${String(o)}`)}}else if(a.length>s.jsonData.length)try{let o=s.jsonData.filter(d=>a.some(m=>m.id===d.id)).map(d=>({...d,amount:0})),l=JSON.stringify(o,null,4),u=r.content.replace(/```json[\s\S]*?```/,"```json\n"+l+"\n```");return await D.instance.app.vault.modify(r.file,u),{status:"success"}}catch(o){return{status:"error",error:o instanceof Error?o:new Error(`Failed to check income plan for compliance: ${String(o)}`)}}else return{status:"success"}},qe=async()=>{let r=await B("Expenditure plan");if(r.status==="error")return{status:"error",error:r.error};if(r.jsonData===void 0||r.jsonData===null)return{status:"error",error:new Error("Expenditure plan data is undefined")};if(r.file===void 0)return{status:"error",error:new Error("Expenditure plan file is undefined")};if(r.content===void 0)return{status:"error",error:new Error("Expenditure plan content is undefined")};let a=await $("Archive expenditure plan");if(a.status==="error")return{status:"error",error:a.error};if(a.file===void 0)return{status:"error",error:new Error("Archive expenditure plan file is undefined")};if(r.jsonData.length<=1)try{return await D.instance.app.vault.modify(a.file,r.content),{status:"success"}}catch(s){return{status:"error",error:s instanceof Error?s:new Error(`Failed to archive expenditure plan: ${String(s)}`)}}else try{let s=r.jsonData.map(({amount:u,...d})=>d),o=JSON.stringify(s,null,4),l=r.content.replace(/```json[\s\S]*?```/,"```json\n"+o+"\n```");return await D.instance.app.vault.modify(a.file,l),{status:"success"}}catch(s){return{status:"error",error:s instanceof Error?s:new Error(`Failed to archive expenditure plan: ${String(s)}`)}}},Qe=async()=>{let r=await B("Income plan");if(r.status==="error")return{status:"error",error:r.error};if(r.jsonData===void 0||r.jsonData===null)return{status:"error",error:new Error("Income plan data is undefined")};if(r.file===void 0)return{status:"error",error:new Error("Income plan file is undefined")};if(r.content===void 0)return{status:"error",error:new Error("Income plan content is undefined")};let a=await $("Archive income plan");if(a.status==="error")return{status:"error",error:a.error};if(a.file===void 0)return{status:"error",error:new Error("Archive income plan file is undefined")};if(r.jsonData.length<=1)try{return await D.instance.app.vault.modify(a.file,r.content),{status:"success"}}catch(s){return{status:"error",error:s instanceof Error?s:new Error(`Failed to archive income plan: ${String(s)}`)}}else try{let s=r.jsonData.map(({amount:u,...d})=>d),o=JSON.stringify(s,null,4),l=r.content.replace(/```json[\s\S]*?```/,"```json\n"+o+"\n```");return await D.instance.app.vault.modify(a.file,l),{status:"success"}}catch(s){return{status:"error",error:s instanceof Error?s:new Error(`Failed to archive income plan: ${String(s)}`)}}};var $e=["January","February","March","April","May","June","July","August","September","October","November","December"],Et=async()=>{let{year:r,month:a}=Le(),s=!1,o=`---
tags:
  - ${D.instance.settings.defaultTag}
---
\`\`\`json
\`\`\``,l=`${D.instance.settings.targetFolder}/Archive`,u=`${l}/Archive expenditure plan.md`,d=`${l}/Archive income plan.md`,m=`${l}/Archive bills.md`,y=`${D.instance.settings.targetFolder}/${r}`,h=`${y}/${a}`,w=`${h}/History.md`,b=`${h}/Expenditure plan.md`,g=`${h}/Income plan.md`;try{return await D.instance.app.vault.adapter.exists(D.instance.settings.targetFolder)||await D.instance.app.vault.createFolder(D.instance.settings.targetFolder),await D.instance.app.vault.adapter.exists(y)||await D.instance.app.vault.createFolder(y),await D.instance.app.vault.adapter.exists(h)||await D.instance.app.vault.createFolder(h),await D.instance.app.vault.adapter.exists(w)||await D.instance.app.vault.create(w,o),await D.instance.app.vault.adapter.exists(b)?await Nn():(await D.instance.app.vault.create(b,o),await Xt()),await D.instance.app.vault.adapter.exists(g)?await Fn():(await D.instance.app.vault.create(g,o),await en()),await D.instance.app.vault.adapter.exists(l)||await D.instance.app.vault.createFolder(l),await D.instance.app.vault.adapter.exists(u)||await D.instance.app.vault.create(u,o),await D.instance.app.vault.adapter.exists(d)||await D.instance.app.vault.create(d,o),await D.instance.app.vault.adapter.exists(m)||await D.instance.app.vault.create(m,o),s=!0,s}catch(S){throw console.error("createDirectory error",S),S}},Hr=async(r,a)=>{let s=`---
tags:
  - ${D.instance.settings.defaultTag}
---
\`\`\`json
\`\`\``,o=`${D.instance.settings.targetFolder}/${a}`,l=`${o}/${$e[r]}`,u=`${l}/History.md`,d=`${l}/Expenditure plan.md`,m=`${l}/Income plan.md`;try{return await D.instance.app.vault.adapter.exists(D.instance.settings.targetFolder)||await D.instance.app.vault.createFolder(D.instance.settings.targetFolder),await D.instance.app.vault.adapter.exists(o)||await D.instance.app.vault.createFolder(o),await D.instance.app.vault.adapter.exists(l)||await D.instance.app.vault.createFolder(l),await D.instance.app.vault.adapter.exists(u)||await D.instance.app.vault.create(u,s),await D.instance.app.vault.adapter.exists(d)?await Nn():(await D.instance.app.vault.create(d,s),await Xt()),await D.instance.app.vault.adapter.exists(m)?await Fn():(await D.instance.app.vault.create(m,s),await en()),"success"}catch(y){return console.error("defCreateOtherMonthDirectory error",y),"Error creating directory"}};var B=async r=>{let{selectedYear:a,selectedMonth:s}=se(),{year:o,month:l}=a&&s?{year:a,month:s}:Le(),u=`${D.instance.settings.targetFolder}/${o}/${l}/${r}.md`,d=app.vault.getAbstractFileByPath(u);if(!(d instanceof tn.TFile))return await Et(),{status:"error",error:new Error(`File not found: ${u}. Please try again`)};let m=await app.vault.read(d);if(!m)return{status:"error",error:new Error(`File is empty: ${u}`)};let y=m.match(/```json([\s\S]*?)```/);if(y===null)throw new Error("jsonMatch file is null");let h;return y[1].length>3?h=JSON.parse(y[1].trim()):h=null,{jsonData:h,content:m,file:d,status:"success"}},Ot=async(r,a,s)=>{let o=`${D.instance.settings.targetFolder}/${a}/${s}/${r}.md`,l=app.vault.getAbstractFileByPath(o);if(!(l instanceof tn.TFile))return{status:"error",error:new Error(`File not found: ${o}`)};let u=await app.vault.read(l);if(!u)return{status:"error",error:new Error(`File is empty: ${o}`)};let d=u.match(/```json([\s\S]*?)```/);if(d===null)throw new Error("jsonMatch file is null");let m;return d[1].length>3?m=JSON.parse(d[1].trim()):m=null,{jsonData:m,content:u,file:l,status:"success"}},$=async r=>{let a=`${D.instance.settings.targetFolder}/Archive/${r}.md`,s=app.vault.getAbstractFileByPath(a);if(!(s instanceof tn.TFile))return await Et(),{status:"error",error:new Error(`File not found: ${a}. Please try again`)};let o=await app.vault.read(s);if(!o)return{status:"error",error:new Error(`File is empty: ${a}`)};let l=o.match(/```json([\s\S]*?)```/);if(l===null)throw new Error("jsonMatch file is null");let u;return l[1].length>3?u=JSON.parse(l[1].trim()):u=null,{jsonData:u,content:o,file:s,status:"success"}},we=async(r,a)=>{let s={History:()=>B("History"),expense:()=>B("Expenditure plan"),income:()=>B("Income plan"),"Archive bills":()=>$("Archive bills")};try{let o=s[a];if(!o)return{status:"error",error:new Error("Element not found")};let l=await o();if(l.status==="error")return{status:"error",error:l.error};if(!l.jsonData)return{status:"error",error:new Error("jsonData is null or undefined")};let u=l.jsonData.find(m=>m.id===r);return u===void 0?{status:"error",error:new Error("Item is undefined")}:{item:u,status:"success"}}catch(o){return{status:"error",error:o instanceof Error?o:new Error(String(o))}}},Wr=async r=>{try{let a=r.toLowerCase(),[s,o,l,u]=await Promise.all([B("History"),B("Expenditure plan"),B("Income plan"),$("Archive bills")]);if(s.status==="error")return s;if(!s.jsonData)throw new Error("History jsonData is null or undefined");if(o.status==="error"||l.status==="error"||u.status==="error")throw new Error("One of the additional data files returned an error");if(!o.jsonData||!l.jsonData||!u.jsonData)throw new Error("Additional data is null or undefined");let m=[...o.jsonData,...l.jsonData,...u.jsonData].filter(h=>"name"in h&&h.name.toLowerCase().includes(a)).map(h=>h.id),y=s.jsonData.filter(h=>{var b,g,S,p;let w=((b=h.type)==null?void 0:b.toLowerCase().includes(a))||h.amount.toString().includes(r)||((g=h.comment)==null?void 0:g.toLowerCase().includes(a));return m.length===0?w:w||((S=h.bill)==null?void 0:S.id)&&m.includes(h.bill.id)||((p=h.category)==null?void 0:p.id)&&m.includes(h.category.id)});return{status:"success",jsonData:y.length?y:null}}catch(a){return{status:"error",error:a instanceof Error?a:new Error(String(a))}}};var Rn=pl(Ur()),Gr=["USD","EUR","RUB","KZT","UZS"],nn=()=>crypto.randomUUID(),Le=()=>{Rn.default.locale("en");let r=(0,Rn.default)();return{now:r,year:r.format("YYYY"),month:r.format("MMMM")}},rn=()=>{let r=Object.entries(Cn).map(([o,l])=>({code:o,name:l.name||o,symbol:l.symbol||l.symbolNative})),a=r.filter(o=>Gr.includes(o.code)),s=r.filter(o=>!Gr.includes(o.code));return{popularCurrencies:a,otherCurrencies:s}};function an(r,a){let s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=["January","February","March","April","May","June","July","August","September","October","November","December"],{selectedYear:l,selectedMonth:u}=se();if(l===null&&u===null){let d=new Date,m=d.getFullYear(),y=d.getMonth(),h=new Date(m,y+1,0).getDate();for(let w=h;w>=1;w--){let b=new Date(m,y,w),g=b.getDate(),S=s[b.getDay()],p=o[y],P=`${g} ${p}, ${S}`,T=Math.floor((b.getTime()-d.getTime())/(1e3*60*60*24));T===-1?P=`Today, ${P}`:T===0?P=`Tomorrow, ${P}`:T===1?P=`The day after tomorrow, ${P}`:T===-2?P=`Yesterday, ${P}`:T===-3&&(P=`The day before yesterday, ${P}`);let I=`${m}-${String(y+1).padStart(2,"0")}-${String(w).padStart(2,"0")}`,M=r.createEl("option",{text:P,attr:{value:I}});(I===a||T===-1)&&(M.selected=!0)}}else{let d=new Date(`${u} 1, ${l}`),m=isNaN(d.getTime())?null:d.getMonth();if(m===null)throw new Error("Invalid month or year");let y=Number(l),h=m,w=new Date(y,h+1,0).getDate();for(let b=w;b>=1;b--){let g=new Date(y,h,b),S=g.getDate(),p=s[g.getDay()],P=o[h],T=`${S} ${P}, ${p}`,I=`${y}-${String(h+1).padStart(2,"0")}-${String(b).padStart(2,"0")}`;r.createEl("option",{text:T,attr:{value:I}})}}}function sn(r,a){let s=new Date,o=new Date(s.getFullYear(),s.getMonth(),s.getDate()+a),l=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}`;Array.from(r.options).find(d=>d.value===l)&&(r.value=l)}function on(r,a){let s=new C(r);return a==="expense"?`- ${s.toString()}`:a==="income"?`+ ${s.toString()}`:"Error"}function ln(r){let a=Pe(r),s=He(r);return a.eq(0)?`+${s.toString()}`:s.eq(0)?`-${a.toString()}`:`-${a.toString()} +${s.toString()}`}function Pe(r){var a;return r?((a=r[0])==null?void 0:a.type)!==void 0?r.reduce((o,l)=>l.type==="expense"?o.plus(new C(l.amount)):o,new C(0)):new C(0):new C(0)}function He(r){var a;return r?((a=r[0])==null?void 0:a.type)!==void 0?r.reduce((o,l)=>l.type==="income"?o.plus(new C(l.amount)):o,new C(0)):new C(0):new C(0)}function ct(r){return r?r.reduce((a,s)=>s.generalBalance?a.plus(new C(s.balance)):a,new C(0)):new C(0)}function Vr(r){return r?r.reduce((a,s)=>s.generalBalance?a:a.plus(new C(s.balance)),new C(0)):new C(0)}function Kr(r){let a=new Date,s=a.getFullYear(),o=a.getMonth(),l=new Date(s,o+1,0).getDate(),u=a.getDate(),d=l-u+1;return new C(r).div(d).round(0,0).toNumber()}function te(r){let a=Cn[r];return a&&(a.symbol||a.symbolNative)||r}function zr(r,a){let s=Number(ct(r))+Number(Pe(a)),o=Number(Pe(a))/s*100;return Number(Pe(a))<=s?100-o:o===0?100:o}function cn(r){let[a,s,o]=r.split("-").map(Number),l=new Date(a,s-1,o),u=new Date;u.setHours(0,0,0,0);let d=Math.round((u.getTime()-l.getTime())/(1e3*60*60*24)),m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],y=["January","February","March","April","May","June","July","August","September","October","November","December"],h="";d===0?h="Today":d===1?h="Yesterday":d===-1?h="Tomorrow":d===2?h="The day before yesterday":d===-2&&(h="The day after tomorrow");let w=u.getFullYear(),g=l.getFullYear()!==w?`${y[l.getMonth()]} ${l.getDate()}, ${l.getFullYear()}, ${m[l.getDay()]}`:`${y[l.getMonth()]} ${l.getDate()}, ${m[l.getDay()]}`;return h?`${h}, ${g}`:g}async function Jr(r,a,s){let o=await Ot("Expenditure plan",a,r);if(o.status==="error")return o.error;if(o.jsonData===void 0)throw new Error("Expesnse plan is undefined");let l=await Ot("Income plan",a,r);if(l.status==="error")return l.error;if(l.jsonData===void 0)throw new Error("Expesnse plan is undefined");let u=Pe(o.jsonData),d=He(l.jsonData);d>=u?(s.createEl("span",{text:`-${u}`,cls:"expense-all-month-success"}),s.createEl("span",{text:`+${d}`,cls:"income-all-month"})):(s.createEl("span",{text:`-${u}`,cls:"expense-all-month-failure"}),s.createEl("span",{text:`+${d}`,cls:"income-all-month"}))}async function Zr(r){let a=new C(0),s=new C(0);for(let o=0;o<12;o++){let l=await Ot("Expenditure plan",r,$e[o]);if(l.status==="error")return;if(!l.jsonData)throw new Error("Expense plan is undefined");let u=await Ot("Income plan",r,$e[o]);if(u.status==="error")return;if(!u.jsonData)throw new Error("Income plan is undefined");a=a.plus(Pe(l.jsonData)),s=s.plus(He(u.jsonData))}return`-${a.toString()} +${s.toString()}`}function qr(){let r=new Date;return r.setMinutes(r.getMinutes()-r.getTimezoneOffset()),r.toISOString().split("T")[1].split(".")[0]}var We=require("obsidian");var K=require("obsidian");var jt=require("obsidian");var un=async(r,a)=>{let s=await $("Archive bills");if(s.status==="error")return{status:"error",error:s.error};if(s.jsonData===null||s.jsonData===void 0)throw new Error("Bill is null or undefined");let o=s.jsonData.find(u=>u.id===r.bill.id);if(!o)return{status:"error",error:new Error(`Bill ${r.bill.id} not found`)};let l=a?new C(o.balance).plus(a.amount):new C(o.balance);return new C(r.amount).gt(l)?{status:"error",error:new Error(`On bill ${o.name} insufficient funds`)}:{status:"success"}},Yn=async(r,a)=>{let s=app.vault.getAbstractFileByPath(D.instance.settings.targetFolder);if(!s||!(s instanceof jt.TFolder))throw new Error("Finance folder not found or is not a folder");let o=[],l=u=>{for(let d of u.children)d instanceof jt.TFolder?l(d):d instanceof jt.TFile&&d.name==="History.md"&&o.push(d)};l(s);for(let u of o)try{let m=(await app.vault.read(u)).match(/```json([\s\S]*?)```/);if(!m||m[1].trim().length<=2)continue;let y=JSON.parse(m[1].trim());if(!Array.isArray(y))continue;if(y.some(w=>{var b,g;return a==="plan"?((b=w==null?void 0:w.category)==null?void 0:b.id)===r:a==="bill"?((g=w==null?void 0:w.bill)==null?void 0:g.id)===r:!1}))return!0}catch(d){console.error(`Error processing file: ${u.path}`,d)}return!1};var Qr=async(r,a)=>{let s=await B("History");if(s.status==="error")return{status:"error",error:s.error};if(!s.jsonData)return{status:"error",error:new Error("Error with data history")};if(!s.content)return{status:"error",error:new Error("Error with content history")};if(!s.file)return{status:"error",error:new Error("Error with file history")};if(r.type==="expense"){let o=await un(r,a);if(o.status==="error")return{status:"error",error:o.error}}if(r.type==="expense"){let o=await ut(r,"edit",a);if(o.status==="error")return{status:"error",error:o.error}}else if(r.type==="income"){let o=await mt(r,"edit",a);if(o.status==="error")return{status:"error",error:o.error}}else return{status:"error",error:new Error("The specified type is not suitable")};try{let o=s.jsonData.map(d=>d.id===r.id?{...d,...r}:d),l=JSON.stringify(o,null,4),u=s.content.replace(/```json[\s\S]*?```/,"```json\n"+l+"\n```");return await D.instance.app.vault.modify(s.file,u),{status:"success"}}catch(o){return{status:"error",error:o instanceof Error?o:new Error(`Failed to editing JSON to history: ${String(o)}`)}}},Xr=async r=>{let a={expense:()=>B("Expenditure plan"),income:()=>B("Income plan")};try{let s=a[r.type];if(!s)return{status:"error",error:new Error("Element not found")};let o=await s();if(o.status==="error")return{status:"error",error:o.error};if(!o.jsonData)return{status:"error",error:new Error("jsonData is null or undefined")};if(!o.file)return{status:"error",error:new Error("History file is null or undefined")};if(!o.content)return{status:"error",error:new Error("History content is null or undefined")};let l=o.jsonData.map(m=>m.id===r.id?{...m,...r}:m),u=JSON.stringify(l,null,4)+"\n```",d=o.content.replace(/```json[\s\S]*?```/,"```json\n"+u);if(await D.instance.app.vault.modify(o.file,d),r.type==="expense")await qe();else if(r.type==="income")await Qe();else return{status:"error",error:new Error("The specified type is not suitable")};return{status:"success"}}catch(s){return{status:"error",error:s instanceof Error?s:new Error(`Failed to editing JSON to plan: ${String(s)}`)}}},ea=async r=>{r.balance===""&&(r.balance="0");let a=await $("Archive bills");if(a.status==="error")return{status:"error",error:a.error};if(!a.jsonData)return{status:"error",error:new Error("Error with data bill")};if(!a.content)return{status:"error",error:new Error("Error with content bill")};if(!a.file)return{status:"error",error:new Error("Error with file bill")};try{let s=a.jsonData.map(u=>u.id===r.id?{...u,...r}:u),o=JSON.stringify(s,null,4)+"\n```",l=a.content.replace(/```json[\s\S]*?```/,"```json\n"+o);return await D.instance.app.vault.modify(a.file,l),{status:"success"}}catch(s){return{status:"error",error:s instanceof Error?s:new Error(`Failed to editing JSON to bill: ${String(s)}`)}}},xt=async(r,a,s)=>{try{let o=JSON.stringify(r,null,4),l=s.replace(/```json[\s\S]*?```/,"```json\n"+o+"\n```");return await D.instance.app.vault.modify(a,l),{status:"success"}}catch(o){return{status:"error",error:o instanceof Error?o:new Error(`Error update ${a.name}: ${String(o)}`)}}};C.DP=2;C.RM=C.roundHalfUp;var ut=async(r,a,s)=>{let o=new C(r.amount),l=await $("Archive bills");if(l.status==="error")return{status:"error",error:l.error};if(l.jsonData===void 0||l.jsonData===null)return{status:"error",error:new Error("Bill jsonData is undefined")};let u=await B("Expenditure plan");if(u.status==="error")return{status:"error",error:u.error};if(u.jsonData===void 0||u.jsonData===null)return{status:"error",error:new Error("Plan jsonData is undefined")};let d=l.jsonData,m=u.jsonData,y=async()=>{if(l.file===void 0)return{status:"error",error:new Error("Bill file is undefined")};if(l.content===void 0)return{status:"error",error:new Error("Bill content is undefined")};if(u.file===void 0)return{status:"error",error:new Error("Plan file is undefined")};if(u.content===void 0)return{status:"error",error:new Error("Plan content is undefined")};let g=await xt(d,l.file,l.content);if(g.status==="error")return{status:"error",error:g.error};let S=await xt(m,u.file,u.content);return S.status==="error"?{status:"error",error:S.error}:{status:"success"}},h=(g,S)=>{d=d.map(p=>p.id===g?{...p,balance:new C(p.balance).plus(S).toFixed(2)}:p)},w=(g,S)=>{m=m.map(p=>p.id===g?{...p,amount:new C(p.amount).plus(S).toFixed(2)}:p)},b=async()=>{if(!s)return{status:"error",error:new Error("Old data is required for edit")};let g=new C(s.amount);h(s.bill.id,g),w(s.category.id,g.times(-1)),await y();let S=await $("Archive bills"),p=await B("Expenditure plan");return S.status==="error"?{status:"error",error:S.error}:p.status==="error"?{status:"error",error:p.error}:!S.jsonData||!p.jsonData?{status:"error",error:new Error("Reload data error")}:(d=S.jsonData,m=p.jsonData,h(r.bill.id,o.times(-1)),w(r.category.id,o),await y())};switch(a){case"add":return h(r.bill.id,o.times(-1)),w(r.category.id,o),await y();case"remove":return h(r.bill.id,o),w(r.category.id,o.times(-1)),await y();case"edit":return await b();default:return{status:"error",error:new Error("Invalid modifier")}}},mt=async(r,a,s)=>{let o=new C(r.amount),l=await $("Archive bills");if(l.status==="error")return{status:"error",error:l.error};if(l.jsonData===void 0||l.jsonData===null)return{status:"error",error:new Error("Bill jsonData is undefined")};let u=await B("Income plan");if(u.status==="error")return{status:"error",error:u.error};if(u.jsonData===void 0||u.jsonData===null)return{status:"error",error:new Error("Plan jsonData is undefined")};let d=l.jsonData,m=u.jsonData,y=async()=>{if(l.file===void 0)return{status:"error",error:new Error("Bill file is undefined")};if(l.content===void 0)return{status:"error",error:new Error("Bill content is undefined")};if(u.file===void 0)return{status:"error",error:new Error("Plan file is undefined")};if(u.content===void 0)return{status:"error",error:new Error("Plan content is undefined")};let g=await xt(d,l.file,l.content);if(g.status==="error")return{status:"error",error:g.error};let S=await xt(m,u.file,u.content);return S.status==="error"?{status:"error",error:S.error}:{status:"success"}},h=(g,S)=>{d=d.map(p=>p.id===g?{...p,balance:new C(p.balance).plus(S).toFixed(2)}:p)},w=(g,S)=>{m=m.map(p=>p.id===g?{...p,amount:new C(p.amount).plus(S).toFixed(2)}:p)},b=async()=>{if(!s)return{status:"error",error:new Error("Old data is required for edit")};let g=new C(s.amount);h(s.bill.id,g.times(-1)),w(s.category.id,g.times(-1)),await y();let S=await $("Archive bills"),p=await B("Income plan");return S.status==="error"?{status:"error",error:S.error}:p.status==="error"?{status:"error",error:p.error}:!S.jsonData||!p.jsonData?{status:"error",error:new Error("Reload data error")}:(d=S.jsonData,m=p.jsonData,h(r.bill.id,o),w(r.category.id,o),await y())};switch(a){case"add":return h(r.bill.id,o),w(r.category.id,o),await y();case"remove":return h(r.bill.id,o.times(-1)),w(r.category.id,o.times(-1)),await y();case"edit":return await b();default:return{status:"error",error:new Error("Invalid modifier")}}},ta=async r=>{if(r.fromBillId===r.toBillId)return{status:"error",error:new Error("Cannot transfer to the same bill")};let a=await $("Archive bills");if(a.status==="error")return{status:"error",error:a.error};if(!a.jsonData||!a.file||!a.content)return{status:"error",error:new Error("Archive bills data is incomplete")};let s=a.jsonData.find(g=>g.id===r.fromBillId),o=a.jsonData.find(g=>g.id===r.toBillId);if(!s||!o)return{status:"error",error:new Error("One or both bills not found")};let l=new C(s.balance),u=new C(o.balance),d,m;if(r.type==="same-currency"?(d=new C(r.amount),m=d):(d=new C(r.sourceAmount),m=new C(r.targetAmount)),d.gt(l))return{status:"error",error:new Error(`Insufficient funds in bill ${s.name}`)};let y=l.minus(d),h=u.plus(m),w=a.jsonData.map(g=>g.id===s.id?{...g,balance:y.toFixed(2)}:g.id===o.id?{...g,balance:h.toFixed(2)}:g),b=a.content.replace(/```json[\s\S]*?```/,`\`\`\`json
${JSON.stringify(w,null,4)}
\`\`\``);try{return await D.instance.app.vault.modify(a.file,b),{status:"success"}}catch(g){return{status:"error",error:g instanceof Error?g:new Error(`Error tranfer berween bills: ${String(g)}`)}}};var na=async r=>{if(r.type==="expense"){let s=await un(r);if(s.status==="error")return{status:"error",error:s.error}}let a=await B("History");if(a.status==="error")return{status:"error",error:a.error};if(r.type==="expense"){let s=await ut(r,"add");if(s.status==="error")return{status:"error",error:s.error}}else if(r.type==="income"){let s=await mt(r,"add");if(s.status==="error")return{status:"error",error:s.error}}else return{status:"error",error:new Error("The specified type is not suitable")};if(a.content===void 0)throw new Error("content is undefined");if(a.file===void 0)throw new Error("file is undefined");try{if(a.jsonData==null){let s=JSON.stringify([r],null,4)+"\n```",o=a.content.replace(/\\```$/,s);return await D.instance.app.vault.modify(a.file,o),{status:"success"}}else if(a.jsonData.length>=1){let s=JSON.stringify([r],null,4)+"]\n```",o=a.content.lastIndexOf("}"),l=a.content.slice(0,o+1)+`,
`+s.replace(/\[/,"").replace(/\]/,"");return await D.instance.app.vault.modify(a.file,l),{status:"success"}}else throw new Error("jsonData has an unexpected format")}catch(s){return{status:"error",error:s instanceof Error?s:new Error(`Failed to add JSON to history: ${String(s)}`)}}},ra=async r=>r.type==="expense"?await Tl(r):r.type==="income"?await Il(r):{status:"error",error:new Error("The specified type is not suitable")};async function Tl(r){let a=await B("Expenditure plan");if(a.status==="error")return{status:"error",error:a.error};if(a.jsonData===void 0)return{status:"error",error:new Error("Archive bills is null or undefined")};if(a.content===null||a.content===void 0)return{status:"error",error:new Error("Archive bills content is null or undefined")};if(a.file===null||a.file===void 0)return{status:"error",error:new Error("Archive bills content is null or undefined")};try{if(a.jsonData===null){let s=JSON.stringify([r],null,4)+"\n```",o=a.content.replace(/\\```$/,s);await D.instance.app.vault.modify(a.file,o);let l=await qe();return l.status==="error"?{status:"error",error:l.error}:{status:"success"}}else if(a.jsonData.length>=1){let s=JSON.stringify([r],null,4)+"]\n```",o=a.content.lastIndexOf("}"),l=a.content.slice(0,o+1)+`,
`+s.replace(/\[/,"").replace(/\]/,"");await D.instance.app.vault.modify(a.file,l);let u=await qe();return u.status==="error"?{status:"error",error:u.error}:{status:"success"}}else return{status:"error",error:new Error("Error with jsonData expenditure plan")}}catch(s){return{status:"error",error:s instanceof Error?s:new Error(`Error creating expediture plans: ${String(s)}`)}}}async function Il(r){let a=await B("Income plan");if(a.status==="error")return{status:"error",error:a.error};if(a.jsonData===void 0)return{status:"error",error:new Error("Archive bills is null or undefined")};if(a.content===null||a.content===void 0)return{status:"error",error:new Error("Archive bills content is null or undefined")};if(a.file===null||a.file===void 0)return{status:"error",error:new Error("Archive bills content is null or undefined")};try{if(a.jsonData===null){let s=JSON.stringify([r],null,4)+"\n```",o=a.content.replace(/\\```$/,s);return await D.instance.app.vault.modify(a.file,o),(await Qe()).status==="error"?{status:"error",error:new Error("Error archiving income plan")}:{status:"success"}}else if(a.jsonData.length>=1){let s=JSON.stringify([r],null,4)+"]\n```",o=a.content.lastIndexOf("}"),l=a.content.slice(0,o+1)+`,
`+s.replace(/\[/,"").replace(/\]/,"");return await D.instance.app.vault.modify(a.file,l),(await Qe()).status==="error"?{status:"error",error:new Error("Error archiving income plan")}:{status:"success"}}else return{status:"error",error:new Error("Error with jsonData income plan")}}catch(s){return{status:"error",error:s instanceof Error?s:new Error(`Error creating income plans: ${String(s)}`)}}}var aa=async r=>{r.balance===""&&(r.balance="0");let a=await $("Archive bills");if(a.status==="error")return{status:"error",error:a.error};if(a.jsonData===void 0)return{status:"error",error:new Error("Archive bills is null or undefined")};if(a.content===null||a.content===void 0)return{status:"error",error:new Error("Archive bills content is null or undefined")};if(a.file===null||a.file===void 0)return{status:"error",error:new Error("Archive bills content is null or undefined")};try{if(a.jsonData===null){let s=JSON.stringify([r],null,4)+"\n```",o=a.content.replace(/\\```$/,s);return await D.instance.app.vault.modify(a.file,o),{status:"success"}}else if(a.jsonData.length>=1){let s=JSON.stringify([r],null,4)+"]\n```",o=a.content.lastIndexOf("}"),l=a.content.slice(0,o+1)+`,
`+s.replace(/\[/,"").replace(/\]/,"");return await D.instance.app.vault.modify(a.file,l),{status:"success"}}else return{status:"error",error:new Error("Error with jsonData bills")}}catch(s){return{status:"error",error:s instanceof Error?s:new Error(`Error creating bills: ${String(s)}`)}}};var ia=async()=>{let r=await $("Archive bills");if(r.status==="error"){new K.Notice(r.error.message),console.error(r.error);return}if(r.jsonData===void 0){new K.Notice("Bills is undefined"),console.error("Bills is null or undefined");return}if(r.jsonData===null)return new K.Notice("Add a bill");let a=await B("Expenditure plan");if(a.status==="error"){new K.Notice(a.error.message),console.error(a.error);return}if(a.jsonData===void 0){new K.Notice("Expenditure plan is undefined"),console.error("Expenditure plan is undefined");return}if(a.jsonData===null)return new K.Notice("Add a expenditure plan");let s=await B("Income plan");if(s.status==="error"){new K.Notice(s.error.message),console.error(s.error);return}if(s.jsonData===void 0){new K.Notice("Income plan is undefined"),console.error("Income plan is undefined");return}if(s.jsonData===null)return new K.Notice("Add a income plan");let o=await B("History");if(o.status==="error"){new K.Notice(o.error.message),console.error(o.error);return}if(o.jsonData===void 0){new K.Notice("History is undefined"),console.error("History is undefined");return}let{contentEl:l}=F.instance,{selectedYear:u,selectedMonth:d}=se();l.empty(),l.createEl("div",{cls:"main-header"}).createEl("h1",{text:"Operation"});let y=l.createEl("div",{cls:"exit-button",attr:{id:"exit-button"}});(0,K.setIcon)(y,"arrow-left"),y.addEventListener("click",()=>{F.instance.onOpen().catch(console.error)});let h=l.createEl("form",{cls:"main-add-form",attr:{id:"main-add-form"}}),w,b=h.createEl("div",{cls:"main-form_radio"}),g=b.createEl("button",{text:"Expense",cls:"main-radio_exprense",attr:{"data-radio":"expense",type:"button"}});g.dataset.radio==="expense"&&(w=g.dataset.radio,g.addClass("main-radion-button--active"));let S=b.createEl("button",{text:"Income",cls:"main-radio_income",attr:{"data-radio":"income",type:"button"}});S.addEventListener("click",()=>{S.dataset.radio==="income"&&(g.removeClass("main-radion-button--active"),S.addClass("main-radion-button--active"),w=S.dataset.radio,M(),P.focus())}),g.addEventListener("click",()=>{g.dataset.radio==="expense"&&(S.removeClass("main-radion-button--active"),g.addClass("main-radion-button--active"),w=g.dataset.radio,M(),P.focus())});let p=h.createEl("div",{cls:"main-form-input"}),P=p.createEl("input",{cls:"form-inputs",attr:{placeholder:"Sum",id:"input-sum",type:"number",inputmode:"decimal"}});P.focus();let T=p.createEl("select",{cls:"form-selects",attr:{name:"select-bills",id:"select-bills"}});if(r.jsonData.some(N=>N.generalBalance===!0)){let N=document.createElement("optgroup");N.label="Main",r.jsonData.forEach(W=>{if(W.generalBalance){let q=document.createElement("option");q.value=W.id,q.textContent=`${W.emoji} ${W.name} \u2022 ${W.balance} ${te(W.currency)}`,N.appendChild(q)}}),T.appendChild(N)}if(r.jsonData.some(N=>N.generalBalance===!1)){let N=document.createElement("optgroup");N.label="Additional",r.jsonData.forEach(W=>{if(!W.generalBalance){let q=document.createElement("option");q.value=W.id,q.textContent=`${W.emoji} ${W.name} \u2022 ${W.balance} ${te(W.currency)}`,N.appendChild(q)}}),T.appendChild(N)}if(o.jsonData===null)r.jsonData.sort((N,W)=>Number(W.balance)-Number(N.balance)),T.value=r.jsonData[0].id;else{let N={};o.jsonData.forEach(re=>{let fe=re.bill.id;N[fe]=(N[fe]||0)+1});let W=0,q=null;for(let re in N)N[re]>W?(W=N[re],q=re):N[re]===W&&(r.jsonData.sort((fe,ge)=>Number(ge.balance)-Number(fe.balance)),T.value=r.jsonData[0].id);let je=r.jsonData.sort((re,fe)=>re.id===q?-1:fe.id===q?1:0);T.value=je[0].id}let I=p.createEl("select",{cls:"form-selects",attr:{name:"select-category",id:"select-category"}});M();function M(){if(a.status==="error"){new K.Notice(a.error.message),console.error(a.error);return}if(s.status==="error"){new K.Notice(s.error.message),console.error(s.error);return}w==="expense"?(I.empty(),a.jsonData&&(a.jsonData.sort((N,W)=>Number(W.amount)-Number(N.amount)),a.jsonData.forEach(N=>{I.createEl("option",{text:`${N.emoji} ${N.name} \u2022 ${N.amount} ${te(D.instance.settings.baseCurrency)}`,attr:{value:N.id}})}))):(I.empty(),s.jsonData&&(s.jsonData.sort((N,W)=>Number(W.amount)-Number(N.amount)),s.jsonData.forEach(N=>{I.createEl("option",{text:`${N.emoji} ${N.name} \u2022 ${N.amount} ${te(D.instance.settings.baseCurrency)}`,attr:{value:N.id}})})))}let x=p.createEl("input",{cls:"form-inputs",attr:{placeholder:"Note",id:"input-comment",type:"text"}}),O=p.createEl("select",{cls:"form-selects",attr:{name:"select-date",id:"select-date"}});an(O);let G=Date.now()-new Date(new Date().getFullYear(),new Date().getMonth(),0).getTime()>3*24*60*60*1e3,L=Date.now()-new Date(new Date().getFullYear(),new Date().getMonth(),0).getTime()>2*24*60*60*1e3,oe=p.createEl("div",{cls:"form-selects-date-buttons"});u===null&&d===null&&L&&(oe.createEl("button",{text:"Today",attr:{type:"button"}}).addEventListener("click",()=>{sn(O,0)}),oe.createEl("button",{text:"Yesterday",attr:{type:"button"}}).addEventListener("click",()=>{sn(O,-1)})),u===null&&d===null&&G&&oe.createEl("button",{text:"The day before yesterday",attr:{type:"button"}}).addEventListener("click",()=>{sn(O,-2)}),p.createEl("button",{text:"Add",cls:"add-button",attr:{type:"submit"}}).addEventListener("click",async N=>{if(N.preventDefault(),!(Number(P.value)>=1)){P.focus(),new K.Notice("Enter the amount");return}let W=await we(T.value,"Archive bills");if(W.status==="error"){new K.Notice(W.error.message),console.error(W.error);return}if(W.item.currency!==D.instance.settings.baseCurrency){new K.Notice("I apologize, but for now you can only add transactions to accounts in the base currency.");return}let q={id:String(nn()),amount:String(P.value),bill:{id:T.value},category:{id:I.value},comment:x.value.trim(),date:`${O.value}T${qr()}`,type:w},je=await na(q);je.status==="success"?setTimeout(()=>{F.instance.onOpen().catch(console.error),new K.Notice("Operation added")},100):(new K.Notice(je.error.message),console.error(je.error))})},sa=()=>{let{contentEl:r}=F.instance;r.empty();let a=r.createEl("div",{cls:"exit-button",attr:{id:"exit-button"}});(0,K.setIcon)(a,"arrow-left"),a.addEventListener("click",()=>{F.instance.onOpen().catch(console.error)}),r.createEl("div",{cls:"main-header"}).createEl("h1",{text:"Categories"});let o=r.createEl("form",{cls:"main-add-form",attr:{id:"main-add-form"}}),l,u=o.createEl("div",{cls:"main-form_radio"}),d=u.createEl("button",{text:"Expense",cls:"main-radio_exprense",attr:{"data-radio":"expense",type:"button"}});d.dataset.radio==="expense"&&(l=d.dataset.radio,d.addClass("main-radion-button--active"));let m=u.createEl("button",{text:"Income",cls:"main-radio_income",attr:{"data-radio":"income",type:"button"}});m.addEventListener("click",()=>{m.dataset.radio==="income"&&(d.removeClass("main-radion-button--active"),m.addClass("main-radion-button--active"),l=m.dataset.radio,h.focus())}),d.addEventListener("click",()=>{d.dataset.radio==="expense"&&(m.removeClass("main-radion-button--active"),d.addClass("main-radion-button--active"),l=d.dataset.radio,h.focus())});let y=o.createEl("div",{cls:"main-form-input"}),h=y.createEl("input",{cls:"form-inputs",attr:{placeholder:"Name",id:"input-name",type:"text"}});h.focus();let w=y.createEl("input",{cls:"form-inputs",attr:{placeholder:"Emoji",id:"input-emoji",type:"text"}});w.addEventListener("input",()=>{let S=w.value,P=Array.from(S).filter(T=>/\p{Extended_Pictographic}/u.test(T));w.value=P.slice(0,1).join("")});let b=y.createEl("input",{cls:"form-inputs",attr:{placeholder:"Note",id:"input-comment",type:"text"}});y.createEl("button",{text:"Add",cls:"add-button",attr:{type:"submit"}}).addEventListener("click",async S=>{if(S.preventDefault(),!h.value){h.focus(),new K.Notice("Enter the name");return}let p={id:String(nn()),name:h.value.trim(),emoji:w.value,amount:"0",comment:b.value.trim(),type:l},P=await ra(p);P.status==="success"?setTimeout(()=>{F.instance.onOpen().catch(console.error),new K.Notice("The plan has been added.")},100):(new K.Notice(P.error.message),console.error(P.error))})},oa=()=>{let{contentEl:r}=F.instance;r.empty();let a=r.createEl("div",{cls:"exit-button",attr:{id:"exit-button"}});(0,K.setIcon)(a,"arrow-left"),a.addEventListener("click",()=>{F.instance.onOpen().catch(console.error)}),r.createEl("div",{cls:"main-header"}).createEl("h1",{text:"Categories"});let l=r.createEl("form",{cls:"main-add-form",attr:{id:"main-add-form"}}).createEl("div",{cls:"main-form-input"}),u=l.createEl("input",{cls:"form-inputs",attr:{placeholder:"Name",id:"input-name",type:"text"}});u.focus();let d=l.createEl("input",{cls:"form-inputs",attr:{placeholder:"Emoji",id:"input-emoji",type:"text"}});d.addEventListener("input",()=>{let I=d.value,x=Array.from(I).filter(O=>/\p{Extended_Pictographic}/u.test(O));d.value=x.slice(0,1).join("")});let m=l.createEl("select",{cls:"form-selects",attr:{name:"select-currency",id:"select-currency"}}),{popularCurrencies:y,otherCurrencies:h}=rn(),w=document.createElement("optgroup");w.label="Popular",y.forEach(I=>{let M=document.createElement("option");M.value=I.code,M.textContent=`${I.code} \u2022 ${I.name} \u2022 ${I.symbol}`,w.appendChild(M)});let b=document.createElement("optgroup");b.label="All currencies",h.forEach(I=>{let M=document.createElement("option");M.value=I.code,M.textContent=`${I.code} ${I.name} \u2022 ${I.symbol}`,b.appendChild(M)}),m.appendChild(w),m.appendChild(b),m.value=D.instance.settings.baseCurrency;let g=l.createEl("input",{cls:"form-inputs",attr:{placeholder:"Current balance",id:"input-current-balance",type:"number",inputmode:"decimal"}}),S=l.createEl("input",{cls:"form-inputs",attr:{placeholder:"Note",id:"input-comment",type:"text"}}),p=l.createEl("div",{cls:"form-checkbox-div"}),P=p.createEl("input",{cls:"form-checkbox",attr:{id:"input-checkbox",type:"checkbox",checked:!0}});p.createEl("span",{text:"Take into account in the general balance",cls:"form-text"}),m.addEventListener("change",()=>{m.value!==D.instance.settings.baseCurrency?(P.checked=!1,p.classList.add("disable-element")):(p.classList.remove("disable-element"),P.checked=!0)}),l.createEl("button",{text:"Add",cls:"add-button",attr:{type:"submit"}}).addEventListener("click",async I=>{if(I.preventDefault(),!u.value){u.focus(),new K.Notice("Enter the name");return}let M={id:String(nn()),name:u.value.trim(),emoji:d.value,balance:String(g.value).trim(),currency:m.value,generalBalance:P.checked,comment:S.value.trim()},x=await aa(M);x.status==="success"?setTimeout(()=>{F.instance.onOpen().catch(console.error),new K.Notice("The bill has been added.")},100):(new K.Notice(x.error.message),console.error(x.error))})};var A=require("obsidian");var la=async r=>{if(r==null)return{status:"error",error:new Error("Element is null or undefined")};let a=await B("History");if(a.status==="error")return{status:"error",error:a.error};if(a.file===null||a.file===void 0)return{status:"error",error:new Error("History file is null or undefined")};if(a.content===null||a.content===void 0)return{status:"error",error:new Error("History content is null or undefined")};if(a.jsonData===null||a.jsonData===void 0)return{status:"error",error:new Error("History data is null or undefined")};if(r.type==="expense"){let s=await ut(r,"remove");if(s.status==="error")return{status:"error",error:s.error}}else if(r.type==="income"){let s=await mt(r,"remove");if(s.status==="error")return{status:"error",error:s.error}}else return{status:"error",error:new Error("Unknown transaction type")};if(a.jsonData.length<=1)try{let s=a.content.replace(/```json[\s\S]*?```/,"```json\n```");return await D.instance.app.vault.modify(a.file,s),{status:"success"}}catch(s){return{status:"error",error:s instanceof Error?s:new Error(`Error deleting item: ${String(s)}`)}}else try{let s=a.jsonData.filter(u=>u.id!==r.id),o=JSON.stringify(s,null,4),l=a.content.replace(/```json[\s\S]*?```/,"```json\n"+o+"\n```");return await D.instance.app.vault.modify(a.file,l),{status:"success"}}catch(s){return{status:"error",error:s instanceof Error?s:new Error(`Error deleting item: ${String(s)}`)}}},ca=async r=>{let{id:a,name:s,emoji:o,type:l}=r;if(!a)return{status:"error",error:new Error("Element not found")};let u={expense:()=>B("Expenditure plan"),income:()=>B("Income plan")};try{let d=u[l];if(!d)return{status:"error",error:new Error("Element not found")};let m=await d();if(m.status==="error")return{status:"error",error:m.error};if(m.file===null||m.file===void 0)return{status:"error",error:new Error("History file is null or undefined")};if(m.content===null||m.content===void 0)return{status:"error",error:new Error("History content is null or undefined")};if(m.jsonData===null||m.jsonData===void 0)return{status:"error",error:new Error("History data is null or undefined")};if(await Yn(a,"plan"))return{status:"error",error:new Error(`The category ${o} \u2022 ${s} cannot be deleted because it is used in history.`)};let y;if(m.jsonData.length<=1)y=m.content.replace(/```json[\s\S]*?```/,"```json\n```");else if(m.jsonData.length>=2){let h=m.jsonData.filter(b=>b.id!==a),w=JSON.stringify(h,null,4);y=m.content.replace(/```json[\s\S]*?```/,"```json\n"+w+"\n```")}else y="Error";if(y==="Error")return{status:"error",error:new Error("Error with create new content")};if(await D.instance.app.vault.modify(m.file,y),l==="expense"){let h=await qe();if(h.status==="error")return{status:"error",error:h.error}}else if(l==="income"){let h=await Qe();if(h.status==="error")return{status:"error",error:h.error}}else return{status:"error",error:new Error("The plan has an invalid type.")};return{status:"success"}}catch(d){return{status:"error",error:d instanceof Error?d:new Error(`Error deleting item: ${String(d)}`)}}},ua=async r=>{let{id:a,name:s,emoji:o}=r;if(!a)return{status:"error",error:new Error("Element not found")};let l=await $("Archive bills");if(l.status==="error")return{status:"error",error:l.error};if(!l.jsonData)return{status:"error",error:new Error("jsonData is null or undefined")};if(!l.file)return{status:"error",error:new Error("History file is null or undefined")};if(!l.content)return{status:"error",error:new Error("History content is null or undefined")};try{if(await Yn(a,"bill"))return{status:"error",error:new Error(`The bill ${o} \u2022 ${s} cannot be deleted because it is in use in history.`)};let u;if(l.jsonData.length<=1)u=l.content.replace(/```json[\s\S]*?```/,"```json\n```");else if(l.jsonData.length>=2){let d=l.jsonData.filter(y=>y.id!==a),m=JSON.stringify(d,null,4);u=l.content.replace(/```json[\s\S]*?```/,"```json\n"+m+"\n```")}else u="Error";return u==="Error"?{status:"error",error:new Error("Error with create new content")}:(await D.instance.app.vault.modify(l.file,u),{status:"success"})}catch(u){return{status:"error",error:u instanceof Error?u:new Error(`Error deleting item: ${String(u)}`)}}};var $n=async r=>{var M;if(!(r.target instanceof HTMLElement))return;let a=r.target.closest("li");if(!a)return;let{id:s}=a.dataset;if(!s)return"Element not found";let o=await we(s,"History");if(o.status==="error"){new A.Notice(o.error.message),console.error(o.error);return}let{contentEl:l}=F.instance;l.empty(),l.createEl("div",{cls:"main-header"}).createEl("h1",{text:"\u041E\u043F\u0435\u0440\u0430\u0446\u0438\u044F"});let d=l.createEl("div",{cls:"exit-button",attr:{id:"exit-button"}});(0,A.setIcon)(d,"arrow-left"),d.addEventListener("click",()=>{F.instance.onOpen().catch(console.error)});let m=l.createEl("div",{cls:"delete-button",attr:{id:"delete-button"}});(0,A.setIcon)(m,"trash-2"),m.addEventListener("click",async()=>{let x=await la(o.item);x.status==="success"?setTimeout(()=>{F.instance.onOpen().catch(console.error),new A.Notice("The operation is remote.")},100):(new A.Notice(x.error.message),console.error(x.error))});let h=l.createEl("form",{cls:"main-add-form",attr:{id:"main-add-form"}}).createEl("div",{cls:"main-form-input"}),w=h.createEl("input",{cls:"form-inputs",attr:{placeholder:"Sum",id:"input-sum",type:"number",value:o.item.amount,inputmode:"decimal"}}),b=h.createEl("select",{cls:"form-selects",attr:{name:"select-bills",id:"select-bills"}}),g=await $("Archive bills");if(g.status==="error"){new A.Notice(g.error.message),console.error(g.error);return}if(g.jsonData===null||g.jsonData===void 0)throw new Error("Bill is null or undefined");if(g.jsonData.some(x=>x.generalBalance===!0)){let x=document.createElement("optgroup");x.label="Main",g.jsonData.forEach(O=>{if(O.generalBalance){let G=document.createElement("option");G.value=O.id,G.textContent=`${O.emoji} ${O.name} \u2022 ${O.balance} ${te(O.currency)}`,x.appendChild(G)}}),b.appendChild(x)}if(g.jsonData.some(x=>x.generalBalance===!1)){let x=document.createElement("optgroup");x.label="Additional",g.jsonData.forEach(O=>{if(!O.generalBalance){let G=document.createElement("option");G.value=O.id,G.textContent=`${O.emoji} ${O.name} \u2022 ${O.balance} ${te(O.currency)}`,x.appendChild(G)}}),b.appendChild(x)}b.value=o.item.bill.id;let S=h.createEl("select",{cls:"form-selects",attr:{name:"select-category",id:"select-category"}});await p();async function p(){if(o.status==="error"){new A.Notice(o.error.message),console.error(o.error);return}if(o.item.type==="expense"){S.empty();let x=await B("Expenditure plan");if(x.status==="error"){new A.Notice(x.error.message),console.error(x.error);return}if(x.jsonData===null||x.jsonData===void 0)throw new Error("Expenditure plan is null or undefined");x.jsonData.sort((O,G)=>Number(G.amount)-Number(O.amount)),x.jsonData.forEach(O=>{if(O.id===o.item.category.id){S.createEl("option",{text:`${O.emoji} ${O.name} \u2022 ${O.amount} ${te(D.instance.settings.baseCurrency)}`,attr:{value:O.id,selected:"selected"}});return}S.createEl("option",{text:`${O.emoji} ${O.name} \u2022 ${O.amount} ${te(D.instance.settings.baseCurrency)}`,attr:{value:O.id}})})}else if(o.item.type==="income"){S.empty();let x=await B("Income plan");if(x.status==="error"){new A.Notice(x.error.message),console.error(x.error);return}if(x.jsonData===null||x.jsonData===void 0)throw new Error("Expenditure plan is null or undefined");x.jsonData.sort((O,G)=>Number(G.amount)-Number(O.amount)),x.jsonData.forEach(O=>{if(O.id===o.item.category.id){S.createEl("option",{text:`${O.emoji} ${O.name} \u2022 ${O.amount} ${te(D.instance.settings.baseCurrency)}`,attr:{value:O.id,selected:"selected"}});return}S.createEl("option",{text:`${O.emoji} ${O.name} \u2022 ${O.amount} ${te(D.instance.settings.baseCurrency)}`,attr:{value:O.id}})})}else return"Error category type"}let P=h.createEl("input",{cls:"form-inputs",attr:{placeholder:"Note",id:"input-comment",type:"text",value:(M=o.item.comment)!=null?M:""}}),T=h.createEl("select",{cls:"form-selects",attr:{name:"select-date",id:"select-date"}});an(T,o.item.date),T.value=o.item.date.split("T")[0],h.createEl("button",{text:"Safe",cls:"add-button",attr:{type:"submit"}}).addEventListener("click",async x=>{if(x.preventDefault(),!(Number(w.value)>=1)){w.focus(),new A.Notice("Enter the amount");return}let O=await we(b.value,"Archive bills");if(O.status==="error"){new A.Notice(O.error.message),console.error(O.error);return}if(O.item.currency!==D.instance.settings.baseCurrency){new A.Notice("I apologize, but for now you can only add transactions to accounts in the base currency.");return}let G={id:o.item.id,amount:String(w.value),bill:{id:b.value},category:{id:S.value},comment:P.value,date:`${T.value}T${o.item.date.split("T")[1]}`,type:o.item.type},L=await Qr(G,o.item);L.status==="success"?setTimeout(()=>{F.instance.onOpen().catch(console.error),new A.Notice("Operation changed")},100):(new A.Notice(L.error.message),console.error(L.error))})},Ln=async r=>{var T,I;if(!(r.target instanceof HTMLElement))return;let a=r.target.closest("li");if(!a)return;if(!a.dataset.id||!a.dataset.type)throw new Error("Missing id or type in dataset");let s=a.dataset.id,o=a.dataset.type;if(!s)return"Element not found";let l=await we(s,o);if(l.status==="error"){new A.Notice(l.error.message),console.error(l.error);return}let{contentEl:u}=F.instance;u.empty();let d=u.createEl("div",{cls:"exit-button",attr:{id:"exit-button"}});(0,A.setIcon)(d,"arrow-left"),d.addEventListener("click",()=>{F.instance.onOpen().catch(console.error)});let m=u.createEl("div",{cls:"delete-button",attr:{id:"delete-button"}});(0,A.setIcon)(m,"trash-2"),m.addEventListener("click",async()=>{let M=await ca(l.item);M.status==="success"?setTimeout(()=>{F.instance.onOpen().catch(console.error),new A.Notice("The plan has been removed.")},100):(new A.Notice(M.error.message),console.error(M.error))}),u.createEl("div",{cls:"main-header"}).createEl("h1",{text:"Categories"});let w=u.createEl("form",{cls:"main-add-form",attr:{id:"main-add-form"}}).createEl("div",{cls:"main-form-input"}),b=w.createEl("input",{cls:"form-inputs",attr:{placeholder:"Name",id:"input-name",type:"text",value:l.item.name}}),g=w.createEl("input",{cls:"form-inputs",attr:{placeholder:"Emoji",id:"input-emoji",type:"text",value:(T=l.item.emoji)!=null?T:""}});g.addEventListener("input",()=>{let M=g.value,O=Array.from(M).filter(G=>/\p{Extended_Pictographic}/u.test(G));g.value=O.slice(0,1).join("")});let S=w.createEl("input",{cls:"form-inputs",attr:{placeholder:"Note",id:"input-comment",type:"text",value:(I=l.item.comment)!=null?I:""}});w.createEl("button",{text:"Add",cls:"add-button",attr:{type:"submit"}}).addEventListener("click",async M=>{if(M.preventDefault(),!b.value){b.focus(),new A.Notice("Enter the name");return}let x={id:l.item.id,name:b.value.trim(),emoji:g.value,amount:l.item.amount,comment:S.value.trim(),type:l.item.type},O=await Xr(x);O.status==="success"?setTimeout(()=>{F.instance.onOpen().catch(console.error),new A.Notice("The plan has been edited.")},100):(new A.Notice(O.error.message),console.error(O.error))});let P=await B("History");if(P.status==="error"){new A.Notice(P.error.message),console.error(P.error);return}if(P.jsonData===void 0)throw new Error("History is undefined");if(P.jsonData!==null){let M=new Date().getTime(),O=Object.values(P.jsonData.reduce((L,oe)=>{let ne=oe.date.split("T")[0];return L[ne]||(L[ne]=[]),L[ne].push(oe),L},{})).sort((L,oe)=>new Date(oe[0].date).getTime()-new Date(L[0].date).getTime()).map(L=>L.sort((oe,ne)=>Math.abs(new Date(oe.date).getTime()-M)-Math.abs(new Date(ne.date).getTime()-M)));u.createEl("h1",{text:"History of the plan"});let G=u.createEl("div",{cls:"history-plan"});O.forEach((L,oe)=>{let ne=G.createEl("div",{cls:"history-block"}),N=ne.createEl("div",{cls:"header-block"});N.createEl("div",{cls:"header-date-block"}).createEl("p",{text:cn(L[0].date.split("T")[0])}),N.createEl("div",{cls:"header-amount-block"}).createEl("span",{text:`${ln(L)}`});let je=ne.createEl("ul",{cls:"data-list"});L.forEach(async re=>{let fe=je.createEl("li",{cls:"data-item",attr:{"data-id":re.id}});fe.onclick=async ft=>{await $n(ft)};let ge=await we(re.category.id,re.type);if(ge.status==="error"){new A.Notice(ge.error.message),console.error(ge.error);return}let xe=await we(re.bill.id,"Archive bills");if(xe.status==="error"){new A.Notice(xe.error.message),console.error(xe.error);return}let It=fe.createEl("div",{cls:"data-link"}),he=It.createEl("div",{cls:"data-link-emoji"}),Fe=It.createEl("div",{cls:"data-link-text"});he.createEl("p",{text:`${ge.item.emoji}`}),he.createEl("span",{text:`${xe.item.emoji}`}),re.comment===""?(Fe.createEl("p",{text:`${ge.item.name}`}),Fe.createEl("span",{text:`${xe.item.name}`})):(Fe.createEl("p",{text:`${re.comment}`}),Fe.createEl("span",{text:`${ge.item.name} \u2022 ${xe.item.name}`})),fe.createEl("div",{cls:"data-link"}).createEl("p",{text:`${on(re.amount,re.type)} ${te(xe.item.currency)}`})})})}},Hn=async r=>{var M,x;if(!(r.target instanceof HTMLElement))return;let a=r.target.closest("li");if(!a)return;let{id:s}=a.dataset;if(!s)return"Element not found";let o=await we(s,"Archive bills");if(o.status==="error"){new A.Notice(o.error.message),console.error(o.error);return}let{contentEl:l}=F.instance;l.empty();let u=l.createEl("div",{cls:"exit-button",attr:{id:"exit-button"}});(0,A.setIcon)(u,"arrow-left"),u.addEventListener("click",()=>{F.instance.onOpen().catch(console.error)});let d=l.createEl("div",{cls:"delete-button",attr:{id:"delete-button"}});(0,A.setIcon)(d,"trash-2"),d.addEventListener("click",async()=>{let O=await ua(o.item);O.status==="success"?setTimeout(()=>{F.instance.onOpen().catch(console.error),new A.Notice("The bill has been removed.")},100):(new A.Notice(O.error.message),console.error(O.error))}),l.createEl("div",{cls:"main-header"}).createEl("h1",{text:"Categories"});let h=l.createEl("form",{cls:"main-add-form",attr:{id:"main-add-form"}}).createEl("div",{cls:"main-form-input"}),w=h.createEl("input",{cls:"form-inputs",attr:{placeholder:"Name",id:"input-name",type:"text",value:o.item.name}}),b=h.createEl("input",{cls:"form-inputs",attr:{placeholder:"Emoji",id:"input-emoji",type:"text",value:(M=o.item.emoji)!=null?M:""}});b.addEventListener("input",()=>{let O=b.value,L=Array.from(O).filter(oe=>/\p{Extended_Pictographic}/u.test(oe));b.value=L.slice(0,1).join("")});let g=h.createEl("input",{cls:"form-inputs",attr:{placeholder:"Current balance",id:"input-current-balance",type:"number",value:o.item.balance,inputmode:"decimal"}}),S=h.createEl("input",{cls:"form-inputs",attr:{placeholder:"Note",id:"input-comment",type:"text",value:(x=o.item.comment)!=null?x:""}}),p=await $("Archive bills");if(p.status==="error"){new A.Notice(p.error.message),console.error(p.error);return}if(p.jsonData===null||p.jsonData===void 0)throw new Error("Bills is null or undefined");if(p.jsonData.length>1){let O=h.createEl("div",{cls:"form-transfer-expense-div"});(0,A.setIcon)(O,"upload"),O.createEl("span",{text:"Transactions between bills",cls:"form-text-transfer"}),O.addEventListener("click",async()=>{_l(o.item.id)})}let P=h.createEl("div",{cls:"form-checkbox-div"});o.item.currency!==D.instance.settings.baseCurrency&&P.classList.add("disable-element");let T=P.createEl("input",{cls:"form-checkbox",attr:{id:"input-checkbox",type:"checkbox",checked:o.item.generalBalance?"checked":null}});P.createEl("span",{text:"Take into account in the general balance",cls:"form-text"}),h.createEl("button",{text:"Add",cls:"add-button",attr:{type:"submit"}}).addEventListener("click",async()=>{if(r.preventDefault(),!w.value){w.focus(),new A.Notice("Enter the name");return}let O={id:o.item.id,name:w.value.trim(),emoji:b.value,balance:String(g.value.trim()),currency:o.item.currency,generalBalance:T.checked,comment:S.value.trim()},G=await ea(O);G.status==="success"?setTimeout(()=>{F.instance.onOpen().catch(console.error),new A.Notice("The bill has been edited.")},100):(new A.Notice(G.error.message),console.error(G.error))})},_l=async r=>{if(!r)return"Element not found";let a=await $("Archive bills");if(a.status==="error"){new A.Notice(a.error.message),console.error(a.error);return}if(!a.jsonData)return"Bill is null or undifined";let{contentEl:s}=F.instance;s.empty();let o=s.createEl("div",{cls:"exit-button",attr:{id:"exit-button"}});(0,A.setIcon)(o,"arrow-left"),o.addEventListener("click",()=>{F.instance.onOpen().catch(console.error)}),s.createEl("div",{cls:"main-header"}).createEl("h1",{text:"Transfer"});let d=s.createEl("form",{cls:"main-add-form",attr:{id:"main-add-form"}}).createEl("div",{cls:"main-form-input"}),m=d.createEl("select",{cls:"form-selects",attr:{name:"select-from-bill",id:"select-from-bill"}});if(a.jsonData.some(S=>S.generalBalance===!0)){let S=document.createElement("optgroup");S.label="Main",a.jsonData.forEach(p=>{if(p.generalBalance){let P=document.createElement("option");P.value=p.id,P.textContent=`${p.name} \u2022 ${p.balance} ${te(p.currency)}`,P.dataset.currency=p.currency,S.appendChild(P)}}),m.appendChild(S)}if(a.jsonData.some(S=>S.generalBalance===!1)){let S=document.createElement("optgroup");S.label="Additional",a.jsonData.forEach(p=>{if(!p.generalBalance){let P=document.createElement("option");P.value=p.id,P.textContent=`${p.name} \u2022 ${p.balance} ${te(p.currency)}`,P.dataset.currency=p.currency,S.appendChild(P)}}),m.appendChild(S)}m.value=r;let y=d.createEl("input",{cls:"form-inputs disable-element",attr:{placeholder:"Source amount",id:"input-source-amount",type:"number",inputmode:"decimal"}}),h=d.createEl("select",{cls:"form-selects",attr:{name:"select-to-bill",id:"select-to-bill"}});if(h.createEl("option",{text:"Select an account",attr:{value:"",selected:"",disabled:"",hidden:""}}),a.jsonData.some(S=>S.generalBalance===!0)){let S=document.createElement("optgroup");S.label="Main",a.jsonData.forEach(p=>{if(p.generalBalance){let P=document.createElement("option");P.value=p.id,P.textContent=`${p.name} \u2022 ${p.balance} ${te(p.currency)}`,P.dataset.currency=p.currency,S.appendChild(P)}}),h.appendChild(S)}if(a.jsonData.some(S=>S.generalBalance===!1)){let S=document.createElement("optgroup");S.label="Additional",a.jsonData.forEach(p=>{if(!p.generalBalance){let P=document.createElement("option");P.value=p.id,P.textContent=`${p.name} \u2022 ${p.balance} ${te(p.currency)}`,P.dataset.currency=p.currency,S.appendChild(P)}}),h.appendChild(S)}let w=d.createEl("input",{cls:"form-inputs disable-element",attr:{placeholder:"Target amount",id:"input-target-amount",type:"number",inputmode:"decimal"}}),b=d.createEl("input",{cls:"form-inputs",attr:{placeholder:"Sum",id:"input-sum",type:"number",inputmode:"decimal"}});m.addEventListener("change",()=>{let S=m.options[m.selectedIndex],p=h.options[h.selectedIndex];if(p.value===""){y.classList.add("disable-element"),w.classList.add("disable-element"),b.classList.remove("disable-element");return}S.dataset.currency===p.dataset.currency?(y.classList.add("disable-element"),w.classList.add("disable-element"),b.classList.remove("disable-element")):(y.classList.remove("disable-element"),w.classList.remove("disable-element"),b.classList.add("disable-element"))}),h.addEventListener("change",()=>{let S=m.options[m.selectedIndex];h.options[h.selectedIndex].dataset.currency===S.dataset.currency?(y.classList.add("disable-element"),w.classList.add("disable-element"),b.classList.remove("disable-element")):(y.classList.remove("disable-element"),w.classList.remove("disable-element"),b.classList.add("disable-element"))}),d.createEl("button",{text:"Transfer",cls:"add-button",attr:{type:"submit"}}).addEventListener("click",async S=>{if(S.preventDefault(),!h.value){new A.Notice("Select an account");return}let p=m.options[m.selectedIndex],P=h.options[h.selectedIndex],T=p.dataset.currency===P.dataset.currency,I;if(T){if(!b.value){b.focus(),new A.Notice("Enter the amount");return}I={type:"same-currency",fromBillId:m.value,toBillId:h.value,amount:Number(b.value)}}else{if(!y.value||!w.value){(y.value?w:y).focus(),new A.Notice("Enter both amounts");return}I={type:"cross-currency",fromBillId:m.value,toBillId:h.value,sourceAmount:Number(y.value),targetAmount:Number(w.value)}}let M=await ta(I);M.status==="success"?setTimeout(()=>{F.instance.onOpen().catch(console.error),new A.Notice("Transfer completed")},100):(new A.Notice(M.error.message),console.error(M.error))})};var Xe=async(r,a)=>{se({openPageNow:"History"});let s=await B("History");if(s.status==="error"){new We.Notice(s.error.message),console.error(s.error);return}if(s.jsonData===null){let l=r.createEl("div",{cls:"undefined-content"});r.addClass("main-content-body--undefined"),l.createEl("span",{text:"\u{1F355} \u{1F3AE} \u{1F455}"}),l.createEl("p",{text:"Enter any income and expenses to see how much money is actually left."})}else r.removeClass("main-content-body--undefined"),r.createEl("input",{cls:"input-search",attr:{id:"input-search",type:"search",placeholder:"Search by operations"}}).addEventListener("input",async u=>{let m=u.target.value,y=await Wr(m);if(y.status==="error"){new We.Notice(y.error.message),console.error(y.error);return}if(y.jsonData===void 0)throw new Error("jsonData is null or undefined");if(o.empty(),y.jsonData===null){let h=o.createEl("div",{cls:"undefined-content"});o.addClass("main-content-body--undefined"),h.createEl("span",{text:"\u{1F355} \u{1F3AE} \u{1F455}"}),h.createEl("p",{text:"No matching operations found."})}else y.jsonData.length>=1,o.removeClass("main-content-body--undefined"),Wn(o,r,y)});let o=r.createEl("div",{cls:"history-content"});Wn(o,r,s,a)};function Wn(r,a,s,o){if(s.status==="error")return s.error;if(s.jsonData!==null){let u=new Date().getTime(),m=Object.values(s.jsonData.reduce((y,h)=>{let w=h.date.split("T")[0];return y[w]||(y[w]=[]),y[w].push(h),y},{})).sort((y,h)=>new Date(h[0].date).getTime()-new Date(y[0].date).getTime()).map(y=>y.sort((h,w)=>Math.abs(new Date(h.date).getTime()-u)-Math.abs(new Date(w.date).getTime()-u)));s.jsonData.length>=5&&a.addClass("main-content-body--padding"),m.forEach(y=>{let h=r.createEl("div",{cls:"history-block"}),w=h.createEl("div",{cls:"header-block"});w.createEl("div",{cls:"header-date-block"}).createEl("p",{text:cn(y[0].date.split("T")[0])}),w.createEl("div",{cls:"header-amount-block"}).createEl("span",{text:`${ln(y)}`});let S=h.createEl("ul",{cls:"data-list"});y.forEach(async p=>{let P=S.createEl("li",{cls:"data-item",attr:{"data-id":p.id}});P.onclick=async L=>{$n(L)};let T=await we(p.category.id,p.type);if(T.status==="error")return new We.Notice(T.error.message);let I=await we(p.bill.id,"Archive bills");if(I.status==="error")return new We.Notice(I.error.message);let M=P.createEl("div",{cls:"data-link"}),x=M.createEl("div",{cls:"data-link-emoji"}),O=M.createEl("div",{cls:"data-link-text"});x.createEl("p",{text:`${T.item.emoji}`}),x.createEl("span",{text:`${I.item.emoji}`}),p.comment===""?(O.createEl("p",{text:`${T.item.name}`}),O.createEl("span",{text:`${I.item.name}`})):(O.createEl("p",{text:`${p.comment}`}),O.createEl("span",{text:`${T.item.name} \u2022 ${I.item.name}`})),P.createEl("div",{cls:"data-link"}).createEl("p",{text:`${on(p.amount,p.type)} ${te(I.item.currency)}`})})})}let l=o==null?void 0:o.createEl("button",{text:"Add an expense or income",cls:"add-button"});l==null||l.addEventListener("click",async()=>{ia()})}var Tt=async(r,a)=>{se({openPageNow:"Plans"});let s=await B("Expenditure plan");if(s.status==="error"){new We.Notice(s.error.message),console.error(s.error);return}if(s.jsonData===void 0)throw new Error("jsonData is undefined");let o=await B("Income plan");if(o.status==="error"){new We.Notice(o.error.message),console.error(o.error);return}let l=[];if(s.jsonData===null&&o.jsonData===null){let d=r.createEl("div",{cls:"undefined-content"});r.addClass("main-content-body--undefined"),d.createEl("span",{text:"\u{1F355} \u{1F3AE} \u{1F455}"}),d.createEl("p",{text:"Enter any income and expenses to see how much money is actually left."})}else{if(s.jsonData!==null){r.removeClass("main-content-body--undefined");let d=s.jsonData.slice().sort((g,S)=>new C(S.amount).cmp(new C(g.amount)));d.forEach(g=>l.push(g));let m=r.createEl("div",{cls:"plan-block"}),y=m.createEl("div",{cls:"header-block"});y.createEl("div",{cls:"header-type-block"}).createEl("span",{text:"Expense"}),y.createEl("div",{cls:"header-amount-block"}).createEl("span",{text:String(Pe(d))});let b=m.createEl("ul",{cls:"data-list"});d.forEach(g=>{let S=b.createEl("li",{cls:"data-item",attr:{"data-id":g.id,"data-type":g.type}});S.onclick=async P=>{Ln(P)};let p=S.createEl("div",{cls:"data-link"});p.createEl("span",{text:`${g.emoji}`}),p.createEl("p",{text:`${g.name}`}),S.createEl("p",{text:String(g.amount)})})}if(o.jsonData!==null){if(o.jsonData===void 0)throw new Error("incomePlanInfo is undefined");r.removeClass("main-content-body--undefined");let d=o.jsonData.slice().sort((g,S)=>new C(S.amount).cmp(new C(g.amount)));d.forEach(g=>l.push(g));let m=r.createEl("div",{cls:"plan-block"}),y=m.createEl("div",{cls:"header-block"});y.createEl("div",{cls:"header-type-block"}).createEl("span",{text:"Income"}),y.createEl("div",{cls:"header-amount-block"}).createEl("span",{text:String(He(d))});let b=m.createEl("ul",{cls:"data-list"});d.forEach(g=>{let S=b.createEl("li",{cls:"data-item",attr:{"data-id":g.id,"data-type":g.type}});S.onclick=async P=>{Ln(P)};let p=S.createEl("div",{cls:"data-link"});p.createEl("span",{text:`${g.emoji}`}),p.createEl("p",{text:`${g.name}`}),S.createEl("p",{text:String(g.amount)})})}}l.length>5&&r.addClass("main-content-body--padding"),a.createEl("button",{text:"Create a category",cls:"add-button"}).addEventListener("click",()=>{sa()})},Un=async(r,a)=>{se({openPageNow:"Bills"});let s=await $("Archive bills");if(s.status==="error"){new We.Notice(s.error.message),console.error(s.error);return}if(s.jsonData===void 0)throw new Error("Bill is undefined");if(s.jsonData===null){let l=r.createEl("div",{cls:"undefined-content"});r.addClass("main-content-body--undefined"),l.createEl("span",{text:"\u{1F355} \u{1F3AE} \u{1F455}"}),l.createEl("p",{text:"Enter any income and expenses to see how much money is actually left."})}else{if(s.jsonData.length>5&&r.addClass("main-content-body--padding"),s.jsonData.filter(l=>l.generalBalance).length>=1){r.removeClass("main-content-body--undefined");let l=r.createEl("div",{cls:"bill-block"}),u=l.createEl("div",{cls:"header-block"});u.createEl("div",{cls:"header-type-block"}).createEl("span",{text:"Main"}),u.createEl("div",{cls:"header-amount-block"}).createEl("span",{text:String(ct(s.jsonData))});let y=l.createEl("ul",{cls:"data-list"});s.jsonData.forEach(h=>{if(h.generalBalance){let w=y.createEl("li",{cls:"data-item",attr:{"data-id":h.id}});w.onclick=async g=>{await Hn(g)};let b=w.createEl("div",{cls:"data-link"});b.createEl("span",{text:`${h.emoji}`}),b.createEl("p",{text:`${h.name}`}),w.createEl("p",{text:`${String(h.balance)} ${te(h.currency)}`})}})}if(s.jsonData.filter(l=>!l.generalBalance).length>=1){r.removeClass("main-content-body--undefined");let l=r.createEl("div",{cls:"bill-block"}),u=l.createEl("div",{cls:"header-block"});u.createEl("div",{cls:"header-type-block"}).createEl("span",{text:"Additional"}),u.createEl("div",{cls:"header-amount-block"}).createEl("span",{text:String(Vr(s.jsonData))});let y=l.createEl("ul",{cls:"data-list"});s.jsonData.forEach(h=>{if(!h.generalBalance){let w=y.createEl("li",{cls:"data-item",attr:{"data-id":h.id}});w.onclick=async g=>{await Hn(g)};let b=w.createEl("div",{cls:"data-link"});b.createEl("span",{text:`${h.emoji}`}),b.createEl("p",{text:`${h.name}`}),w.createEl("p",{text:`${String(h.balance)} ${te(h.currency)}`})}})}}a.createEl("button",{text:"Add a bill",cls:"add-button"}).addEventListener("click",()=>{oa()})};var Gn=async()=>{if(!F.instance||!D.instance)return;if(se({selectedMonth:null,selectedYear:null}),!await Et())return Gn();let{contentEl:a}=F.instance,{month:s}=Le(),o=await $("Archive bills");if(o.status==="error"){new de.Notice(o.error.message),console.error(o.error);return}if(o.jsonData===void 0)throw new Error("billsInfo is undefined");let l=await B("Expenditure plan");if(l.status==="error"){new de.Notice(l.error.message),console.error(l.error);return}if(l.jsonData===void 0)throw new Error("expenditurePlanInfo is undefined");let u=await B("Income plan");if(u.status==="error"){new de.Notice(u.error.message),console.error(u.error);return}if(u.jsonData===void 0)throw new Error("incomePlanInfo is undefined");a.empty(),a.addClass("finance-content");let m=a.createEl("div",{cls:"finance-header"}).createEl("button",{attr:{id:"showAllMonths"}});(0,de.setIcon)(m,"calendar-days"),m.createEl("span",{text:s}),m.addEventListener("click",async()=>{a.dataset.page==="home"&&(a.setAttribute("data-page","months"),ma())}),a.setAttribute("data-page","home");let y=a.createEl("div",{cls:"balance"}),h=y.createEl("div",{cls:"balance-top"});h.createEl("span",{text:"Balance"}),h.createEl("p",{text:`${ct(o.jsonData)} ${te(D.instance.settings.baseCurrency)}`}),h.createEl("span",{text:`~${Kr(ct(o.jsonData))} for a day`}),y.createEl("div",{cls:"balance-line"}).style.setProperty("--after-width",`${zr(o.jsonData,l.jsonData)}%`);let b=y.createEl("div",{cls:"balance-body"}),g=b.createEl("div",{cls:"balance_body-expenses"});g.createEl("span",{text:"Expense"});let S=g.createEl("div",{cls:"balance_expenses-check"});(0,de.setIcon)(S,"upload"),S.createEl("p",{text:String(Pe(l.jsonData))});let p=b.createEl("div",{cls:"balance_body-income"});p.createEl("span",{text:"Income"});let P=p.createEl("div",{cls:"balance_income-check"});(0,de.setIcon)(P,"download"),P.createEl("p",{text:String(He(u.jsonData))}),await kl()},kl=async()=>{let{contentEl:r}=F.instance,{openPageNow:a}=se(),s=r.createEl("div",{cls:"main-nav"}),l=r.createEl("div",{cls:"main-content"}).createEl("div",{cls:"main-content-body"}),u=r.createEl("div",{cls:"main-content-button"}),d=s.createEl("a",{text:"History",cls:"home_button--active",attr:{id:"history-button",href:"#"}});d.addEventListener("click",async()=>{m.removeClass("home_button--active"),y.removeClass("home_button--active"),d.addClass("home_button--active"),l.empty(),u.empty(),Xe(l,u)});let m=s.createEl("a",{text:"Plan",attr:{id:"plan-button",href:"#"}});m.addEventListener("click",async()=>{d.removeClass("home_button--active"),y.removeClass("home_button--active"),m.addClass("home_button--active"),l.empty(),u.empty(),Tt(l,u)});let y=s.createEl("a",{text:"Bills",attr:{id:"bills-button",href:"#"}});y.addEventListener("click",async()=>{d.removeClass("home_button--active"),m.removeClass("home_button--active"),y.addClass("home_button--active"),l.empty(),u.empty(),Un(l,u)}),!a||a==="History"||a===null?(await Xe(l,u),d.addClass("home_button--active"),y.removeClass("home_button--active"),m.removeClass("home_button--active")):a==="Plans"?(await Tt(l,u),d.removeClass("home_button--active"),m.addClass("home_button--active"),y.removeClass("home_button--active")):a==="Bills"?(await Un(l,u),d.removeClass("home_button--active"),m.removeClass("home_button--active"),y.addClass("home_button--active")):(await Xe(l,u),d.addClass("home_button--active"),y.removeClass("home_button--active"),m.removeClass("home_button--active"))},ma=async()=>{let{contentEl:r}=F.instance;r.empty();let{year:a}=Le(),s=r.createEl("div",{cls:"exit-button",attr:{id:"exit-button"}});(0,de.setIcon)(s,"arrow-left"),s.addEventListener("click",()=>{var d;(d=F.instance)==null||d.onOpen().catch(console.error)}),r.createEl("div",{cls:"calendar-header"}).createEl("h1",{text:"Calendar"});let l=r.createEl("div",{cls:"calendar-main"}),u=["\u2603\uFE0F January","\u{1F328}\uFE0F February","\u{1F337} March","\u{1F331} April","\u2600\uFE0F May","\u{1F333} June","\u{1F3D6}\uFE0F July","\u{1F33E} August","\u{1F341} September","\u{1F342} October","\u2614 November","\u2744\uFE0F December"];for(let d=Number(a);d>=D.instance.settings.startYear;d--){let m=l.createEl("div",{cls:"calendar-list-title"});m.createEl("span",{text:String(d)}),m.createEl("span",{text:await Zr(String(d))});let y=l.createEl("ul",{cls:"calendar-list",attr:{"data-year":d}});for(let h=u.length-1;h>=0;h--){let w=y.createEl("li",{attr:{"data-month":`${h+1}`,"data-year":`${d}`}});w.onclick=async g=>{await Ml(g)},w.createEl("p",{text:u[h]});let b=w.createEl("div",{cls:"story-month"});await Jr($e[h],String(d),b)}}},Ml=async r=>{var m,y,h,w,b;let{year:a,month:s}=Le(),o=(y=(m=r.target)==null?void 0:m.closest("[data-month]"))!=null?y:r.target,l=Number((h=o==null?void 0:o.dataset)==null?void 0:h.month),u=String((w=o==null?void 0:o.dataset)==null?void 0:w.year);if($e[l-1]===s&&u===a)return(b=F.instance)==null?void 0:b.onOpen();se({selectedMonth:$e[l-1],selectedYear:u});let d=await Hr(l-1,u);d!=="success"&&new de.Notice(d),await Vn()},Vn=async()=>{if(!F.instance||!D.instance)return;let{selectedMonth:r}=se(),a=await B("Expenditure plan");if(a.status==="error"){new de.Notice(a.error.message),console.error(a.error);return}if(a.jsonData==null)throw new Error("expenditurePlanInfo is null or undefined");let s=await B("Income plan");if(s.status==="error"){new de.Notice(s.error.message),console.error(s.error);return}if(s.jsonData==null)throw new Error("incomePlanInfo is null or undefined");let{contentEl:o}=F.instance;o.empty();let l=o.createEl("div",{cls:"exit-button",attr:{id:"exit-button"}});(0,de.setIcon)(l,"arrow-left"),l.addEventListener("click",()=>{var S;se({selectedMonth:null,selectedYear:null}),(S=F.instance)==null||S.onOpen().catch(console.error)}),o.createEl("div",{cls:"finance-header"}).createEl("button",{text:`\u{1F5D3}\uFE0F ${r}`,attr:{id:"showAllMonths"}}).addEventListener("click",async()=>{o.dataset.page==="home"&&(o.setAttribute("data-page","months"),ma())}),o.setAttribute("data-page","home");let m=o.createEl("div",{cls:"balance"});m.addClass("balance-other");let y=m.createEl("div",{cls:"balance-body"}),h=y.createEl("div",{cls:"balance_body-expenses"});h.createEl("span",{text:"Expense"});let w=h.createEl("div",{cls:"balance_expenses-check"});(0,de.setIcon)(w,"upload"),w.createEl("p",{text:String(Pe(a.jsonData))});let b=y.createEl("div",{cls:"balance_body-income"});b.createEl("span",{text:"Income"});let g=b.createEl("div",{cls:"balance_income-check"});(0,de.setIcon)(g,"download"),g.createEl("p",{text:String(He(a.jsonData))}),await Bl()},Bl=async()=>{let{contentEl:r}=F.instance,a=r.createEl("div",{cls:"main-nav"}),o=r.createEl("div",{cls:"main-content"}).createEl("div",{cls:"main-content-body"}),l=r.createEl("div",{cls:"main-content-button"}),u=a.createEl("a",{text:"History",cls:"home_button--active",attr:{id:"history-button",href:"#"}});u.addEventListener("click",async()=>{d.removeClass("home_button--active"),u.addClass("home_button--active"),o.empty(),l.empty(),Xe(o,l)});let d=a.createEl("a",{text:"Plan",attr:{id:"plan-button",href:"#"}});d.addEventListener("click",async()=>{u.removeClass("home_button--active"),d.addClass("home_button--active"),o.empty(),l.empty(),Tt(o,l)});let{openPageNow:m}=se();!m||m==="History"||m===null?(await Xe(o,l),u.addClass("home_button--active"),d.removeClass("home_button--active")):m==="Plans"?(await Tt(o,l),u.removeClass("home_button--active"),d.addClass("home_button--active")):(await Xe(o,l),u.addClass("home_button--active"),d.removeClass("home_button--active"))};var mn="financial-accounting-view",D=class extends Z.Plugin{constructor(){super(...arguments);this.settings=new dn}async onload(){D.instance=this,await this.loadSettings(),this.registerView(mn,s=>new F(s)),this.app.workspace.onLayoutReady(()=>{this.addSettingTab(new Kn(this.app,this));let s=this.addRibbonIcon("badge-dollar-sign","Add operation",async()=>{await this.activateView()});this.registerInterval(window.setInterval(()=>{let o=document.querySelector(".workspace-ribbon.mod-left");!o||!s||Z.Platform.isMobile&&o.firstChild!==s&&o.append(s)},1e3)),this.unregisterTracking=Nl(this.app,()=>{da(o=>{o.classList.add("disable-mobile-nav-bar")})},()=>{da(o=>{o.classList.remove("disable-mobile-nav-bar")})}),this.addCommand({id:"view-finance",name:"Open the finance panel",callback:()=>this.activateView()})})}async activateView(){let{workspace:s}=this.app,o=s.getLeavesOfType(mn)[0];o||(Z.Platform.isDesktop?o=s.getRightLeaf(!1):o=s.getLeaf(!0),o&&await o.setViewState({type:mn,active:!0})),o&&await s.revealLeaf(o).catch(console.error)}async loadSettings(){let s=await this.loadData(),o=new dn;this.settings=Object.assign({},o,s||{})}async saveSettings(){await this.saveData(this.settings)}onunload(){var s;(s=this.unregisterTracking)==null||s.call(this)}},F=class extends Z.ItemView{constructor(a){super(a)}getViewType(){return mn}getDisplayText(){return"Financial accounting view"}getIcon(){return"chart-pie"}async onOpen(){F.instance=this;let{selectedYear:a,selectedMonth:s}=se();s===null&&a===null?await Gn():await Vn()}async onClose(){}},dn=class{constructor(){this.targetFolder="Finances",this.startYear=2020,this.baseCurrency="USD",this.defaultTag="Finances"}},Kn=class extends Z.PluginSettingTab{constructor(s,o){super(s,o);this.plugin=o}display(){let{containerEl:s}=this;s.empty(),new Z.Setting(s).setName("Preferences").setHeading();let o=this.app.vault.getAllLoadedFiles().filter(g=>g instanceof Z.TFolder).map(g=>g.path),l=this.plugin.settings.targetFolder||"Finances/",u=o.includes(l);new Z.Setting(s).setName("Working directory").setDesc("Select the folder the plugin will work with.").addDropdown(g=>{for(let S of o)g.addOption(S,S);u||g.addOption(l,`${l} (does not exist)`),g.setValue(l),g.onChange(async S=>{this.plugin.settings.targetFolder=S,await this.plugin.saveSettings(),new Z.Notice(`Folder selected: ${S}`)})}),new Z.Setting(s).setName("Initial year of accounting").setDesc("Select the year from which financial accounting has been conducted").addDropdown(g=>{let S=new Date().getFullYear();for(let p=S-100;p<=S;p++)g.addOption(String(p),String(p));g.setValue(String(this.plugin.settings.startYear)),g.onChange(async p=>{this.plugin.settings.startYear=Number(p),await this.plugin.saveSettings(),new Z.Notice(`The starting year has been changed to ${p}`)})});let m=new Z.Setting(s).setName("Main currency").setDesc("Select the currency from which the conversion will be performed").settingEl.createEl("select",{cls:"currency-select"}),{popularCurrencies:y,otherCurrencies:h}=rn(),w=document.createElement("optgroup");w.label="Popular",y.forEach(g=>{let S=document.createElement("option");S.value=g.code,S.textContent=`${g.code} \u2022 ${g.name} \u2022 ${g.symbol}`,w.appendChild(S)});let b=document.createElement("optgroup");b.label="All currencies",h.forEach(g=>{let S=document.createElement("option");S.value=g.code,S.textContent=`${g.code} ${g.name} \u2022 ${g.symbol}`,b.appendChild(S)}),m.appendChild(w),m.appendChild(b),m.value=this.plugin.settings.baseCurrency,m.addEventListener("change",async g=>{var I;let p=g.target.value,P=await $("Archive bills");if(P.status==="error"){new Z.Notice(`Error fetching archive bills: ${P.error.message}`);return}let T=(I=P.jsonData)==null?void 0:I.filter(M=>M.generalBalance&&M.currency!==p);if(T&&T.length>0){let M=T[0];m.value=this.plugin.settings.baseCurrency,new Z.Notice(`Cannot change base currency. Bill "${M.name}" is set to general balance with currency ${M.currency}. Please change or disable general balance on this bill first.`);return}this.plugin.settings.baseCurrency=p,this.plugin.saveSettings().catch(console.error),new Z.Notice(`Base currency changed to ${p}`)}),new Z.Setting(s).setName("Default tag for Obsidian").setDesc("Enter one word to use as a tag (no spaces).").addText(g=>{g.setPlaceholder("For example: finances").setValue(this.plugin.settings.defaultTag||""),g.inputEl.addEventListener("keydown",S=>{S.key==="Enter"&&(S.preventDefault(),g.inputEl.blur())}),g.inputEl.addEventListener("blur",async()=>{let S=g.getValue().trim();if(/\s/.test(S)){new Z.Notice("Tag must not contain spaces.");return}if(!/^[\w\---]+$/.test(S)){new Z.Notice("The tag can only contain letters, numbers, underscores and hyphens.");return}this.plugin.settings.defaultTag=S,this.plugin.saveSettings(),new Z.Notice(`The tag "${S}" has been saved.`)})})}},Cl=()=>{let r={openPageNow:null,selectedYear:null,selectedMonth:null};return function(s){return s&&(r={...r,...s}),r}},se=Cl();function Nl(r,a,s){let o=()=>{r.workspace.getActiveViewOfType(F)?a():s()};return r.workspace.on("active-leaf-change",o),r.workspace.on("layout-change",o),o(),()=>{r.workspace.off("active-leaf-change",o),r.workspace.off("layout-change",o)}}function da(r){let a=new MutationObserver(()=>{let s=document.querySelector(".mobile-navbar");s&&(r(s),a.disconnect())});a.observe(document.body,{childList:!0,subtree:!0})}
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.29.4 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/
