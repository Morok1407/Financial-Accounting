/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var Te=Object.defineProperty;var Dn=Object.getOwnPropertyDescriptor;var In=Object.getOwnPropertyNames;var jn=Object.prototype.hasOwnProperty;var Bn=(e,t)=>{for(var n in t)Te(e,n,{get:t[n],enumerable:!0})},On=(e,t,n,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of In(t))!jn.call(e,i)&&i!==n&&Te(e,i,{get:()=>t[i],enumerable:!(a=Dn(t,i))||a.enumerable});return e};var xn=e=>On(Te({},"__esModule",{value:!0}),e);var Vn={};Bn(Vn,{default:()=>Ce,pluginInstance:()=>f,stateManager:()=>F,viewInstance:()=>I});module.exports=xn(Vn);var T=require("obsidian");var L=require("obsidian");var Ne={AED:{name:"United Arab Emirates Dirham",demonym:"UAE",majorSingle:"Dirham",majorPlural:"Dirhams",ISOnum:784,symbol:"\u062F.\u0625.",symbolNative:"\u062F.\u0625.",minorSingle:"Fils",minorPlural:"Fils",ISOdigits:2,decimals:2,numToBasic:100},AFN:{name:"Afghan Afghani",demonym:"Afghan",majorSingle:"Afghani",majorPlural:"Afghani",ISOnum:971,symbol:"Af",symbolNative:"\u060B",minorSingle:"Pul",minorPlural:"Pul",ISOdigits:2,decimals:2,numToBasic:100},ALL:{name:"Albanian Lek",demonym:"Albanian",majorSingle:"Lek",majorPlural:"Lek\xEB",ISOnum:8,symbol:"L",symbolNative:"L",minorSingle:"Qindarka",minorPlural:"Qindarka",ISOdigits:2,decimals:2,numToBasic:100},AMD:{name:"Armenian Dram",demonym:"Armenian",majorSingle:"Dram",majorPlural:"Dram",ISOnum:51,symbol:"\u058F",symbolNative:"\u0564\u0580",minorSingle:"Luma",minorPlural:"Luma",ISOdigits:2,decimals:2,numToBasic:100},ANG:{name:"Netherlands Antillean Guilder",demonym:"Netherlands Antillean",majorSingle:"Guilder",majorPlural:"Guilders",ISOnum:532,symbol:"\u0192",symbolNative:"\u0192",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},AOA:{name:"Angolan Kwanza",demonym:"Angolan",majorSingle:"Kwanza",majorPlural:"Kwanza",ISOnum:973,symbol:"Kz",symbolNative:"Kz",minorSingle:"Centimo",minorPlural:"Centimos",ISOdigits:2,decimals:2,numToBasic:100},ARS:{name:"Argentine Peso",demonym:"Argentine",majorSingle:"Peso",majorPlural:"Pesos",ISOnum:32,symbol:"AR$",symbolNative:"$",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},AUD:{name:"Australian Dollar",demonym:"Australian",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:36,symbol:"AU$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},AWG:{name:"Aruban Florin",demonym:"Aruban",majorSingle:"Florin",majorPlural:"Florin",ISOnum:533,symbol:"\u0192",symbolNative:"\u0192",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},AZN:{name:"Azerbaijani Manat",demonym:"Azerbaijani",majorSingle:"Manat",majorPlural:"Manat",ISOnum:944,symbol:"\u043C\u0430\u043D",symbolNative:"\u20BC",minorSingle:"Qapik",minorPlural:"Qapik",ISOdigits:2,decimals:2,numToBasic:100},BAM:{name:"Bosnia and Herzegovina Convertible Mark",demonym:"Bosnia-Herzegovina",majorSingle:"Convertible Mark",majorPlural:"Marks",ISOnum:977,symbol:"KM",symbolNative:"\u041A\u041C",minorSingle:"Fening",minorPlural:"Fening",ISOdigits:2,decimals:2,numToBasic:100},BBD:{name:"Barbadian Dollar",demonym:"Barbadian",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:52,symbol:"BBD$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},BDT:{name:"Bangladeshi Taka",demonym:"Bangladeshi",majorSingle:"Taka",majorPlural:"Taka",ISOnum:50,symbol:"\u09F3",symbolNative:"\u09F3",minorSingle:"Poisha",minorPlural:"Poisha",ISOdigits:2,decimals:2,numToBasic:100},BGN:{name:"Bulgarian Lev",demonym:"Bulgarian",majorSingle:"Lev",majorPlural:"Leva",ISOnum:975,symbol:"\u043B\u0432.",symbolNative:"\u043B\u0432.",minorSingle:"Stotinka",minorPlural:"Stotinki",ISOdigits:2,decimals:2,numToBasic:100},BHD:{name:"Bahraini Dinar",demonym:"Bahraini",majorSingle:"Dinar",majorPlural:"Dinars",ISOnum:48,symbol:"BD",symbolNative:"\u062F.\u0628.",minorSingle:"Fils",minorPlural:"Fils",ISOdigits:3,decimals:3,numToBasic:1e3},BIF:{name:"Burundian Franc",demonym:"Burundian",majorSingle:"Franc",majorPlural:"Francs",ISOnum:108,symbol:"FBu",symbolNative:"FBu",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:0,decimals:2,numToBasic:100},BMD:{name:"Bermudian Dollar",demonym:"Bermudian",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:60,symbol:"$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},BND:{name:"Brunei Dollar",demonym:"Brunei",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:96,symbol:"B$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},BOB:{name:"Bolivian Boliviano",demonym:"Bolivian",majorSingle:"Boliviano",majorPlural:"Bolivianos",ISOnum:68,symbol:"Bs.",symbolNative:"Bs.",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},BRL:{name:"Brazilian Real",demonym:"Brazilian",majorSingle:"Real",majorPlural:"Reais",ISOnum:986,symbol:"R$",symbolNative:"R$",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},BSD:{name:"Bahamian Dollar",demonym:"Bahamian",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:44,symbol:"$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},BTN:{name:"Bhutanese Ngultrum",demonym:"Bhutanese",majorSingle:"Ngultrum",majorPlural:"Ngultrums",ISOnum:64,symbol:"Nu.",symbolNative:"Nu.",minorSingle:"Chetrum",minorPlural:"Chetrums",ISOdigits:2,decimals:2,numToBasic:100},BWP:{name:"Botswana Pula",demonym:"Botswana",majorSingle:"Pula",majorPlural:"Pula",ISOnum:72,symbol:"P",symbolNative:"P",minorSingle:"Thebe",minorPlural:"Thebe",ISOdigits:2,decimals:2,numToBasic:100},BYN:{name:"Belarusian Ruble",demonym:"Belarusian",majorSingle:"Ruble",majorPlural:"Rubles",ISOnum:933,symbol:"Br",symbolNative:"\u0440\u0443\u0431.",minorSingle:"Kapiejka",minorPlural:"Kapiejka",ISOdigits:2,decimals:2,numToBasic:100},BZD:{name:"Belize Dollar",demonym:"Belize",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:84,symbol:"BZ$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},CAD:{name:"Canadian Dollar",demonym:"Canadian",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:124,symbol:"CA$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},CDF:{name:"Congolese Franc",demonym:"Congolese",majorSingle:"Franc",majorPlural:"Francs",ISOnum:976,symbol:"FC",symbolNative:"\u20A3",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:2,decimals:2,numToBasic:100},CHF:{name:"Swiss Franc",demonym:"Swiss",majorSingle:"Franc",majorPlural:"Francs",ISOnum:756,symbol:"Fr.",symbolNative:"\u20A3",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:2,decimals:2,numToBasic:100},CKD:{name:"Cook Islands Dollar",demonym:"Cook Islands",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:null,symbol:"$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},CLP:{name:"Chilean Peso",demonym:"Chilean",majorSingle:"Peso",majorPlural:"Pesos",ISOnum:152,symbol:"CL$",symbolNative:"$",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:0,decimals:0,numToBasic:100},CNY:{name:"Chinese Yuan",demonym:"Chinese",majorSingle:"Yuan",majorPlural:"Yuan",ISOnum:156,symbol:"CN\xA5",symbolNative:"\xA5\u5143",minorSingle:"Fen",minorPlural:"Fen",ISOdigits:2,decimals:2,numToBasic:100},COP:{name:"Colombian Peso",demonym:"Colombian",majorSingle:"Peso",majorPlural:"Pesos",ISOnum:170,symbol:"CO$",symbolNative:"$",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},CRC:{name:"Costa Rican Colon",demonym:"Costa Rican",majorSingle:"Col\xF3n",majorPlural:"Colones",ISOnum:188,symbol:"\u20A1",symbolNative:"\u20A1",minorSingle:"Centimo",minorPlural:"Centimos",ISOdigits:2,decimals:2,numToBasic:100},CUC:{name:"Cuban convertible Peso",demonym:"Cuban Convertible",majorSingle:"Peso",majorPlural:"Pesos",ISOnum:931,symbol:"CUC$",symbolNative:"$",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},CUP:{name:"Cuban Peso",demonym:"Cuban",majorSingle:"Peso",majorPlural:"Pesos",ISOnum:192,symbol:"$MN",symbolNative:"\u20B1",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},CVE:{name:"Cabo Verdean Escudo",demonym:"Cabo Verdean",majorSingle:"Escudo",majorPlural:"Escudo",ISOnum:132,symbol:"CV$",symbolNative:"$",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},CZK:{name:"Czech Koruna",demonym:"Czech",majorSingle:"Koruna",majorPlural:"Koruny",ISOnum:203,symbol:"K\u010D",symbolNative:"K\u010D",minorSingle:"Hal\xE9\u0159",minorPlural:"Hal\xE9\u0159",ISOdigits:2,decimals:2,numToBasic:100},DJF:{name:"Djiboutian Franc",demonym:"Djiboutian",majorSingle:"Franc",majorPlural:"Francs",ISOnum:262,symbol:"Fdj",symbolNative:"\u0641.\u062C.",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:0,decimals:2,numToBasic:100},DKK:{name:"Danish Krone",demonym:"Danish",majorSingle:"Krone",majorPlural:"Kroner",ISOnum:208,symbol:"kr.",symbolNative:"kr.",minorSingle:"\xD8re",minorPlural:"\xD8re",ISOdigits:2,decimals:2,numToBasic:100},DOP:{name:"Dominican Peso",demonym:"Dominican",majorSingle:"Peso",majorPlural:"Pesos",ISOnum:214,symbol:"RD$",symbolNative:"$",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},DZD:{name:"Algerian Dinar",demonym:"Algerian",majorSingle:"Dinar",majorPlural:"Dinars",ISOnum:12,symbol:"DA",symbolNative:"\u062F.\u062C.",minorSingle:"Santeem",minorPlural:"Santeems",ISOdigits:2,decimals:2,numToBasic:100},EGP:{name:"Egyptian Pound",demonym:"Egyptian",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:818,symbol:"E\xA3",symbolNative:"\u062C.\u0645.",minorSingle:"Qirsh",minorPlural:"Qirsh",ISOdigits:2,decimals:2,numToBasic:100},EHP:{name:"Sahrawi Peseta",demonym:"Sahrawi",majorSingle:"Peseta",majorPlural:"Pesetas",ISOnum:null,symbol:"Ptas.",symbolNative:"Ptas.",minorSingle:"C\xE9ntimo",minorPlural:"C\xE9ntimos",ISOdigits:2,decimals:2,numToBasic:100},ERN:{name:"Eritrean Nakfa",demonym:"Eritrean",majorSingle:"Nakfa",majorPlural:"Nakfa",ISOnum:232,symbol:"Nkf",symbolNative:"\u0646\u0627\u0643\u0641\u0627",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},ETB:{name:"Ethiopian Birr",demonym:"Ethiopian",majorSingle:"Birr",majorPlural:"Birr",ISOnum:230,symbol:"Br",symbolNative:"\u1265\u122D",minorSingle:"Santim",minorPlural:"Santim",ISOdigits:2,decimals:2,numToBasic:100},EUR:{name:"Euro",demonym:"",majorSingle:"Euro",majorPlural:"Euros",ISOnum:978,symbol:"\u20AC",symbolNative:"\u20AC",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},FJD:{name:"Fijian Dollar",demonym:"Fijian",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:242,symbol:"FJ$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},FKP:{name:"Falkland Islands Pound",demonym:"Falkland Islands",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:238,symbol:"FK\xA3",symbolNative:"\xA3",minorSingle:"Penny",minorPlural:"Pence",ISOdigits:2,decimals:2,numToBasic:100},FOK:{name:"Faroese Kr\xF3na",demonym:"Faroese",majorSingle:"Kr\xF3na",majorPlural:"Kr\xF3nas",ISOnum:null,symbol:"kr",symbolNative:"kr",minorSingle:"Oyra",minorPlural:"Oyra",ISOdigits:2,decimals:2,numToBasic:100},GBP:{name:"Pound Sterling",demonym:"Pound Sterling",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:826,symbol:"\xA3",symbolNative:"\xA3",minorSingle:"Penny",minorPlural:"Pence",ISOdigits:2,decimals:2,numToBasic:100},GEL:{name:"Georgian Lari",demonym:"Georgian",majorSingle:"Lari",majorPlural:"Lari",ISOnum:981,symbol:"\u20BE",symbolNative:"\u20BE",minorSingle:"Tetri",minorPlural:"Tetri",ISOdigits:2,decimals:2,numToBasic:100},GGP:{name:"Guernsey Pound",demonym:"Guernsey",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:null,symbol:"\xA3",symbolNative:"\xA3",minorSingle:"Penny",minorPlural:"Pence",ISOdigits:2,decimals:2,numToBasic:100},GHS:{name:"Ghanaian Cedi",demonym:"Ghanaian",majorSingle:"Cedi",majorPlural:"Cedis",ISOnum:936,symbol:"GH\u20B5",symbolNative:"\u20B5",minorSingle:"Pesewa",minorPlural:"Pesewas",ISOdigits:2,decimals:2,numToBasic:100},GIP:{name:"Gibraltar Pound",demonym:"Gibraltar",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:292,symbol:"\xA3",symbolNative:"\xA3",minorSingle:"Penny",minorPlural:"Pence",ISOdigits:2,decimals:2,numToBasic:100},GMD:{name:"Gambian Dalasi",demonym:"Gambian",majorSingle:"Dalasi",majorPlural:"Dalasis",ISOnum:270,symbol:"D",symbolNative:"D",minorSingle:"Butut",minorPlural:"Bututs",ISOdigits:2,decimals:2,numToBasic:100},GNF:{name:"Guinean Franc",demonym:"Guinean",majorSingle:"Franc",majorPlural:"Francs",ISOnum:324,symbol:"FG",symbolNative:"FG",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:0,decimals:2,numToBasic:100},GTQ:{name:"Guatemalan Quetzal",demonym:"Guatemalan",majorSingle:"Quetzal",majorPlural:"Quetzales",ISOnum:320,symbol:"Q",symbolNative:"$",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},GYD:{name:"Guyanese Dollar",demonym:"Guyanese",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:328,symbol:"G$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},HKD:{name:"Hong Kong Dollar",demonym:"Hong Kong",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:344,symbol:"HK$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},HNL:{name:"Honduran Lempira",demonym:"Honduran",majorSingle:"Lempira",majorPlural:"Lempiras",ISOnum:340,symbol:"L",symbolNative:"L",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},HRK:{name:"Croatian Kuna",demonym:"Croatian",majorSingle:"Kuna",majorPlural:"Kuna",ISOnum:191,symbol:"kn",symbolNative:"kn",minorSingle:"Lipa",minorPlural:"Lipa",ISOdigits:2,decimals:2,numToBasic:100},HTG:{name:"Haitian Gourde",demonym:"Haitian",majorSingle:"Gourde",majorPlural:"Gourdes",ISOnum:332,symbol:"G",symbolNative:"G",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:2,decimals:2,numToBasic:100},HUF:{name:"Hungarian Forint",demonym:"Hungarian",majorSingle:"Forint",majorPlural:"Forint",ISOnum:348,symbol:"Ft",symbolNative:"Ft",minorSingle:"fill\xE9r",minorPlural:"fill\xE9r",ISOdigits:2,decimals:2,numToBasic:100},IDR:{name:"Indonesian Rupiah",demonym:"Indonesian",majorSingle:"Rupiah",majorPlural:"Rupiah",ISOnum:360,symbol:"Rp",symbolNative:"Rp",minorSingle:"Sen",minorPlural:"Sen",ISOdigits:2,decimals:2,numToBasic:100},ILS:{name:"Israeli new Shekel",demonym:"Israeli",majorSingle:"Shekel",majorPlural:"Shekels",ISOnum:376,symbol:"\u20AA",symbolNative:"\u20AA",minorSingle:"Agora",minorPlural:"Agoras",ISOdigits:2,decimals:2,numToBasic:100},IMP:{name:"Manx Pound",demonym:"Manx",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:null,symbol:"\xA3",symbolNative:"\xA3",minorSingle:"Penny",minorPlural:"Pence",ISOdigits:2,decimals:2,numToBasic:100},INR:{name:"Indian Rupee",demonym:"Indian",majorSingle:"Rupee",majorPlural:"Rupees",ISOnum:356,symbol:"Rs.",symbolNative:"\u20B9",minorSingle:"Paisa",minorPlural:"Paise",ISOdigits:2,decimals:2,numToBasic:100},IQD:{name:"Iraqi Dinar",demonym:"Iraqi",majorSingle:"Dinar",majorPlural:"Dinars",ISOnum:368,symbol:"\u062F.\u0639.",symbolNative:"\u062F.\u0639.",minorSingle:"Fils",minorPlural:"Fils",ISOdigits:3,decimals:3,numToBasic:1e3},IRR:{name:"Iranian Rial",demonym:"Iranian",majorSingle:"Rial",majorPlural:"Rials",ISOnum:364,symbol:"\uFDFC",symbolNative:"\uFDFC",minorSingle:"Dinar",minorPlural:"Dinars",ISOdigits:2,decimals:2,numToBasic:100},ISK:{name:"Icelandic Krona",demonym:"Icelandic",majorSingle:"Krona",majorPlural:"Kr\xF3nur",ISOnum:352,symbol:"kr",symbolNative:"kr",minorSingle:"Aurar",minorPlural:"Aurar",ISOdigits:0,decimals:2,numToBasic:100},JEP:{name:"Jersey Pound",demonym:"Jersey",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:null,symbol:"\xA3",symbolNative:"\xA3",minorSingle:"Penny",minorPlural:"Pence",ISOdigits:2,decimals:2,numToBasic:100},JMD:{name:"Jamaican Dollar",demonym:"Jamaican",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:388,symbol:"J$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},JOD:{name:"Jordanian Dinar",demonym:"Jordanian",majorSingle:"Dinar",majorPlural:"Dinars",ISOnum:400,symbol:"JD",symbolNative:"\u062F.\u0623.",minorSingle:"Fils",minorPlural:"Fils",ISOdigits:3,decimals:3,numToBasic:1e3},JPY:{name:"Japanese Yen",demonym:"Japanese",majorSingle:"Yen",majorPlural:"Yen",ISOnum:392,symbol:"\xA5",symbolNative:"\xA5",minorSingle:"Sen",minorPlural:"Sen",ISOdigits:0,decimals:2,numToBasic:100},KES:{name:"Kenyan Shilling",demonym:"Kenyan",majorSingle:"Shilling",majorPlural:"Shillings",ISOnum:404,symbol:"KSh",symbolNative:"KSh",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},KGS:{name:"Kyrgyzstani Som",demonym:"Kyrgyzstani",majorSingle:"Som",majorPlural:"Som",ISOnum:417,symbol:"\u0441",symbolNative:"\u0441",minorSingle:"Tyiyn",minorPlural:"Tyiyn",ISOdigits:2,decimals:2,numToBasic:100},KHR:{name:"Cambodian Riel",demonym:"Cambodian",majorSingle:"Riel",majorPlural:"Riels",ISOnum:116,symbol:"\u17DB",symbolNative:"\u17DB",minorSingle:"Sen",minorPlural:"Sen",ISOdigits:2,decimals:2,numToBasic:100},KID:{name:"Kiribati Dollar",demonym:"Kiribati",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:null,symbol:"$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},KMF:{name:"Comorian Franc",demonym:"Comorian",majorSingle:"Franc",majorPlural:"Francs",ISOnum:174,symbol:"CF",symbolNative:"CF",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:0,decimals:2,numToBasic:100},KPW:{name:"North Korean Won",demonym:"North Korean",majorSingle:"Won",majorPlural:"Won",ISOnum:408,symbol:"\u20A9",symbolNative:"\u20A9",minorSingle:"Chon",minorPlural:"Chon",ISOdigits:2,decimals:2,numToBasic:100},KRW:{name:"South Korean Won",demonym:"South Korean",majorSingle:"Won",majorPlural:"Won",ISOnum:410,symbol:"\u20A9",symbolNative:"\u20A9",minorSingle:"Jeon",minorPlural:"Jeon",ISOdigits:0,decimals:2,numToBasic:100},KWD:{name:"Kuwaiti Dinar",demonym:"Kuwaiti",majorSingle:"Dinar",majorPlural:"Dinars",ISOnum:414,symbol:"KD",symbolNative:"\u062F.\u0643.",minorSingle:"Fils",minorPlural:"Fils",ISOdigits:3,decimals:3,numToBasic:1e3},KYD:{name:"Cayman Islands Dollar",demonym:"Cayman Islands",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:136,symbol:"CI$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},KZT:{name:"Kazakhstani Tenge",demonym:"Kazakhstani",majorSingle:"Tenge",majorPlural:"Tenge",ISOnum:398,symbol:"\u20B8",symbolNative:"\u20B8",minorSingle:"T\u0131yn",minorPlural:"T\u0131yn",ISOdigits:2,decimals:2,numToBasic:100},LAK:{name:"Lao Kip",demonym:"Lao",majorSingle:"Kip",majorPlural:"Kip",ISOnum:418,symbol:"\u20ADN",symbolNative:"\u20AD",minorSingle:"Att",minorPlural:"Att",ISOdigits:2,decimals:2,numToBasic:100},LBP:{name:"Lebanese Pound",demonym:"Lebanese",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:422,symbol:"LL.",symbolNative:"\u0644.\u0644.",minorSingle:"Qirsh",minorPlural:"Qirsh",ISOdigits:2,decimals:2,numToBasic:100},LKR:{name:"Sri Lankan Rupee",demonym:"Sri Lankan",majorSingle:"Rupee",majorPlural:"Rupees",ISOnum:144,symbol:"Rs.",symbolNative:"\u0DBB\u0DD4 or \u0BB0\u0BC2",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},LRD:{name:"Liberian Dollar",demonym:"Liberian",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:430,symbol:"L$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},LSL:{name:"Lesotho Loti",demonym:"Lesotho",majorSingle:"Loti",majorPlural:"maLoti",ISOnum:426,symbol:"L",symbolNative:"L",minorSingle:"Sente",minorPlural:"Lisente",ISOdigits:2,decimals:2,numToBasic:100},LYD:{name:"Libyan Dinar",demonym:"Libyan",majorSingle:"Dinar",majorPlural:"Dinars",ISOnum:434,symbol:"LD",symbolNative:"\u0644.\u062F.",minorSingle:"Dirham",minorPlural:"Dirhams",ISOdigits:3,decimals:3,numToBasic:1e3},MAD:{name:"Moroccan Dirham",demonym:"Moroccan",majorSingle:"Dirham",majorPlural:"Dirhams",ISOnum:504,symbol:"DH",symbolNative:"\u062F.\u0645.",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:2,decimals:2,numToBasic:100},MDL:{name:"Moldovan Leu",demonym:"Moldovan",majorSingle:"Leu",majorPlural:"Lei",ISOnum:498,symbol:"L",symbolNative:"L",minorSingle:"Ban",minorPlural:"Bani",ISOdigits:2,decimals:2,numToBasic:100},MGA:{name:"Malagasy Ariary",demonym:"Malagasy",majorSingle:"Ariary",majorPlural:"Ariary",ISOnum:969,symbol:"Ar",symbolNative:"Ar",minorSingle:"Iraimbilanja",minorPlural:"Iraimbilanja",ISOdigits:2,decimals:0,numToBasic:5},MKD:{name:"Macedonian Denar",demonym:"Macedonian",majorSingle:"Denar",majorPlural:"Denars",ISOnum:807,symbol:"den",symbolNative:"\u0434\u0435\u043D",minorSingle:"Deni",minorPlural:"Deni",ISOdigits:2,decimals:2,numToBasic:100},MMK:{name:"Myanmar Kyat",demonym:"Myanmar",majorSingle:"Kyat",majorPlural:"Kyat",ISOnum:104,symbol:"Ks",symbolNative:"Ks",minorSingle:"Pya",minorPlural:"Pya",ISOdigits:2,decimals:2,numToBasic:100},MNT:{name:"Mongolian T\xF6gr\xF6g",demonym:"Mongolian",majorSingle:"T\xF6gr\xF6g",majorPlural:"T\xF6gr\xF6g",ISOnum:496,symbol:"\u20AE",symbolNative:"\u20AE",minorSingle:"m\xF6ng\xF6",minorPlural:"m\xF6ng\xF6",ISOdigits:2,decimals:2,numToBasic:100},MOP:{name:"Macanese Pataca",demonym:"Macanese",majorSingle:"Pataca",majorPlural:"Patacas",ISOnum:446,symbol:"MOP$",symbolNative:"MOP$",minorSingle:"Avo",minorPlural:"Avos",ISOdigits:2,decimals:2,numToBasic:100},MRU:{name:"Mauritanian Ouguiya",demonym:"Mauritanian",majorSingle:"Ouguiya",majorPlural:"Ouguiya",ISOnum:929,symbol:"UM",symbolNative:"\u0623.\u0645.",minorSingle:"Khoums",minorPlural:"Khoums",ISOdigits:2,decimals:0,numToBasic:5},MUR:{name:"Mauritian Rupee",demonym:"Mauritian",majorSingle:"Rupee",majorPlural:"Rupees",ISOnum:480,symbol:"Rs.",symbolNative:"\u0930\u0941 ",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},MVR:{name:"Maldivian Rufiyaa",demonym:"Maldivian",majorSingle:"Rufiyaa",majorPlural:"Rufiyaa",ISOnum:462,symbol:"MRf",symbolNative:".\u0783",minorSingle:"laari",minorPlural:"laari",ISOdigits:2,decimals:2,numToBasic:100},MWK:{name:"Malawian Kwacha",demonym:"Malawian",majorSingle:"Kwacha",majorPlural:"Kwacha",ISOnum:454,symbol:"MK",symbolNative:"MK",minorSingle:"Tambala",minorPlural:"Tambala",ISOdigits:2,decimals:2,numToBasic:100},MXN:{name:"Mexican Peso",demonym:"Mexican",majorSingle:"Peso",majorPlural:"Pesos",ISOnum:484,symbol:"MX$",symbolNative:"$",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},MYR:{name:"Malaysian Ringgit",demonym:"Malaysian",majorSingle:"Ringgit",majorPlural:"Ringgit",ISOnum:458,symbol:"RM",symbolNative:"RM",minorSingle:"Sen",minorPlural:"Sen",ISOdigits:2,decimals:2,numToBasic:100},MZN:{name:"Mozambican Metical",demonym:"Mozambican",majorSingle:"Metical",majorPlural:"Meticais",ISOnum:943,symbol:"MTn",symbolNative:"MT",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},NAD:{name:"Namibian Dollar",demonym:"Namibian",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:516,symbol:"N$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},NGN:{name:"Nigerian Naira",demonym:"Nigerian",majorSingle:"Naira",majorPlural:"Naira",ISOnum:566,symbol:"\u20A6",symbolNative:"\u20A6",minorSingle:"Kobo",minorPlural:"Kobo",ISOdigits:2,decimals:2,numToBasic:100},NIO:{name:"Nicaraguan C\xF3rdoba",demonym:"Nicaraguan",majorSingle:"C\xF3rdoba Oro",majorPlural:"C\xF3rdoba Oro",ISOnum:558,symbol:"C$",symbolNative:"C$",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},NOK:{name:"Norwegian Krone",demonym:"Norwegian",majorSingle:"Krone",majorPlural:"Kroner",ISOnum:578,symbol:"kr",symbolNative:"kr",minorSingle:"\xF8re",minorPlural:"\xF8re",ISOdigits:2,decimals:2,numToBasic:100},NPR:{name:"Nepalese Rupee",demonym:"Nepalese",majorSingle:"Rupee",majorPlural:"Rupees",ISOnum:524,symbol:"Rs.",symbolNative:"\u0930\u0942",minorSingle:"Paisa",minorPlural:"Paise",ISOdigits:2,decimals:2,numToBasic:100},NZD:{name:"New Zealand Dollar",demonym:"New Zealand",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:554,symbol:"NZ$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},OMR:{name:"Omani Rial",demonym:"Omani",majorSingle:"Rial",majorPlural:"Rials",ISOnum:512,symbol:"OR",symbolNative:"\u0631.\u0639.",minorSingle:"Baisa",minorPlural:"Baisa",ISOdigits:3,decimals:3,numToBasic:1e3},PAB:{name:"Panamanian Balboa",demonym:"Panamanian",majorSingle:"Balboa",majorPlural:"Balboa",ISOnum:590,symbol:"B/.",symbolNative:"B/.",minorSingle:"Cent\xE9simo",minorPlural:"Cent\xE9simos",ISOdigits:2,decimals:2,numToBasic:100},PEN:{name:"Peruvian Sol",demonym:"Peruvian",majorSingle:"Sol",majorPlural:"Soles",ISOnum:604,symbol:"S/.",symbolNative:"S/.",minorSingle:"C\xE9ntimo",minorPlural:"C\xE9ntimos",ISOdigits:2,decimals:2,numToBasic:100},PGK:{name:"Papua New Guinean Kina",demonym:"Papua New Guinean",majorSingle:"Kina",majorPlural:"Kina",ISOnum:598,symbol:"K",symbolNative:"K",minorSingle:"Toea",minorPlural:"Toea",ISOdigits:2,decimals:2,numToBasic:100},PHP:{name:"Philippine Peso",demonym:"Philippine",majorSingle:"Peso",majorPlural:"Pesos",ISOnum:608,symbol:"\u20B1",symbolNative:"\u20B1",minorSingle:"Sentimo",minorPlural:"Sentimo",ISOdigits:2,decimals:2,numToBasic:100},PKR:{name:"Pakistani Rupee",demonym:"Pakistani",majorSingle:"Rupee",majorPlural:"Rupees",ISOnum:586,symbol:"Rs.",symbolNative:"Rs",minorSingle:"Paisa",minorPlural:"Paise",ISOdigits:2,decimals:2,numToBasic:100},PLN:{name:"Polish Zloty",demonym:"Polish",majorSingle:"Zloty",majorPlural:"Zlotys",ISOnum:985,symbol:"z\u0142",symbolNative:"z\u0142",minorSingle:"Grosz",minorPlural:"Groszy",ISOdigits:2,decimals:2,numToBasic:100},PND:{name:"Pitcairn Islands Dollar",demonym:"Pitcairn Islands",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:null,symbol:"$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},PRB:{name:"Transnistrian Ruble",demonym:"Transnistrian",majorSingle:"Ruble",majorPlural:"Rubles",ISOnum:null,symbol:"\u0440.",symbolNative:"\u0440.",minorSingle:"Kopek",minorPlural:"Kopeks",ISOdigits:2,decimals:2,numToBasic:100},PYG:{name:"Paraguayan Guaran\xED",demonym:"Paraguayan",majorSingle:"Guaran\xED",majorPlural:"Guaran\xEDes",ISOnum:600,symbol:"\u20B2",symbolNative:"\u20B2",minorSingle:"Centimo",minorPlural:"Centimos",ISOdigits:0,decimals:2,numToBasic:100},QAR:{name:"Qatari Riyal",demonym:"Qatari",majorSingle:"Riyal",majorPlural:"Riyals",ISOnum:634,symbol:"QR",symbolNative:"\u0631.\u0642.",minorSingle:"Dirham",minorPlural:"Dirhams",ISOdigits:2,decimals:2,numToBasic:100},RON:{name:"Romanian Leu",demonym:"Romanian",majorSingle:"Leu",majorPlural:"Lei",ISOnum:946,symbol:"L",symbolNative:"L",minorSingle:"Ban",minorPlural:"Bani",ISOdigits:2,decimals:2,numToBasic:100},RSD:{name:"Serbian Dinar",demonym:"Serbian",majorSingle:"Dinar",majorPlural:"Dinars",ISOnum:941,symbol:"din",symbolNative:"\u0434\u0438\u043D",minorSingle:"Para",minorPlural:"Para",ISOdigits:2,decimals:2,numToBasic:100},RUB:{name:"Russian Ruble",demonym:"Russian",majorSingle:"Ruble",majorPlural:"Rubles",ISOnum:643,symbol:"\u20BD",symbolNative:"\u20BD",minorSingle:"Kopek",minorPlural:"Kopeks",ISOdigits:2,decimals:2,numToBasic:100},RWF:{name:"Rwandan Franc",demonym:"Rwandan",majorSingle:"Franc",majorPlural:"Francs",ISOnum:646,symbol:"FRw",symbolNative:"R\u20A3",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:0,decimals:2,numToBasic:100},SAR:{name:"Saudi Riyal",demonym:"Saudi",majorSingle:"Riyal",majorPlural:"Riyals",ISOnum:682,symbol:"SR",symbolNative:"\u0631.\u0633.",minorSingle:"Halalah",minorPlural:"Halalahs",ISOdigits:2,decimals:2,numToBasic:100},SBD:{name:"Solomon Islands Dollar",demonym:"Solomon Islands",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:90,symbol:"SI$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},SCR:{name:"Seychellois Rupee",demonym:"Seychellois",majorSingle:"Rupee",majorPlural:"Rupees",ISOnum:690,symbol:"Rs.",symbolNative:"Rs",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},SDG:{name:"Sudanese Pound",demonym:"Sudanese",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:938,symbol:"\xA3SD",symbolNative:"\u062C.\u0633.",minorSingle:"Qirsh",minorPlural:"Qirsh",ISOdigits:2,decimals:2,numToBasic:100},SEK:{name:"Swedish Krona",demonym:"Swedish",majorSingle:"Krona",majorPlural:"Kronor",ISOnum:752,symbol:"kr",symbolNative:"kr",minorSingle:"\xD6re",minorPlural:"\xD6re",ISOdigits:2,decimals:2,numToBasic:100},SGD:{name:"Singapore Dollar",demonym:"Singapore",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:702,symbol:"S$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},SHP:{name:"Saint Helena Pound",demonym:"Saint Helena",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:654,symbol:"\xA3",symbolNative:"\xA3",minorSingle:"Penny",minorPlural:"Pence",ISOdigits:2,decimals:2,numToBasic:100},SLL:{name:"Sierra Leonean Leone",demonym:"Sierra Leonean",majorSingle:"Leone",majorPlural:"Leones",ISOnum:694,symbol:"Le",symbolNative:"Le",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},SLS:{name:"Somaliland Shilling",demonym:"Somaliland",majorSingle:"Shilling",majorPlural:"Shillings",ISOnum:null,symbol:"Sl",symbolNative:"Sl",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},SOS:{name:"Somali Shilling",demonym:"Somali",majorSingle:"Shilling",majorPlural:"Shillings",ISOnum:706,symbol:"Sh.So.",symbolNative:"Ssh",minorSingle:"Senti",minorPlural:"Senti",ISOdigits:2,decimals:2,numToBasic:100},SRD:{name:"Surinamese Dollar",demonym:"Surinamese",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:968,symbol:"Sr$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},SSP:{name:"South Sudanese Pound",demonym:"South Sudanese",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:728,symbol:"SS\xA3",symbolNative:"SS\xA3",minorSingle:"Qirsh",minorPlural:"Qirsh",ISOdigits:2,decimals:2,numToBasic:100},STN:{name:"Sao Tome and Pr\xEDncipe Dobra",demonym:"Sao Tome",majorSingle:"Dobra",majorPlural:"Dobras",ISOnum:930,symbol:"Db",symbolNative:"Db",minorSingle:"Centimo",minorPlural:"Centimos",ISOdigits:2,decimals:2,numToBasic:100},SVC:{name:"Salvadoran Col\xF3n",demonym:"Salvadoran",majorSingle:"Col\xF3n",majorPlural:"Colones",ISOnum:222,symbol:"\u20A1",symbolNative:"\u20A1",minorSingle:"Centavo",minorPlural:"Centavos",ISOdigits:2,decimals:2,numToBasic:100},SYP:{name:"Syrian Pound",demonym:"Syrian",majorSingle:"Pound",majorPlural:"Pounds",ISOnum:760,symbol:"LS",symbolNative:"\u0644.\u0633.",minorSingle:"Qirsh",minorPlural:"Qirsh",ISOdigits:2,decimals:2,numToBasic:100},SZL:{name:"Swazi Lilangeni",demonym:"Swazi",majorSingle:"Lilangeni",majorPlural:"Emalangeni",ISOnum:748,symbol:"L",symbolNative:"L",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},THB:{name:"Thai Baht",demonym:"Thai",majorSingle:"Baht",majorPlural:"Baht",ISOnum:764,symbol:"\u0E3F",symbolNative:"\u0E3F",minorSingle:"Satang",minorPlural:"Satang",ISOdigits:2,decimals:2,numToBasic:100},TJS:{name:"Tajikistani Somoni",demonym:"Tajikistani",majorSingle:"Somoni",majorPlural:"Somoni",ISOnum:972,symbol:"SM",symbolNative:"SM",minorSingle:"Diram",minorPlural:"Diram",ISOdigits:2,decimals:2,numToBasic:100},TMT:{name:"Turkmenistan Manat",demonym:"Turkmenistan",majorSingle:"Manat",majorPlural:"Manat",ISOnum:934,symbol:"m.",symbolNative:"T",minorSingle:"Tenge",minorPlural:"Tenge",ISOdigits:2,decimals:2,numToBasic:100},TND:{name:"Tunisian Dinar",demonym:"Tunisian",majorSingle:"Dinar",majorPlural:"Dinars",ISOnum:788,symbol:"DT",symbolNative:"\u062F.\u062A.",minorSingle:"Millime",minorPlural:"Millime",ISOdigits:3,decimals:3,numToBasic:1e3},TOP:{name:"Tongan Pa\u02BBanga",demonym:"Tongan",majorSingle:"Pa'anga",majorPlural:"Pa'anga",ISOnum:776,symbol:"T$",symbolNative:"PT",minorSingle:"Seniti",minorPlural:"Seniti",ISOdigits:2,decimals:2,numToBasic:100},TRY:{name:"Turkish Lira",demonym:"Turkish",majorSingle:"Lira",majorPlural:"Lira",ISOnum:949,symbol:"TL",symbolNative:"\u20BA",minorSingle:"Kuru\u015F",minorPlural:"Kuru\u015F",ISOdigits:2,decimals:2,numToBasic:100},TTD:{name:"Trinidad and Tobago Dollar",demonym:"Trinidad and Tobago",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:780,symbol:"TT$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},TVD:{name:"Tuvaluan Dollar",demonym:"Tuvaluan",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:null,symbol:"$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},TWD:{name:"New Taiwan Dollar",demonym:"New Taiwan",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:901,symbol:"NT$",symbolNative:"\u5713",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},TZS:{name:"Tanzanian Shilling",demonym:"Tanzanian",majorSingle:"Shilling",majorPlural:"Shillings",ISOnum:834,symbol:"TSh",symbolNative:"TSh",minorSingle:"Senti",minorPlural:"Senti",ISOdigits:2,decimals:2,numToBasic:100},UAH:{name:"Ukrainian Hryvnia",demonym:"Ukrainian",majorSingle:"Hryvnia",majorPlural:"Hryvnias",ISOnum:980,symbol:"\u20B4",symbolNative:"\u0433\u0440\u043D",minorSingle:"Kopiyka",minorPlural:"kopiyky",ISOdigits:2,decimals:2,numToBasic:100},UGX:{name:"Ugandan Shilling",demonym:"Ugandan",majorSingle:"Shilling",majorPlural:"Shillings",ISOnum:800,symbol:"USh",symbolNative:"Sh",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:0,decimals:2,numToBasic:100},USD:{name:"United States Dollar",demonym:"US",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:840,symbol:"$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},UYU:{name:"Uruguayan Peso",demonym:"Uruguayan",majorSingle:"Peso",majorPlural:"Pesos",ISOnum:858,symbol:"$U",symbolNative:"$",minorSingle:"Cent\xE9simo",minorPlural:"Cent\xE9simos",ISOdigits:2,decimals:2,numToBasic:100},UZS:{name:"Uzbekistani Som",demonym:"Uzbekistani",majorSingle:"Som",majorPlural:"Som",ISOnum:860,symbol:"\u0441\u0443\u043C",symbolNative:"\u0441\u0443\u043C",minorSingle:"Tiyin",minorPlural:"Tiyin",ISOdigits:2,decimals:2,numToBasic:100},VED:{name:"Venezuelan bol\xEDvar digital",demonym:"Venezuelan",majorSingle:"Bol\xEDvar Digital",majorPlural:"Bol\xEDvars Digital",ISOnum:null,symbol:"Bs.",symbolNative:"Bs.",minorSingle:"C\xE9ntimo",minorPlural:"C\xE9ntimos",ISOdigits:2,decimals:2,numToBasic:100},VES:{name:"Venezuelan Bol\xEDvar Soberano",demonym:"Venezuelan",majorSingle:"Bol\xEDvar",majorPlural:"Bol\xEDvares",ISOnum:928,symbol:"Bs.F",symbolNative:"Bs.F",minorSingle:"Centimo",minorPlural:"Centimos",ISOdigits:2,decimals:2,numToBasic:100},VND:{name:"Vietnamese Dong",demonym:"Vietnamese",majorSingle:"Dong",majorPlural:"Dong",ISOnum:704,symbol:"\u20AB",symbolNative:"\u20AB",minorSingle:"H\xE0o",minorPlural:"H\xE0o",ISOdigits:0,decimals:2,numToBasic:10},VUV:{name:"Vanuatu Vatu",demonym:"Vanuatu",majorSingle:"Vatu",majorPlural:"Vatu",ISOnum:548,symbol:"VT",symbolNative:"VT",minorSingle:"",minorPlural:"",ISOdigits:0,decimals:0,numToBasic:null},WST:{name:"Samoan Tala",demonym:"Samoan",majorSingle:"Tala",majorPlural:"Tala",ISOnum:882,symbol:"T",symbolNative:"ST",minorSingle:"Sene",minorPlural:"Sene",ISOdigits:2,decimals:2,numToBasic:100},XAF:{name:"Central African CFA Franc BEAC",demonym:"Central African CFA",majorSingle:"Franc",majorPlural:"Francs",ISOnum:950,symbol:"Fr",symbolNative:"Fr.",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:0,decimals:2,numToBasic:100},XCD:{name:"East Caribbean Dollar",demonym:"East Caribbean",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:951,symbol:"$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},XOF:{name:"West African CFA Franc BCEAO",demonym:"West African CFA",majorSingle:"Franc",majorPlural:"Francs",ISOnum:952,symbol:"\u20A3",symbolNative:"\u20A3",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:0,decimals:2,numToBasic:100},XPF:{name:"CFP Franc (Franc Pacifique)",demonym:"CFP",majorSingle:"Franc",majorPlural:"Francs",ISOnum:953,symbol:"\u20A3",symbolNative:"\u20A3",minorSingle:"Centime",minorPlural:"Centimes",ISOdigits:0,decimals:0,numToBasic:100},YER:{name:"Yemeni Rial",demonym:"Yemeni",majorSingle:"Rial",majorPlural:"Rials",ISOnum:886,symbol:"YR",symbolNative:"\u0631.\u064A.",minorSingle:"Fils",minorPlural:"Fils",ISOdigits:2,decimals:2,numToBasic:100},ZAR:{name:"South African Rand",demonym:"South African",majorSingle:"Rand",majorPlural:"Rand",ISOnum:710,symbol:"R",symbolNative:"R",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},ZMW:{name:"Zambian Kwacha",demonym:"Zambian",majorSingle:"Kwacha",majorPlural:"Kwacha",ISOnum:967,symbol:"ZK",symbolNative:"ZK",minorSingle:"Ngwee",minorPlural:"Ngwee",ISOdigits:2,decimals:2,numToBasic:100},ZWB:{name:"RTGS Dollar",demonym:"RTGS",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:null,symbol:"",symbolNative:"",minorSingle:"",minorPlural:"",ISOdigits:0,decimals:0,numToBasic:null},ZWL:{name:"Zimbabwean Dollar",demonym:"Zimbabwean",majorSingle:"Dollar",majorPlural:"Dollars",ISOnum:932,symbol:"Z$",symbolNative:"$",minorSingle:"Cent",minorPlural:"Cents",ISOdigits:2,decimals:2,numToBasic:100},Abkhazia:{name:"Abkhazian Apsar",demonym:"Abkhazian",majorSingle:"Apsar",majorPlural:"Apsark",ISOnum:null,symbol:"",symbolNative:"",minorSingle:"",minorPlural:"",ISOdigits:0,decimals:0,numToBasic:null},Artsakh:{name:"Artsakh Dram",demonym:"Artsakh",majorSingle:"Dram",majorPlural:"Dram",ISOnum:null,symbol:"\u0564\u0580.",symbolNative:"\u0564\u0580.",minorSingle:"Luma",minorPlural:"Luma",ISOdigits:2,decimals:2,numToBasic:100}};var ve=require("obsidian");var he=async()=>{let{jsonData:e,content:t,status:n}=await j("Archive expenditure plan");if(n!=="success")return n;if(e===void 0)throw new Error("Archive expenditure plan data is undefined");if(e===null)return"success";if(t===void 0)throw new Error("Archive expenditure plan content is undefined");let{file:a,status:i}=await D("Expenditure plan");if(i!=="success")return i;if(a===void 0)throw new Error("Expenditure plan file is undefined");if(e.length>1)try{let o=e.map(c=>({...c,amount:0})),r=JSON.stringify(o,null,4),l=t.replace(/```json[\s\S]*?```/,"```json\n"+r+"\n```");return await f.app.vault.modify(a,l),"success"}catch(o){return o}},be=async()=>{let{jsonData:e,content:t,status:n}=await j("Archive income plan");if(n!=="success")return n;if(e===void 0)throw new Error("Archive expenditure plan data is null");if(e===null)return"success";if(t===void 0)throw new Error("Archive expenditure plan content is undefined");let{file:a,status:i}=await D("Income plan");if(i!=="success")return i;if(a===void 0)throw new Error("Income plan file is undefined");if(e.length>1)try{let o=e.map(c=>({...c,amount:0})),r=JSON.stringify(o,null,4),l=t.replace(/```json[\s\S]*?```/,"```json\n"+r+"\n```");return await f.app.vault.modify(a,l),"success"}catch(o){return o}},$e=async()=>{let{jsonData:e,file:t,content:n,status:a}=await D("Expenditure plan");if(a!=="success")return a;if(e===void 0)throw new Error("Expenditure plan info is undefined");if(n===void 0)throw new Error("Expenditure plan content is undefined");if(t===void 0)throw new Error("Expenditure plan file is undefined");let{jsonData:i,status:o}=await j("Archive expenditure plan");if(o!=="success")return o;if(i===void 0)throw new Error("Archive expenditure plan info is undefined");if(i===null)return"success";if(e===null)await he();else if(e.length<i.length)try{let r=i.filter(m=>!e.some(d=>d.id===m.id)).map(m=>({...m,amount:0})),l=[...e,...r],c=JSON.stringify(l,null,4),s=n.replace(/```json[\s\S]*?```/,"```json\n"+c+"\n```");return await f.app.vault.modify(t,s),"success"}catch(r){return r}else if(e.length>i.length)try{let r=i.filter(s=>e.some(m=>m.id===s.id)).map(s=>({...s,amount:0})),l=JSON.stringify(r,null,4),c=n.replace(/```json[\s\S]*?```/,"```json\n"+l+"\n```");return await f.app.vault.modify(t,c),"success"}catch(r){return r}},Ae=async()=>{let{jsonData:e,file:t,content:n,status:a}=await D("Income plan");if(a!=="success")return a;if(e===void 0)throw new Error("Income plan info is undefined");if(n===void 0)throw new Error("Income plan content is undefined");if(t===void 0)throw new Error("Income plan file is undefined");let{jsonData:i,status:o}=await j("Archive income plan");if(o!=="success")return o;if(i===void 0)throw new Error("Archive income plan info is undefined");if(i===null)return"success";if(e===null)await be();else if(e.length<i.length)try{let r=i.filter(m=>!e.some(d=>d.id===m.id)).map(m=>({...m,amount:0})),l=[...e,...r],c=JSON.stringify(l,null,4),s=n.replace(/```json[\s\S]*?```/,"```json\n"+c+"\n```");return await f.app.vault.modify(t,s),"success"}catch(r){return r}else if(e.length>i.length)try{let r=i.filter(s=>e.some(m=>m.id===s.id)).map(s=>({...s,amount:0})),l=JSON.stringify(r,null,4),c=n.replace(/```json[\s\S]*?```/,"```json\n"+l+"\n```");return await f.app.vault.modify(t,c),"success"}catch(r){return r}},Z=async()=>{let{jsonData:e,file:t,content:n,status:a}=await D("Expenditure plan");if(a!=="success")return a;if(e==null)throw new Error("Expenditure plan data is undefined");if(t===void 0)throw new Error("Expenditure plan file is undefined");if(n===void 0)throw new Error("Expenditure plan content is undefined");let{file:i,status:o}=await j("Archive expenditure plan");if(o!=="success")return o;if(i===void 0)throw new Error("Archive expenditure plan file is undefined");if(e.length<=1)try{let r=await app.vault.read(t);return await f.app.vault.modify(i,r),"success"}catch(r){return r}else try{let r=e.map(({amount:s,...m})=>m),l=JSON.stringify(r,null,4),c=n.replace(/```json[\s\S]*?```/,"```json\n"+l+"\n```");return await f.app.vault.modify(i,c),"success"}catch(r){return r}},W=async()=>{let{jsonData:e,file:t,content:n,status:a}=await D("Income plan");if(a!=="success")return a;if(e==null)throw new Error("Income plan data is undefined");if(t===void 0)throw new Error("Income plan file is undefined");if(n===void 0)throw new Error("Income plan content is undefined");let{file:i,status:o}=await j("Archive income plan");if(o!=="success")return o;if(i===void 0)throw new Error("Archive income plan file is undefined");if(e.length<=1)try{let r=await app.vault.read(t);return await f.app.vault.modify(i,r),"success"}catch(r){return r}else try{let r=e.map(({amount:s,...m})=>m),l=JSON.stringify(r,null,4),c=n.replace(/```json[\s\S]*?```/,"```json\n"+l+"\n```");return await f.app.vault.modify(i,c),"success"}catch(r){return r}};var _=["January","February","March","April","May","June","July","August","September","October","November","December"],se=async()=>{let{year:e,month:t}=Y(),n=!1,a=`---
tags:
  - ${f.settings.defaultTag}
---
\`\`\`json
\`\`\``,i=`${f.settings.targetFolder}/Archive`,o=`${i}/Archive expenditure plan.md`,r=`${i}/Archive income plan.md`,l=`${i}/Archive bills.md`,c=`${f.settings.targetFolder}/${e}`,s=`${c}/${t}`,m=`${s}/History.md`,d=`${s}/Expenditure plan.md`,u=`${s}/Income plan.md`;try{return await f.app.vault.adapter.exists(f.settings.targetFolder)||await f.app.vault.createFolder(f.settings.targetFolder),await f.app.vault.adapter.exists(c)||await f.app.vault.createFolder(c),await f.app.vault.adapter.exists(s)||await f.app.vault.createFolder(s),await f.app.vault.adapter.exists(m)||await f.app.vault.create(m,a),await f.app.vault.adapter.exists(d)?await $e():(await f.app.vault.create(d,a),await he()),await f.app.vault.adapter.exists(u)?await Ae():(await f.app.vault.create(u,a),await be()),await f.app.vault.adapter.exists(i)||await f.app.vault.createFolder(i),await f.app.vault.adapter.exists(o)||await f.app.vault.create(o,a),await f.app.vault.adapter.exists(r)||await f.app.vault.create(r,a),await f.app.vault.adapter.exists(l)||await f.app.vault.create(l,a),n=!0,n}catch(y){throw console.error("createDirectory error",y),y}},Ze=async(e,t)=>{let n=`---
tags:
  - ${f.settings.defaultTag}
---
\`\`\`json
\`\`\``,a=`${f.settings.targetFolder}/${t}`,i=`${a}/${_[e]}`,o=`${i}/History.md`,r=`${i}/Expenditure plan.md`,l=`${i}/Income plan.md`;try{return await f.app.vault.adapter.exists(f.settings.targetFolder)||await f.app.vault.createFolder(f.settings.targetFolder),await f.app.vault.adapter.exists(a)||await f.app.vault.createFolder(a),await f.app.vault.adapter.exists(i)||await f.app.vault.createFolder(i),await f.app.vault.adapter.exists(o)||await f.app.vault.create(o,n),await f.app.vault.adapter.exists(r)?await $e():(await f.app.vault.create(r,n),await he()),await f.app.vault.adapter.exists(l)?await Ae():(await f.app.vault.create(l,n),await be()),"success"}catch(c){return console.error("defCreateOtherMonthDirectory error",c),"Error creating directory"}};var D=async e=>{let{selectedYear:t,selectedMonth:n}=F(),{year:a,month:i}=t&&n?{year:t,month:n}:Y(),o=`${f.settings.targetFolder}/${a}/${i}/${e}.md`,r=app.vault.getAbstractFileByPath(o);if(!(r instanceof ve.TFile))return await se(),{status:`File not found: ${o}. Please try again`};let l=await app.vault.read(r);if(!l)return{status:`File is empty: ${o}`};let c=l.match(/```json([\s\S]*?)```/);if(c===null)throw new Error("jsonMatch file is null");let s;return c[1].length>3?s=JSON.parse(c[1].trim()):s=null,{jsonData:s,content:l,file:r,status:"success"}},ce=async(e,t,n)=>{let a=`${f.settings.targetFolder}/${t}/${n}/${e}.md`,i=app.vault.getAbstractFileByPath(a);if(!(i instanceof ve.TFile))return{status:"File not found"};let o=await app.vault.read(i);if(!o)return{status:"File is empty"};let r=o.match(/```json([\s\S]*?)```/);if(r===null)throw new Error("jsonMatch file is null");let l;return r[1].length>3?l=JSON.parse(r[1].trim()):l=null,{jsonData:l,content:o,file:i,status:"success"}},j=async e=>{let t=`${f.settings.targetFolder}/Archive/${e}.md`,n=app.vault.getAbstractFileByPath(t);if(!(n instanceof ve.TFile))return await se(),{status:`File not found: ${t}. Please try again`};let a=await app.vault.read(n);if(!a)return{status:`File is empty: ${t}`};let i=a.match(/```json([\s\S]*?)```/);if(i===null)throw new Error("jsonMatch file is null");let o;return i[1].length>3?o=JSON.parse(i[1].trim()):o=null,{jsonData:o,content:a,file:n,status:"success"}},G=async(e,t)=>{let n={History:()=>D("History"),expense:()=>D("Expenditure plan"),income:()=>D("Income plan"),"Archive bills":()=>j("Archive bills")};try{let a=n[t];if(!a)return"Element not found";let{jsonData:i,status:o}=await a();if(o!=="success")return o;if(!i)throw new Error("jsonData is null or undefined");let r=i.find(l=>l.id===e);return r?{status:"success",item:r}:{status:"Item not found"}}catch(a){return{status:a}}},We=async e=>{try{let t=e.toLowerCase(),[n,a,i,o]=await Promise.all([D("History"),D("Expenditure plan"),D("Income plan"),j("Archive bills")]);if(n.status!=="success")return{status:n.status};if(!n.jsonData)throw new Error("History jsonData is null or undefined");if(!a.jsonData||!i.jsonData||!o.jsonData)throw new Error("Additional data is null or undefined");let l=[...a.jsonData,...i.jsonData,...o.jsonData].filter(s=>"name"in s&&s.name.toLowerCase().includes(t)).map(s=>s.id),c=n.jsonData.filter(s=>{var d,u,y,h;let m=((d=s.type)==null?void 0:d.toLowerCase().includes(t))||s.amount.toString().includes(e)||((u=s.comment)==null?void 0:u.toLowerCase().includes(t));return l.length===0?m:m||((y=s.bill)==null?void 0:y.id)&&l.includes(s.bill.id)||((h=s.category)==null?void 0:h.id)&&l.includes(s.category.id)});return{status:"success",jsonData:c.length?c:null}}catch(t){return{status:t}}};var Qe=["USD","EUR","RUB","KZT","UZS"],we=()=>crypto.randomUUID(),Y=()=>{if(typeof moment!="undefined"){moment.locale("en");let e=moment(),t=e.format("YYYY"),n=e.format("MMMM");return{now:e,year:t,month:n}}else{let e=new Date,t=String(e.getFullYear()),n=_[e.getMonth()];return{now:e,year:t,month:n}}},Pe=()=>{let e=Object.entries(Ne).map(([a,i])=>({code:a,name:i.name||a,symbol:i.symbol||i.symbolNative})),t=e.filter(a=>Qe.includes(a.code)),n=e.filter(a=>!Qe.includes(a.code));return{popularCurrencies:t,otherCurrencies:n}};function Ee(e,t){let n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["January","February","March","April","May","June","July","August","September","October","November","December"],{selectedYear:i,selectedMonth:o}=F();if(i===null&&o===null){let r=new Date,l=r.getFullYear(),c=r.getMonth(),s=new Date(l,c+1,0).getDate();for(let m=s;m>=1;m--){let d=new Date(l,c,m),u=d.getDate(),y=n[d.getDay()],h=a[c],p=`${u} ${h}, ${y}`,g=Math.floor((d-r)/(1e3*60*60*24));g===-1?p=`Today, ${p}`:g===0?p=`Tomorrow, ${p}`:g===1?p=`The day after tomorrow, ${p}`:g===-2?p=`Yesterday, ${p}`:g===-3&&(p=`The day before yesterday, ${p}`);let S=`${l}-${String(c+1).padStart(2,"0")}-${String(m).padStart(2,"0")}`,w=e.createEl("option",{text:p,attr:{value:S}});(S===t||g===-1)&&(w.selected=!0)}}else{let r=new Date(`${o} 1, ${i}`),l=isNaN(r)?null:r.getMonth(),c=new Date,s=Number(i),m=l,d=new Date(s,m+1,0).getDate();for(let u=d;u>=1;u--){let y=new Date(s,m,u),h=y.getDate(),p=n[y.getDay()],g=a[m],S=`${h} ${g}, ${p}`,w=`${s}-${String(m+1).padStart(2,"0")}-${String(u).padStart(2,"0")}`,b=e.createEl("option",{text:S,attr:{value:w}})}}}function De(e,t){let n=new Date,a=new Date(n.getFullYear(),n.getMonth(),n.getDate()+t),i=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`;Array.from(e.options).find(r=>r.value===i)&&(e.value=i)}function Ie(e,t){return t==="expense"?`- ${e}`:t==="income"?`+ ${e}`:"Error"}function je(e){let t=J(e),n=U(e);return t===0?`+${n}`:n===0?`-${t}`:`-${t} +${n}`}function J(e){if(!e)return 0;let t=0;return e.forEach((n,a)=>{n.type==="expense"&&(t+=Number(n.amount))}),t}function U(e){if(!e)return 0;let t=0;return e.forEach((n,a)=>{n.type==="income"&&(t+=Number(n.amount))}),t}function te(e){if(!e||e===null)return 0;let t=0;return e.forEach((n,a)=>{n.generalBalance&&(t+=Number(n.balance))}),t}function qe(e){if(!e||e===null)return 0;let t=0;return e.forEach((n,a)=>{n.generalBalance||(t+=Number(n.balance))}),t}function Xe(e){let t=new Date,n=t.getFullYear(),a=t.getMonth(),i=new Date(n,a+1,0).getDate(),o=t.getDate(),r=i-o+1;return Math.trunc(e/r)}function N(e){let t=Ne[e];return t&&(t.symbol||t.symbolNative)||e}function en(e,t){let n=Number(te(e))+Number(J(t)),a=Number(J(t))/n*100;return Number(J(t))<=n?100-a:a===0?100:a}function Be(e){let[t,n,a]=e.split("-").map(Number),i=new Date(t,n-1,a),o=new Date;o.setHours(0,0,0,0);let r=Math.round((o-i)/(1e3*60*60*24)),l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["January","February","March","April","May","June","July","August","September","October","November","December"],s="";r===0?s="Today":r===1&&(s="Yesterday");let m=`${c[i.getMonth()]} ${i.getDate()}, ${l[i.getDay()]}`;return s?`${s}, ${m}`:m}async function nn(e,t,n){let{jsonData:a,status:i}=await ce("Expenditure plan",t,e);if(i!=="success")return;if(a===void 0)throw new Error("Expesnse plan is undefined");let{jsonData:o,status:r}=await ce("Income plan",t,e);if(r!=="success")return;if(o===void 0)throw new Error("Expesnse plan is undefined");let l=J(a),c=U(o);c>=l?(n.createEl("span",{text:`-${l}`,cls:"expense-all-month-success"}),n.createEl("span",{text:`+${c}`,cls:"income-all-month"})):(n.createEl("span",{text:`-${l}`,cls:"expense-all-month-failure"}),n.createEl("span",{text:`+${c}`,cls:"income-all-month"}))}async function tn(e){let t=0,n=0;for(let a=1;a<=12;a++){let{jsonData:i,status:o}=await ce("Expenditure plan",e,_[a]);if(o==="File not found")continue;if(o==="File is empty")continue;if(i===void 0)throw new Error("Expesnse plan is undefined");let{jsonData:r,status:l}=await ce("Income plan",e,_[a]);if(l!=="File not found"&&l!=="File is empty"){if(r===void 0)throw new Error("Expesnse plan is undefined");t+=J(i),n+=U(r)}}return`-${t} +${n}`}function an(){let e=new Date;return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[1].split(".")[0]}var V=require("obsidian");var M=require("obsidian");var Tn=20,Nn=1,Q=1e6,on=1e6,$n=-7,An=21,Fn=!1,me="[big.js] ",q=me+"Invalid ",Oe=q+"decimal places",kn=q+"rounding mode",rn=me+"Division by zero",x={},z=void 0,Mn=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function ln(){function e(t){var n=this;if(!(n instanceof e))return t===z&&arguments.length===0?ln():new e(t);if(t instanceof e)n.s=t.s,n.e=t.e,n.c=t.c.slice();else{if(typeof t!="string"){if(e.strict===!0&&typeof t!="bigint")throw TypeError(q+"value");t=t===0&&1/t<0?"-0":String(t)}Ln(n,t)}n.constructor=e}return e.prototype=x,e.DP=Tn,e.RM=Nn,e.NE=$n,e.PE=An,e.strict=Fn,e.roundDown=0,e.roundHalfUp=1,e.roundHalfEven=2,e.roundUp=3,e}function Ln(e,t){var n,a,i;if(!Mn.test(t))throw Error(q+"number");for(e.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),i=t.length,a=0;a<i&&t.charAt(a)=="0";)++a;if(a==i)e.c=[e.e=0];else{for(;i>0&&t.charAt(--i)=="0";);for(e.e=n-a-1,e.c=[],n=0;a<=i;)e.c[n++]=+t.charAt(a++)}return e}function X(e,t,n,a){var i=e.c;if(n===z&&(n=e.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(kn);if(t<1)a=n===3&&(a||!!i[0])||t===0&&(n===1&&i[0]>=5||n===2&&(i[0]>5||i[0]===5&&(a||i[1]!==z))),i.length=1,a?(e.e=e.e-t+1,i[0]=1):i[0]=e.e=0;else if(t<i.length){if(a=n===1&&i[t]>=5||n===2&&(i[t]>5||i[t]===5&&(a||i[t+1]!==z||i[t-1]&1))||n===3&&(a||!!i[0]),i.length=t,a){for(;++i[--t]>9;)if(i[t]=0,t===0){++e.e,i.unshift(1);break}}for(t=i.length;!i[--t];)i.pop()}return e}function ee(e,t,n){var a=e.e,i=e.c.join(""),o=i.length;if(t)i=i.charAt(0)+(o>1?"."+i.slice(1):"")+(a<0?"e":"e+")+a;else if(a<0){for(;++a;)i="0"+i;i="0."+i}else if(a>0)if(++a>o)for(a-=o;a--;)i+="0";else a<o&&(i=i.slice(0,a)+"."+i.slice(a));else o>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&n?"-"+i:i}x.abs=function(){var e=new this.constructor(this);return e.s=1,e};x.cmp=function(e){var t,n=this,a=n.c,i=(e=new n.constructor(e)).c,o=n.s,r=e.s,l=n.e,c=e.e;if(!a[0]||!i[0])return a[0]?o:i[0]?-r:0;if(o!=r)return o;if(t=o<0,l!=c)return l>c^t?1:-1;for(r=(l=a.length)<(c=i.length)?l:c,o=-1;++o<r;)if(a[o]!=i[o])return a[o]>i[o]^t?1:-1;return l==c?0:l>c^t?1:-1};x.div=function(e){var t=this,n=t.constructor,a=t.c,i=(e=new n(e)).c,o=t.s==e.s?1:-1,r=n.DP;if(r!==~~r||r<0||r>Q)throw Error(Oe);if(!i[0])throw Error(rn);if(!a[0])return e.s=o,e.c=[e.e=0],e;var l,c,s,m,d,u=i.slice(),y=l=i.length,h=a.length,p=a.slice(0,l),g=p.length,S=e,w=S.c=[],b=0,P=r+(S.e=t.e-e.e)+1;for(S.s=o,o=P<0?0:P,u.unshift(0);g++<l;)p.push(0);do{for(s=0;s<10;s++){if(l!=(g=p.length))m=l>g?1:-1;else for(d=-1,m=0;++d<l;)if(i[d]!=p[d]){m=i[d]>p[d]?1:-1;break}if(m<0){for(c=g==l?i:u;g;){if(p[--g]<c[g]){for(d=g;d&&!p[--d];)p[d]=9;--p[d],p[g]+=10}p[g]-=c[g]}for(;!p[0];)p.shift()}else break}w[b++]=m?s:++s,p[0]&&m?p[g]=a[y]||0:p=[a[y]]}while((y++<h||p[0]!==z)&&o--);return!w[0]&&b!=1&&(w.shift(),S.e--,P--),b>P&&X(S,P,n.RM,p[0]!==z),S};x.eq=function(e){return this.cmp(e)===0};x.gt=function(e){return this.cmp(e)>0};x.gte=function(e){return this.cmp(e)>-1};x.lt=function(e){return this.cmp(e)<0};x.lte=function(e){return this.cmp(e)<1};x.minus=x.sub=function(e){var t,n,a,i,o=this,r=o.constructor,l=o.s,c=(e=new r(e)).s;if(l!=c)return e.s=-c,o.plus(e);var s=o.c.slice(),m=o.e,d=e.c,u=e.e;if(!s[0]||!d[0])return d[0]?e.s=-c:s[0]?e=new r(o):e.s=1,e;if(l=m-u){for((i=l<0)?(l=-l,a=s):(u=m,a=d),a.reverse(),c=l;c--;)a.push(0);a.reverse()}else for(n=((i=s.length<d.length)?s:d).length,l=c=0;c<n;c++)if(s[c]!=d[c]){i=s[c]<d[c];break}if(i&&(a=s,s=d,d=a,e.s=-e.s),(c=(n=d.length)-(t=s.length))>0)for(;c--;)s[t++]=0;for(c=t;n>l;){if(s[--n]<d[n]){for(t=n;t&&!s[--t];)s[t]=9;--s[t],s[n]+=10}s[n]-=d[n]}for(;s[--c]===0;)s.pop();for(;s[0]===0;)s.shift(),--u;return s[0]||(e.s=1,s=[u=0]),e.c=s,e.e=u,e};x.mod=function(e){var t,n=this,a=n.constructor,i=n.s,o=(e=new a(e)).s;if(!e.c[0])throw Error(rn);return n.s=e.s=1,t=e.cmp(n)==1,n.s=i,e.s=o,t?new a(n):(i=a.DP,o=a.RM,a.DP=a.RM=0,n=n.div(e),a.DP=i,a.RM=o,this.minus(n.times(e)))};x.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e};x.plus=x.add=function(e){var t,n,a,i=this,o=i.constructor;if(e=new o(e),i.s!=e.s)return e.s=-e.s,i.minus(e);var r=i.e,l=i.c,c=e.e,s=e.c;if(!l[0]||!s[0])return s[0]||(l[0]?e=new o(i):e.s=i.s),e;if(l=l.slice(),t=r-c){for(t>0?(c=r,a=s):(t=-t,a=l),a.reverse();t--;)a.push(0);a.reverse()}for(l.length-s.length<0&&(a=s,s=l,l=a),t=s.length,n=0;t;l[t]%=10)n=(l[--t]=l[t]+s[t]+n)/10|0;for(n&&(l.unshift(n),++c),t=l.length;l[--t]===0;)l.pop();return e.c=l,e.e=c,e};x.pow=function(e){var t=this,n=new t.constructor("1"),a=n,i=e<0;if(e!==~~e||e<-on||e>on)throw Error(q+"exponent");for(i&&(e=-e);e&1&&(a=a.times(t)),e>>=1,!!e;)t=t.times(t);return i?n.div(a):a};x.prec=function(e,t){if(e!==~~e||e<1||e>Q)throw Error(q+"precision");return X(new this.constructor(this),e,t)};x.round=function(e,t){if(e===z)e=0;else if(e!==~~e||e<-Q||e>Q)throw Error(Oe);return X(new this.constructor(this),e+this.e+1,t)};x.sqrt=function(){var e,t,n,a=this,i=a.constructor,o=a.s,r=a.e,l=new i("0.5");if(!a.c[0])return new i(a);if(o<0)throw Error(me+"No square root");o=Math.sqrt(+ee(a,!0,!0)),o===0||o===1/0?(t=a.c.join(""),t.length+r&1||(t+="0"),o=Math.sqrt(t),r=((r+1)/2|0)-(r<0||r&1),e=new i((o==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+r)):e=new i(o+""),r=e.e+(i.DP+=4);do n=e,e=l.times(n.plus(a.div(n)));while(n.c.slice(0,r).join("")!==e.c.slice(0,r).join(""));return X(e,(i.DP-=4)+e.e+1,i.RM)};x.times=x.mul=function(e){var t,n=this,a=n.constructor,i=n.c,o=(e=new a(e)).c,r=i.length,l=o.length,c=n.e,s=e.e;if(e.s=n.s==e.s?1:-1,!i[0]||!o[0])return e.c=[e.e=0],e;for(e.e=c+s,r<l&&(t=i,i=o,o=t,s=r,r=l,l=s),t=new Array(s=r+l);s--;)t[s]=0;for(c=l;c--;){for(l=0,s=r+c;s>c;)l=t[s]+o[c]*i[s-c-1]+l,t[s--]=l%10,l=l/10|0;t[s]=l}for(l?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e};x.toExponential=function(e,t){var n=this,a=n.c[0];if(e!==z){if(e!==~~e||e<0||e>Q)throw Error(Oe);for(n=X(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return ee(n,!0,!!a)};x.toFixed=function(e,t){var n=this,a=n.c[0];if(e!==z){if(e!==~~e||e<0||e>Q)throw Error(Oe);for(n=X(new n.constructor(n),e+n.e+1,t),e=e+n.e+1;n.c.length<e;)n.c.push(0)}return ee(n,!1,!!a)};x.toJSON=x.toString=function(){var e=this,t=e.constructor;return ee(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])};typeof Symbol!="undefined"&&(x[Symbol.for("nodejs.util.inspect.custom")]=x.toJSON);x.toNumber=function(){var e=+ee(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(e.toString()))throw Error(me+"Imprecise conversion");return e};x.toPrecision=function(e,t){var n=this,a=n.constructor,i=n.c[0];if(e!==z){if(e!==~~e||e<1||e>Q)throw Error(q+"precision");for(n=X(new a(n),e,t);n.c.length<e;)n.c.push(0)}return ee(n,e<=n.e||n.e<=a.NE||n.e>=a.PE,!!i)};x.valueOf=function(){var e=this,t=e.constructor;if(t.strict===!0)throw Error(me+"valueOf disallowed");return ee(e,e.e<=t.NE||e.e>=t.PE,!0)};var Rn=ln(),A=Rn;var ue=require("obsidian");var xe=async(e,t)=>{let{jsonData:n}=await j("Archive bills");if(n==null)throw new Error("Bill is null or undefined");let a=n.find(o=>o.id===e.bill.id);if(!a)return`Bill ${e.bill.id} not found`;let i=t?new A(a.balance).plus(t.amount):new A(a.balance);return new A(e.amount).gt(i)?`On bill ${a.name} insufficient funds`:"success"},Fe=async(e,t)=>{let n=app.vault.getAbstractFileByPath(f.settings.targetFolder);if(!n||!(n instanceof ue.TFolder))throw new Error("Finance folder not found or is not a folder");let a=[],i=o=>{for(let r of o.children)r instanceof ue.TFolder?i(r):r instanceof ue.TFile&&r.name==="History.md"&&a.push(r)};i(n);for(let o of a)try{let l=(await app.vault.read(o)).match(/```json([\s\S]*?)```/);if(!l||l[1].trim().length<=2)continue;let c=JSON.parse(l[1].trim());if(!Array.isArray(c))continue;if(c.some(m=>{var d,u;return t==="plan"?((d=m==null?void 0:m.category)==null?void 0:d.id)===e:t==="bill"?((u=m==null?void 0:m.bill)==null?void 0:u.id)===e:!1}))return!0}catch(r){console.error(`Error processing file: ${o.path}`,r)}return!1};var sn=async(e,t)=>{let{jsonData:n,content:a,file:i,status:o}=await D("History");if(o!=="success")return o;if(!n)return"Error with data history";if(!a)return"Error with content history";if(!i)return"Error with file history";if(e.type==="expense"){let r=await xe(e,t)}if(e.type==="expense"){let r=await ae(e,"edit",t);if(r!=="success")return r}else if(e.type==="income"){let r=await ie(e,"edit",t);if(r!=="success")return r}else return"Error";try{let r=n.map(s=>s.id===e.id?{...s,...e}:s),l=JSON.stringify(r,null,4),c=a.replace(/```json[\s\S]*?```/,"```json\n"+l+"\n```");return await f.app.vault.modify(i,c),"success"}catch(r){return r}},cn=async e=>{let t={expense:()=>D("Expenditure plan"),income:()=>D("Income plan")};try{let n=t[e.type];if(!n)return"Element not found";let{jsonData:a,content:i,file:o,status:r}=await n();if(r!=="success")return r;if(!a)return"jsonData is null or undefined";if(!o)return"History file is null or undefined";if(!i)return"History content is null or undefined";let l=a.map(m=>m.id===e.id?{...m,...e}:m),c=JSON.stringify(l,null,4)+"\n```",s=i.replace(/```json[\s\S]*?```/,"```json\n"+c);if(await f.app.vault.modify(o,s),e.type==="expense")await Z();else if(e.type==="income")await W();else return"Error: Plan archiving error";return"success"}catch(n){return n}},mn=async e=>{e.balance===""&&(e.balance="0");let{jsonData:t,content:n,file:a,status:i}=await j("Archive bills");if(i!=="success")return i;if(!t)return"Error with data bill";if(!n)return"Error with content bill";if(!a)return"Error with file bill";try{let o=t.map(c=>c.id===e.id?{...c,...e}:c),r=JSON.stringify(o,null,4)+"\n```",l=n.replace(/```json[\s\S]*?```/,"```json\n"+r);return await f.app.vault.modify(a,l),"success"}catch(o){return o}},de=async(e,t,n)=>{try{let a=JSON.stringify(e,null,4),i=n.replace(/```json[\s\S]*?```/,"```json\n"+a+"\n```");return await f.app.vault.modify(t,i),"success"}catch(a){return`Error update ${t.name}: ${a}`}};A.DP=2;A.RM=A.roundHalfUp;var ae=async(e,t,n)=>{let a=new A(e.amount),i=await j("Archive bills");if(i.status!=="success")return i.status;if(!i.jsonData||!i.file||!i.content)return"Bills data error";let o=await D("Expenditure plan");if(o.status!=="success")return o.status;if(!o.jsonData||!o.file||!o.content)return"Plans data error";let r=i.jsonData,l=o.jsonData,c=async()=>{let d=await de(r,i.file,i.content);if(d!=="success")return d;let u=await de(l,o.file,o.content);return u!=="success"?u:"success"},s=(d,u)=>{r=r.map(y=>y.id===d?{...y,balance:new A(y.balance).plus(u).toFixed(2)}:y)},m=(d,u)=>{l=l.map(y=>y.id===d?{...y,amount:new A(y.amount).plus(u).toFixed(2)}:y)};switch(t){case"add":return s(e.bill.id,a.times(-1)),m(e.category.id,a),await c();case"remove":return s(e.bill.id,a),m(e.category.id,a.times(-1)),await c();case"edit":if(!n)return"Old data is required for edit";let d=new A(n.amount);s(n.bill.id,d),m(n.category.id,d.times(-1)),await c();let u=await j("Archive bills"),y=await D("Expenditure plan");return!u.jsonData||!y.jsonData?"Reload data error":(r=u.jsonData,l=y.jsonData,s(e.bill.id,a.times(-1)),m(e.category.id,a),await c());default:return"Invalid modifier"}},ie=async(e,t,n)=>{let a=new A(e.amount),i=await j("Archive bills");if(i.status!=="success")return i.status;if(!i.jsonData||!i.file||!i.content)return"Bills data error";let o=await D("Income plan");if(o.status!=="success")return o.status;if(!o.jsonData||!o.file||!o.content)return"Plans data error";let r=i.jsonData,l=o.jsonData,c=async()=>{let d=await de(r,i.file,i.content);if(d!=="success")return d;let u=await de(l,o.file,o.content);return u!=="success"?u:"success"},s=(d,u)=>{r=r.map(y=>y.id===d?{...y,balance:new A(y.balance).plus(u).toFixed(2)}:y)},m=(d,u)=>{l=l.map(y=>y.id===d?{...y,amount:new A(y.amount).plus(u).toFixed(2)}:y)};switch(t){case"add":return s(e.bill.id,a),m(e.category.id,a),await c();case"remove":return s(e.bill.id,a.times(-1)),m(e.category.id,a.times(-1)),await c();case"edit":if(!n)return"Old data is required for edit";let d=new A(n.amount);s(n.bill.id,d.times(-1)),m(n.category.id,d.times(-1)),await c();let u=await j("Archive bills"),y=await D("Income plan");return!u.jsonData||!y.jsonData?"Reload data error":(r=u.jsonData,l=y.jsonData,s(e.bill.id,a),m(e.category.id,a),await c());default:return"Invalid modifier"}},un=async e=>{if(e.fromBillId===e.toBillId)return"Cannot transfer to the same bill";let{jsonData:t,file:n,content:a,status:i}=await j("Archive bills");if(i!=="success")return i;if(!t||!n||!a)return"Bills data is corrupted or missing";let o=t.find(p=>p.id===e.fromBillId),r=t.find(p=>p.id===e.toBillId);if(!o||!r)return"One of the bills was not found";let l=new A(o.balance),c=new A(r.balance),s,m;if(e.type==="same-currency"?(s=new A(e.amount),m=s):(s=new A(e.sourceAmount),m=new A(e.targetAmount)),s.gt(l))return`Insufficient funds in the ${o.name}`;let d=l.minus(s),u=c.plus(m),y=t.map(p=>p.id===o.id?{...p,balance:d.toFixed(2)}:p.id===r.id?{...p,balance:u.toFixed(2)}:p),h=a.replace(/```json[\s\S]*?```/,`\`\`\`json
${JSON.stringify(y,null,4)}
\`\`\``);try{return await f.app.vault.modify(n,h),"success"}catch(p){return String(p)}};var dn=async e=>{let t=await xe(e);if(e.type==="expense"&&t!=="success")return t;let{jsonData:n,content:a,file:i,status:o}=await D("History");if(o!=="success")return o;if(e.type==="expense"){let r=await ae(e,"add");if(r!=="success")return r}else if(e.type==="income"){let r=await ie(e,"add");if(r!=="success")return r}else return"Error";if(a===void 0)throw new Error("content is undefined");if(i===void 0)throw new Error("file is undefined");try{if(n==null){let r=JSON.stringify([e],null,4)+"\n```",l=a.replace(/\```$/,r);return await f.app.vault.modify(i,l),"success"}else if(n.length>=1){let r=JSON.stringify([e],null,4)+"]\n```",l=a.lastIndexOf("}"),c=a.slice(0,l+1)+`,
`+r.replace(/\[/,"").replace(/\]/,"");return await f.app.vault.modify(i,c),"success"}else throw new Error("jsonData has an unexpected format")}catch(r){return r}},pn=async e=>e.type==="expense"?await Hn(e):e.type==="income"?await Kn(e):"Error";async function Hn(e){let{jsonData:t,content:n,file:a,status:i}=await D("Expenditure plan");if(i!=="success")return i;if(t===void 0)throw new Error("Archive bills is null or undefined");if(n==null)throw new Error("Archive bills content is null or undefined");if(a==null)throw new Error("Archive bills content is null or undefined");try{if(t===null){let o=JSON.stringify([e],null,4)+"\n```",r=n.replace(/\```$/,o);return await f.app.vault.modify(a,r),await Z()!=="success"?"Error archiving expenditure plan":"success"}else if(t.length>=1){let o=JSON.stringify([e],null,4)+"]\n```",r=n.lastIndexOf("}"),l=n.slice(0,r+1)+`,
`+o.replace(/\[/,"").replace(/\]/,"");return await f.app.vault.modify(a,l),await Z()!=="success"?"Error archiving expenditure plan":"success"}else return"Error with jsonData expenditure plan"}catch(o){return o}}async function Kn(e){let{jsonData:t,content:n,file:a,status:i}=await D("Income plan");if(i!=="success")return i;if(t===void 0)throw new Error("Archive bills is null or undefined");if(n==null)throw new Error("Archive bills content is null or undefined");if(a==null)throw new Error("Archive bills content is null or undefined");try{if(t===null){let o=JSON.stringify([e],null,4)+"\n```",r=n.replace(/\```$/,o);return await f.app.vault.modify(a,r),await W()!=="success"?"Error archiving income plan":"success"}else if(t.length>=1){let o=JSON.stringify([e],null,4)+"]\n```",r=n.lastIndexOf("}"),l=n.slice(0,r+1)+`,
`+o.replace(/\[/,"").replace(/\]/,"");return await f.app.vault.modify(a,l),await W()!=="success"?"Error archiving income plan":"success"}else return"Error with jsonData income plan"}catch(o){return o}}var yn=async e=>{e.balance===""&&(e.balance="0");let{jsonData:t,content:n,file:a,status:i}=await j("Archive bills");if(i!=="success")return i;if(t===void 0)throw new Error("Archive bills is null or undefined");if(n==null)throw new Error("Archive bills content is null or undefined");if(a==null)throw new Error("Archive bills content is null or undefined");try{if(t===null){let o=JSON.stringify([e],null,4)+"\n```",r=n.replace(/\```$/,o);return await f.app.vault.modify(a,r),"success"}else if(t.length>=1){let o=JSON.stringify([e],null,4)+"]\n```",r=n.lastIndexOf("}"),l=n.slice(0,r+1)+`,
`+o.replace(/\[/,"").replace(/\]/,"");return await f.app.vault.modify(a,l),"success"}else return"Error with jsonData archive bills"}catch(o){return o}};var fn=async()=>{let{jsonData:e,status:t}=await j("Archive bills");if(t!=="success")return t;if(e===void 0)throw new Error("Bill is undefined");if(e===null)return new M.Notice("Add a bill");let{jsonData:n,status:a}=await D("Expenditure plan");if(a!=="success")return a;if(n===void 0)throw new Error("Expediture Plan is undefined");if(n===null)return new M.Notice("Add a expenditure plan");let{jsonData:i,status:o}=await D("Income plan");if(o!=="success")return a;if(i===void 0)throw new Error("Income Plan is undefined");if(i===null)return new M.Notice("Add a income plan");let{jsonData:r,status:l}=await D("History");if(l!=="success")return l;if(r===void 0)throw new Error("History is undefined");let{contentEl:c}=I,{selectedYear:s,selectedMonth:m}=F();c.empty(),c.createEl("div",{cls:"main-header"}).createEl("h1",{text:"Operation"});let u=c.createEl("div",{cls:"exit-button",attr:{id:"exit-button"}});(0,M.setIcon)(u,"arrow-left"),u.addEventListener("click",()=>{I.onOpen()});let y=c.createEl("form",{cls:"main-add-form",attr:{id:"main-add-form"}}),h,p=y.createEl("div",{cls:"main-form_radio"}),g=p.createEl("button",{text:"Expense",cls:"main-radio_exprense",attr:{"data-radio":"expense",type:"button"}});g.dataset.radio==="expense"&&(h=g.dataset.radio,g.addClass("main-radion-button--active"));let S=p.createEl("button",{text:"Income",cls:"main-radio_income",attr:{"data-radio":"income",type:"button"}});S.addEventListener("click",()=>{S.dataset.radio==="income"&&(g.removeClass("main-radion-button--active"),S.addClass("main-radion-button--active"),h=S.dataset.radio,B(),b.focus())}),g.addEventListener("click",()=>{g.dataset.radio==="expense"&&(S.removeClass("main-radion-button--active"),g.addClass("main-radion-button--active"),h=g.dataset.radio,B(),b.focus())});let w=y.createEl("div",{cls:"main-form-input"}),b=w.createEl("input",{cls:"form-inputs",attr:{placeholder:"Sum",id:"input-sum",type:"number",inputmode:"decimal"}});b.focus();let P=w.createEl("select",{cls:"form-selects",attr:{name:"select-bills",id:"select-bills"}});if(e.some(E=>E.generalBalance===!0)){let E=document.createElement("optgroup");E.label="Main",e.forEach(C=>{if(C.generalBalance){let k=document.createElement("option");k.value=C.id,k.textContent=`${C.emoji} ${C.name} \u2022 ${C.balance} ${N(C.currency)}`,E.appendChild(k)}}),P.appendChild(E)}if(e.some(E=>E.generalBalance===!1)){let E=document.createElement("optgroup");E.label="Additional",e.forEach(C=>{if(!C.generalBalance){let k=document.createElement("option");k.value=C.id,k.textContent=`${C.emoji} ${C.name} \u2022 ${C.balance} ${N(C.currency)}`,E.appendChild(k)}}),P.appendChild(E)}if(r===null)e.sort((E,C)=>Number(C.balance)-Number(E.balance)),P.value=e[0].id;else{let E={};r.forEach(H=>{let K=H.bill.id;E[K]=(E[K]||0)+1});let C=0,k=null;for(let H in E)E[H]>C?(C=E[H],k=H):E[H]===C&&(e.sort((K,ge)=>Number(ge.balance)-Number(K.balance)),P.value=e[0].id);let le=e.sort((H,K)=>H.id===k?-1:K.id===k?1:0);P.value=le[0].id}let v=w.createEl("select",{cls:"form-selects",attr:{name:"select-category",id:"select-category"}});B();async function B(){h==="expense"?(v.empty(),n&&(n.sort((E,C)=>Number(C.amount)-Number(E.amount)),n.forEach(E=>{v.createEl("option",{text:`${E.emoji} ${E.name} \u2022 ${E.amount} ${N(f.settings.baseCurrency)}`,attr:{value:E.id}})}))):(v.empty(),i&&(i.sort((E,C)=>Number(C.amount)-Number(E.amount)),i.forEach(E=>{v.createEl("option",{text:`${E.emoji} ${E.name} \u2022 ${E.amount} ${N(f.settings.baseCurrency)}`,attr:{value:E.id}})})))}let R=w.createEl("input",{cls:"form-inputs",attr:{placeholder:"Note",id:"input-comment",type:"text"}}),$=w.createEl("select",{cls:"form-selects",attr:{name:"select-date",id:"select-date"}});Ee($);let re=Date.now()-new Date(new Date().getFullYear(),new Date().getMonth(),0).getTime()>3*24*60*60*1e3,ye=Date.now()-new Date(new Date().getFullYear(),new Date().getMonth(),0).getTime()>2*24*60*60*1e3,fe=w.createEl("div",{cls:"form-selects-date-buttons"});s===null&&m===null&&ye&&(fe.createEl("button",{text:"Today",attr:{type:"button"}}).addEventListener("click",()=>{De($,0)}),fe.createEl("button",{text:"Yesterday",attr:{type:"button"}}).addEventListener("click",()=>{De($,-1)})),s===null&&m===null&&re&&fe.createEl("button",{text:"The day before yesterday",attr:{type:"button"}}).addEventListener("click",()=>{De($,-2)}),w.createEl("button",{text:"Add",cls:"add-button",attr:{type:"submit"}}).addEventListener("click",async E=>{if(E.preventDefault(),!(Number(b.value)>=1))return b.focus(),new M.Notice("Enter the amount");if(P.value!==f.settings.baseCurrency)return new M.Notice("I apologize, but for now you can only add transactions to accounts in the base currency.");let C={id:String(we()),amount:String(b.value),bill:{id:P.value},category:{id:v.value},comment:R.value.trim(),date:`${$.value}T${an()}`,type:h},k=await dn(C);k==="success"?setTimeout(()=>{I.onOpen(),new M.Notice("Operation added")},100):new M.Notice(k)})},gn=()=>{let{contentEl:e}=I;e.empty();let t=e.createEl("div",{cls:"exit-button",attr:{id:"exit-button"}});(0,M.setIcon)(t,"arrow-left"),t.addEventListener("click",()=>{I.onOpen()}),e.createEl("div",{cls:"main-header"}).createEl("h1",{text:"Categories"});let a=e.createEl("form",{cls:"main-add-form",attr:{id:"main-add-form"}}),i,o=a.createEl("div",{cls:"main-form_radio"}),r=o.createEl("button",{text:"Expense",cls:"main-radio_exprense",attr:{"data-radio":"expense",type:"button"}});r.dataset.radio==="expense"&&(i=r.dataset.radio,r.addClass("main-radion-button--active"));let l=o.createEl("button",{text:"Income",cls:"main-radio_income",attr:{"data-radio":"income",type:"button"}});l.addEventListener("click",()=>{l.dataset.radio==="income"&&(r.removeClass("main-radion-button--active"),l.addClass("main-radion-button--active"),i=l.dataset.radio,s.focus())}),r.addEventListener("click",()=>{r.dataset.radio==="expense"&&(l.removeClass("main-radion-button--active"),r.addClass("main-radion-button--active"),i=r.dataset.radio,s.focus())});let c=a.createEl("div",{cls:"main-form-input"}),s=c.createEl("input",{cls:"form-inputs",attr:{placeholder:"Name",id:"input-name",type:"text"}});s.focus();let m=c.createEl("input",{cls:"form-inputs",attr:{placeholder:"Emoji",id:"input-emoji",type:"text"}});m.addEventListener("input",()=>{let y=m.value,p=Array.from(y).filter(g=>/\p{Extended_Pictographic}/u.test(g));m.value=p.slice(0,1).join("")});let d=c.createEl("input",{cls:"form-inputs",attr:{placeholder:"Note",id:"input-comment",type:"text"}});c.createEl("button",{text:"Add",cls:"add-button",attr:{type:"submit"}}).addEventListener("click",async y=>{if(y.preventDefault(),!s.value)return s.focus(),new M.Notice("Enter the name");let h={id:String(we()),name:s.value.trim(),emoji:m.value,amount:"0",comment:d.value.trim(),type:i},p=await pn(h);p==="success"?setTimeout(()=>{I.onOpen(),new M.Notice("The plan has been added.")},100):new M.Notice(p)})},Sn=()=>{let{contentEl:e}=I;e.empty();let t=e.createEl("div",{cls:"exit-button",attr:{id:"exit-button"}});(0,M.setIcon)(t,"arrow-left"),t.addEventListener("click",()=>{I.onOpen()}),e.createEl("div",{cls:"main-header"}).createEl("h1",{text:"Categories"});let i=e.createEl("form",{cls:"main-add-form",attr:{id:"main-add-form"}}).createEl("div",{cls:"main-form-input"}),o=i.createEl("input",{cls:"form-inputs",attr:{placeholder:"Name",id:"input-name",type:"text"}});o.focus();let r=i.createEl("input",{cls:"form-inputs",attr:{placeholder:"Emoji",id:"input-emoji",type:"text"}});r.addEventListener("input",()=>{let S=r.value,b=Array.from(S).filter(P=>/\p{Extended_Pictographic}/u.test(P));r.value=b.slice(0,1).join("")});let l=i.createEl("select",{cls:"form-selects",attr:{name:"select-currency",id:"select-currency"}}),{popularCurrencies:c,otherCurrencies:s}=Pe(),m=document.createElement("optgroup");m.label="Popular",c.forEach(S=>{let w=document.createElement("option");w.value=S.code,w.textContent=`${S.code} \u2022 ${S.name} \u2022 ${S.symbol}`,m.appendChild(w)});let d=document.createElement("optgroup");d.label="All currencies",s.forEach(S=>{let w=document.createElement("option");w.value=S.code,w.textContent=`${S.code} ${S.name} \u2022 ${S.symbol}`,d.appendChild(w)}),l.appendChild(m),l.appendChild(d),l.value=f.settings.baseCurrency;let u=i.createEl("input",{cls:"form-inputs",attr:{placeholder:"Current balance",id:"input-current-balance",type:"number",inputmode:"decimal"}}),y=i.createEl("input",{cls:"form-inputs",attr:{placeholder:"Note",id:"input-comment",type:"text"}}),h=i.createEl("div",{cls:"form-checkbox-div"}),p=h.createEl("input",{cls:"form-checkbox",attr:{id:"input-checkbox",type:"checkbox",checked:!0}});h.createEl("span",{text:"Take into account in the general balance",cls:"form-text"}),l.addEventListener("change",()=>{l.value!==f.settings.baseCurrency?(p.checked=!1,h.style.display="none"):(h.style.display="flex",p.checked=!0)}),i.createEl("button",{text:"Add",cls:"add-button",attr:{type:"submit"}}).addEventListener("click",async S=>{if(S.preventDefault(),!o.value)return o.focus(),new M.Notice("Enter the name");let w={id:String(we()),name:o.value.trim(),emoji:r.value,balance:String(u.value).trim(),currency:l.value,generalBalance:p.checked,comment:y.value.trim()},b=await yn(w);b==="success"?setTimeout(()=>{I.onOpen(),new M.Notice("The bill has been added.")},100):new M.Notice(b)})};var O=require("obsidian");var hn=async e=>{if(e==null)return"Element not found";let{jsonData:t,content:n,file:a,status:i}=await D("History");if(i!=="success")return i;if(a==null)return"History file is null or undefined";if(n==null)return"History content is null or undefined";if(t==null)return"History data is null or undefined";if(e.type==="expense"){let o=await ae(e,"remove");if(o!=="success")return o}else if(e.type==="income"){let o=await ie(e,"remove");if(o!=="success")return o}else return"Error";if(t.length<=1)try{let o=n.replace(/```json[\s\S]*?```/,"```json\n```");return await f.app.vault.modify(a,o),"success"}catch(o){return`Error deleting item: ${o}`}else try{let o=t.filter(c=>c.id!==e.id),r=JSON.stringify(o,null,4),l=n.replace(/```json[\s\S]*?```/,"```json\n"+r+"\n```");return await f.app.vault.modify(a,l),"success"}catch(o){return`Error deleting item: ${o}`}},bn=async e=>{let{id:t,name:n,emoji:a,type:i}=e;if(!t)return"Element not found";let o={expense:()=>D("Expenditure plan"),income:()=>D("Income plan")};try{let r=o[i];if(!r)return"Element not found";let{jsonData:l,content:c,file:s,status:m}=await r();if(m!=="success")return m;if(!l)return"jsonData is null or undefined";if(!s)return"History file is null or undefined";if(!c)return"History content is null or undefined";if(await Fe(t,"plan"))return`The category ${a} \u2022 ${n} cannot be deleted because it is used in history.`;let u=(()=>{if(l.length<=1)return c.replace(/```json[\s\S]*?```/,"```json\n```");if(l.length>=2){let y=l.filter(g=>g.id!==t),h=JSON.stringify(y,null,4);return c.replace(/```json[\s\S]*?```/,"```json\n"+h+"\n```")}else return"Error"})();if(u==="Error")return"Error with create new content";if(await f.app.vault.modify(s,u),i==="expense"){if(await Z()!=="success")return"Error archiving expense plan"}else if(i==="income"){if(await W()!=="success")return"Error archiving income plan"}else return"Error";return"success"}catch(r){return`Error deleting item: ${r}`}},vn=async e=>{let{id:t,name:n,emoji:a}=e;if(!t)return"Element not found";let{jsonData:i,content:o,file:r,status:l}=await j("Archive bills");if(l!=="success")return l;if(!i)return"jsonData is null or undefined";if(!r)return"History file is null or undefined";if(!o)return"History content is null or undefined";try{if(await Fe(t,"bill"))return"The bill ${emoji} \u2022 ${name} cannot be deleted because it is in use in history.";let s=(()=>{if(i.length<=1)return o.replace(/```json[\s\S]*?```/,"```json\n```");if(i.length>=2){let m=i.filter(y=>y.id!==t),d=JSON.stringify(m,null,4);return o.replace(/```json[\s\S]*?```/,"```json\n"+d+"\n```")}else return"Error"})();return s==="Error"?"Error with create new content":(await f.app.vault.modify(r,s),"success")}catch(c){return`Error deleting item: ${c}`}};var ke=async e=>{let{id:t}=e.target.closest("li").dataset;if(!t)return"Element not found";let{item:n,status:a}=await G(t,"History");if(a!=="success")return a;let{contentEl:i}=I;i.empty(),i.createEl("div",{cls:"main-header"}).createEl("h1",{text:"\u041E\u043F\u0435\u0440\u0430\u0446\u0438\u044F"});let r=i.createEl("div",{cls:"exit-button",attr:{id:"exit-button"}});(0,O.setIcon)(r,"arrow-left"),r.addEventListener("click",()=>{I.onOpen()});let l=i.createEl("div",{cls:"delete-button",attr:{id:"delete-button"}});(0,O.setIcon)(l,"trash-2"),l.addEventListener("click",async()=>{let b=await hn(n);b==="success"?setTimeout(()=>{I.onOpen(),new O.Notice("The operation is remote.")},100):new O.Notice(b)});let s=i.createEl("form",{cls:"main-add-form",attr:{id:"main-add-form"}}).createEl("div",{cls:"main-form-input"}),m=s.createEl("input",{cls:"form-inputs",attr:{placeholder:"Sum",id:"input-sum",type:"number",value:n.amount,inputmode:"decimal"}}),d=s.createEl("select",{cls:"form-selects",attr:{name:"select-bills",id:"select-bills"}}),{jsonData:u,status:y}=await j("Archive bills");if(y!=="success")return y;if(u==null)throw new Error("Bill is null or undefined");if(u.some(b=>b.generalBalance===!0)){let b=document.createElement("optgroup");b.label="Main",u.forEach(P=>{if(P.generalBalance){let v=document.createElement("option");v.value=P.id,v.textContent=`${P.emoji} ${P.name} \u2022 ${P.balance} ${N(P.currency)}`,b.appendChild(v)}}),d.appendChild(b)}if(u.some(b=>b.generalBalance===!1)){let b=document.createElement("optgroup");b.label="Additional",u.forEach(P=>{if(!P.generalBalance){let v=document.createElement("option");v.value=P.id,v.textContent=`${P.emoji} ${P.name} \u2022 ${P.balance} ${N(P.currency)}`,b.appendChild(v)}}),d.appendChild(b)}d.value=n.bill.id;let h=s.createEl("select",{cls:"form-selects",attr:{name:"select-category",id:"select-category"}});p();async function p(){if(n.type==="expense"){h.empty();let{jsonData:b,status:P}=await D("Expenditure plan");if(P!=="success")return P;if(b==null)throw new Error("Expenditure plan is null or undefined");b.sort((v,B)=>Number(B.amount)-Number(v.amount)),b.forEach(v=>{if(v.id===n.category.id){h.createEl("option",{text:`${v.emoji} ${v.name} \u2022 ${v.amount} ${N(f.settings.baseCurrency)}`,attr:{value:v.id,selected:"selected"}});return}h.createEl("option",{text:`${v.emoji} ${v.name} \u2022 ${v.amount} ${N(f.settings.baseCurrency)}`,attr:{value:v.id}})})}else if(n.type==="income"){h.empty();let{jsonData:b,status:P}=await D("Income plan");if(P!=="success")return P;if(b==null)throw new Error("Expenditure plan is null or undefined");b.sort((v,B)=>Number(B.amount)-Number(v.amount)),b.forEach(v=>{if(v.id===n.category.id){h.createEl("option",{text:`${v.emoji} ${v.name} \u2022 ${v.amount} ${N(f.settings.baseCurrency)}`,attr:{value:v.id,selected:"selected"}});return}h.createEl("option",{text:`${v.emoji} ${v.name} \u2022 ${v.amount} ${N(f.settings.baseCurrency)}`,attr:{value:v.id}})})}else return"Error category type"}let g=s.createEl("input",{cls:"form-inputs",attr:{placeholder:"Note",id:"input-comment",type:"text",value:n.comment}}),S=s.createEl("select",{cls:"form-selects",attr:{name:"select-date",id:"select-date"}});Ee(S,n.date),S.value=n.date.split("T")[0],s.createEl("button",{text:"Safe",cls:"add-button",attr:{type:"submit"}}).addEventListener("click",async b=>{if(b.preventDefault(),!(Number(m.value)>=1))return m.focus(),new O.Notice("Enter the amount");let{item:P}=await G(d.value,"Archive bills");if(P.currency!==f.settings.baseCurrency)return new O.Notice("I apologize, but for now you can only add transactions to accounts in the base currency.");let v={id:n.id,amount:String(m.value),bill:{id:d.value},category:{id:h.value},comment:g.value,date:`${S.value}T${n.date.split("T")[1]}`,type:n.type},B=await sn(v,n);B==="success"?setTimeout(()=>{I.onOpen(),new O.Notice("Operation changed")},100):new O.Notice(B)})},Me=async e=>{let{id:t,type:n}=e.target.closest("li").dataset;if(!t)return"Element not found";let{item:a,status:i}=await G(t,n);if(i!=="success")return i;let{contentEl:o}=I;o.empty();let r=o.createEl("div",{cls:"exit-button",attr:{id:"exit-button"}});(0,O.setIcon)(r,"arrow-left"),r.addEventListener("click",()=>{I.onOpen()});let l=o.createEl("div",{cls:"delete-button",attr:{id:"delete-button"}});(0,O.setIcon)(l,"trash-2"),l.addEventListener("click",async()=>{let g=await bn(a);g==="success"?setTimeout(()=>{I.onOpen(),new O.Notice("The plan has been removed.")},100):new O.Notice(g)}),o.createEl("div",{cls:"main-header"}).createEl("h1",{text:"Categories"});let m=o.createEl("form",{cls:"main-add-form",attr:{id:"main-add-form"}}).createEl("div",{cls:"main-form-input"}),d=m.createEl("input",{cls:"form-inputs",attr:{placeholder:"Name",id:"input-name",type:"text",value:a.name}}),u=m.createEl("input",{cls:"form-inputs",attr:{placeholder:"Emoji",id:"input-emoji",type:"text",value:a.emoji}});u.addEventListener("input",()=>{let g=u.value,w=Array.from(g).filter(b=>/\p{Extended_Pictographic}/u.test(b));u.value=w.slice(0,1).join("")});let y=m.createEl("input",{cls:"form-inputs",attr:{placeholder:"Note",id:"input-comment",type:"text",value:a.comment}});m.createEl("button",{text:"Add",cls:"add-button",attr:{type:"submit"}}).addEventListener("click",async g=>{if(g.preventDefault(),!d.value)return d.focus(),new O.Notice("Enter the name");let S={id:a.id,name:d.value.trim(),emoji:u.value,amount:a.amount,comment:y.value.trim(),type:a.type},w=await cn(S);w==="success"?setTimeout(()=>{I.onOpen(),new O.Notice("The plan has been edited.")},100):new O.Notice(w)});let{jsonData:p}=await D("History");if(p===void 0)throw new Error("History is undefined");if(p!==null){let g=p.filter(B=>B.category.id===t);if(g.length<1)return;let S=new Date,b=Object.values(g.reduce((B,R)=>{let $=R.date.split("T")[0];return B[$]||(B[$]=[]),B[$].push(R),B},{})).sort((B,R)=>new Date(R[0].date).getTime()-new Date(B[0].date).getTime()).map(B=>B.sort((R,$)=>Math.abs(new Date(R.date).getTime()-S)-Math.abs(new Date($.date).getTime()-S))),P=o.createEl("h1",{text:"History of the plan"}),v=o.createEl("div",{cls:"history-plan"});b.forEach((B,R)=>{let $=v.createEl("div",{cls:"history-block"}),re=$.createEl("div",{cls:"full-data-block"}),ye=re.createEl("span",{text:Be(B[0].date.split("T")[0])}),fe=re.createEl("span",{text:je(B)}),Ye=$.createEl("ul",{cls:"data-list"});B.forEach(async(E,C)=>{let k=Ye.createEl("li",{cls:"data-item",attr:{"data-id":E.id}});k.onclick=async En=>{await ke(En)};let{item:le,status:H}=await G(E.category.id,E.type),{item:K,status:ge}=await G(E.bill.id,"Archive bills");if(H!=="success")return new O.Notice(H);if(ge!=="success")return new O.Notice(ge);let Ue=k.createEl("div",{cls:"data-link"}),Ve=Ue.createEl("div",{cls:"data-link-emoji"}),Se=Ue.createEl("div",{cls:"data-link-text"});Ve.createEl("p",{text:`${le.emoji}`}),Ve.createEl("span",{text:`${K.emoji}`}),E.comment===""?(Se.createEl("p",{text:`${le.name}`}),Se.createEl("span",{text:`${K.name}`})):(Se.createEl("p",{text:`${E.comment}`}),Se.createEl("span",{text:`${le.name} \u2022 ${K.name}`})),k.createEl("div",{cls:"data-link"}).createEl("p",{text:`${Ie(E.amount,E.type)} ${N(K.currency)}`})})})}},Le=async e=>{let{id:t}=e.target.closest("li").dataset;if(!t)return"Element not found";let{item:n,status:a}=await G(t,"Archive bills");if(!a)return a;let{contentEl:i}=I;i.empty();let o=i.createEl("div",{cls:"exit-button",attr:{id:"exit-button"}});(0,O.setIcon)(o,"arrow-left"),o.addEventListener("click",()=>{I.onOpen()});let r=i.createEl("div",{cls:"delete-button",attr:{id:"delete-button"}});(0,O.setIcon)(r,"trash-2"),r.addEventListener("click",async()=>{let v=await vn(n);v==="success"?setTimeout(()=>{I.onOpen(),new O.Notice("The bill has been removed.")},100):new O.Notice(v)});let c=i.createEl("div",{cls:"main-header"}).createEl("h1",{text:"Categories"}),m=i.createEl("form",{cls:"main-add-form",attr:{id:"main-add-form"}}).createEl("div",{cls:"main-form-input"}),d=m.createEl("input",{cls:"form-inputs",attr:{placeholder:"Name",id:"input-name",type:"text",value:n.name}}),u=m.createEl("input",{cls:"form-inputs",attr:{placeholder:"Emoji",id:"input-emoji",type:"text",value:n.emoji}});u.addEventListener("input",()=>{let v=u.value,R=Array.from(v).filter($=>/\p{Extended_Pictographic}/u.test($));u.value=R.slice(0,1).join("")});let y=m.createEl("input",{cls:"form-inputs",attr:{placeholder:"Current balance",id:"input-current-balance",type:"number",value:n.balance,inputmode:"decimal"}}),h=m.createEl("input",{cls:"form-inputs",attr:{placeholder:"Note",id:"input-comment",type:"text",value:n.comment}}),{jsonData:p,status:g}=await j("Archive bills");if(g!=="success")return g;if(p==null)throw new Error("Bills is null or undefined");if(p.length>1){let v=m.createEl("div",{cls:"form-transfer-expense-div"});(0,O.setIcon)(v,"upload");let B=v.createEl("span",{text:"Transactions between bills",cls:"form-text-transfer"});v.addEventListener("click",async()=>{await Jn(n.id)})}let S=m.createEl("div",{cls:"form-checkbox-div"});n.currency!==f.settings.baseCurrency&&(S.style.display="none");let w=S.createEl("input",{cls:"form-checkbox",attr:{id:"input-checkbox",type:"checkbox",checked:n.generalBalance?"checked":null}}),b=S.createEl("span",{text:"Take into account in the general balance",cls:"form-text"});m.createEl("button",{text:"Add",cls:"add-button",attr:{type:"submit"}}).addEventListener("click",async()=>{if(e.preventDefault(),!d.value)return d.focus(),new O.Notice("Enter the name");let v={id:n.id,name:d.value.trim(),emoji:u.value,balance:String(y.value.trim()),currency:n.currency,generalBalance:w.checked,comment:h.value.trim()},B=await mn(v);B==="success"?setTimeout(()=>{I.onOpen(),new O.Notice("The bill has been edited.")},100):new O.Notice(B)})},Jn=async e=>{if(!e)return"Element not found";let{jsonData:t,status:n}=await j("Archive bills");if(!n)return n;if(!t)return"Bill is null or undifined";let{contentEl:a}=I;a.empty();let i=a.createEl("div",{cls:"exit-button",attr:{id:"exit-button"}});(0,O.setIcon)(i,"arrow-left"),i.addEventListener("click",()=>{I.onOpen()});let r=a.createEl("div",{cls:"main-header"}).createEl("h1",{text:"Transfer"}),c=a.createEl("form",{cls:"main-add-form",attr:{id:"main-add-form"}}).createEl("div",{cls:"main-form-input"}),s=c.createEl("select",{cls:"form-selects",attr:{name:"select-from-bill",id:"select-from-bill"}});if(t.some(p=>p.generalBalance===!0)){let p=document.createElement("optgroup");p.label="Main",t.forEach(g=>{if(g.generalBalance){let S=document.createElement("option");S.value=g.id,S.textContent=`${g.name} \u2022 ${g.balance} ${N(g.currency)}`,S.dataset.currency=g.currency,p.appendChild(S)}}),s.appendChild(p)}if(t.some(p=>p.generalBalance===!1)){let p=document.createElement("optgroup");p.label="Additional",t.forEach(g=>{if(!g.generalBalance){let S=document.createElement("option");S.value=g.id,S.textContent=`${g.name} \u2022 ${g.balance} ${N(g.currency)}`,S.dataset.currency=g.currency,p.appendChild(S)}}),s.appendChild(p)}s.value=e;let m=c.createEl("input",{cls:"form-inputs",attr:{placeholder:"Source amount",id:"input-source-amount",type:"number",inputmode:"decimal",style:"display: none;"}}),d=c.createEl("select",{cls:"form-selects",attr:{name:"select-to-bill",id:"select-to-bill"}});if(d.createEl("option",{text:"Select an account",attr:{value:"",selected:"",disabled:"",hidden:""}}),t.some(p=>p.generalBalance===!0)){let p=document.createElement("optgroup");p.label="Main",t.forEach(g=>{if(g.generalBalance){let S=document.createElement("option");S.value=g.id,S.textContent=`${g.name} \u2022 ${g.balance} ${N(g.currency)}`,S.dataset.currency=g.currency,p.appendChild(S)}}),d.appendChild(p)}if(t.some(p=>p.generalBalance===!1)){let p=document.createElement("optgroup");p.label="Additional",t.forEach(g=>{if(!g.generalBalance){let S=document.createElement("option");S.value=g.id,S.textContent=`${g.name} \u2022 ${g.balance} ${N(g.currency)}`,S.dataset.currency=g.currency,p.appendChild(S)}}),d.appendChild(p)}let u=c.createEl("input",{cls:"form-inputs",attr:{placeholder:"Target amount",id:"input-target-amount",type:"number",inputmode:"decimal",style:"display: none;"}}),y=c.createEl("input",{cls:"form-inputs",attr:{placeholder:"Sum",id:"input-sum",type:"number",inputmode:"decimal"}});s.addEventListener("change",()=>{let p=s.options[s.selectedIndex],g=d.options[d.selectedIndex];if(g.value===""){m.style.display="none",u.style.display="none",y.style.display="block";return}p.dataset.currency===g.dataset.currency?(m.style.display="none",u.style.display="none",y.style.display="block"):(m.style.display="block",u.style.display="block",y.style.display="none")}),d.addEventListener("change",()=>{let p=s.options[s.selectedIndex];d.options[d.selectedIndex].dataset.currency===p.dataset.currency?(m.style.display="none",u.style.display="none",y.style.display="block"):(m.style.display="block",u.style.display="block",y.style.display="none")}),c.createEl("button",{text:"Transfer",cls:"add-button",attr:{type:"submit"}}).addEventListener("click",async p=>{if(p.preventDefault(),!d.value)return new O.Notice("Select an account");let g=s.options[s.selectedIndex],S=d.options[d.selectedIndex],w=g.dataset.currency===S.dataset.currency,b;if(w){if(!y.value)return y.focus(),new O.Notice("Enter the amount");b={type:"same-currency",fromBillId:s.value,toBillId:d.value,amount:Number(y.value)}}else{if(!m.value||!u.value)return(m.value?u:m).focus(),new O.Notice("Enter both amounts");b={type:"cross-currency",fromBillId:s.value,toBillId:d.value,sourceAmount:Number(m.value),targetAmount:Number(u.value)}}let P=await un(b);P==="success"?setTimeout(()=>{I.onOpen(),new O.Notice("Transfer completed")},100):new O.Notice(P)})};var ne=async(e,t)=>{F({openPageNow:"History"});let{jsonData:n,status:a}=await D("History");if(a!=="success"&&(new V.Notice(a),console.error(a)),n===null){let o=e.createEl("div",{cls:"undefined-content"});e.addClass("main-content-body--undefined");let r=o.createEl("span",{text:"\u{1F355} \u{1F3AE} \u{1F455}"}),l=o.createEl("p",{text:"Enter any income and expenses to see how much money is actually left."})}else e.removeClass("main-content-body--undefined"),e.createEl("input",{cls:"input-search",attr:{id:"input-search",type:"search",placeholder:"\u{1F50E} Search by operations"}}).addEventListener("input",async r=>{let l=r.target.value,{jsonData:c,status:s}=await We(l);if(c===void 0)throw new Error("jsonData is null or undefined");if(s!=="success"&&(new V.Notice(s),console.error(s)),i.empty(),c===null){let m=i.createEl("div",{cls:"undefined-content"});i.addClass("main-content-body--undefined");let d=m.createEl("span",{text:"\u{1F355} \u{1F3AE} \u{1F455}"}),u=m.createEl("p",{text:"No matching operations found."})}else c.length>=1?(i.removeClass("main-content-body--undefined"),await Re(i,e,c)):(i.removeClass("main-content-body--undefined"),await Re(i,e,n))});let i=e.createEl("div",{cls:"history-content"});await Re(i,e,n,t)};async function Re(e,t,n,a){if(n!==null){let o=new Date,l=Object.values(n.reduce((c,s)=>{let m=s.date.split("T")[0];return c[m]||(c[m]=[]),c[m].push(s),c},{})).sort((c,s)=>new Date(s[0].date).getTime()-new Date(c[0].date).getTime()).map(c=>c.sort((s,m)=>Math.abs(new Date(s.date).getTime()-o)-Math.abs(new Date(m.date).getTime()-o)));n.length>=5&&t.addClass("main-content-body--padding"),l.forEach((c,s)=>{let m=e.createEl("div",{cls:"history-block"}),d=m.createEl("div",{cls:"full-data-block"}),u=d.createEl("span",{text:Be(c[0].date.split("T")[0])}),y=d.createEl("span",{text:`${je(c)}`}),h=m.createEl("ul",{cls:"data-list"});c.forEach(async(p,g)=>{let S=h.createEl("li",{cls:"data-item",attr:{"data-id":p.id}});S.onclick=async ye=>{await ke(ye)};let{item:w,status:b}=await G(p.category.id,p.type),{item:P,status:v}=await G(p.bill.id,"Archive bills");if(b!=="success")return new V.Notice(b);if(v!=="success")return new V.Notice(v);let B=S.createEl("div",{cls:"data-link"}),R=B.createEl("div",{cls:"data-link-emoji"}),$=B.createEl("div",{cls:"data-link-text"});R.createEl("p",{text:`${w.emoji}`}),R.createEl("span",{text:`${P.emoji}`}),p.comment===""?($.createEl("p",{text:`${w.name}`}),$.createEl("span",{text:`${P.name}`})):($.createEl("p",{text:`${p.comment}`}),$.createEl("span",{text:`${w.name} \u2022 ${P.name}`})),S.createEl("div",{cls:"data-link"}).createEl("p",{text:`${Ie(p.amount,p.type)} ${N(P.currency)}`})})})}a.createEl("button",{text:"Add an expense or income",cls:"add-button"}).addEventListener("click",async()=>{fn()})}var pe=async(e,t)=>{F({openPageNow:"Plans"});let{jsonData:n,status:a}=await D("Expenditure plan");if(n===void 0)throw new Error("jsonData is undefined");a!=="success"&&(new V.Notice(a),console.error(a));let{jsonData:i,status:o}=await D("Income plan");o!=="success"&&(new V.Notice(o),console.error(o));let r=[];if(n===null&&i===null){let c=e.createEl("div",{cls:"undefined-content"});e.addClass("main-content-body--undefined");let s=c.createEl("span",{text:"\u{1F355} \u{1F3AE} \u{1F455}"}),m=c.createEl("p",{text:"Enter any income and expenses to see how much money is actually left."})}else{if(n!==null){e.removeClass("main-content-body--undefined");let c=n.sort((h,p)=>p.amount-h.amount);c.forEach(h=>r.push(h));let s=e.createEl("div",{cls:"plan-block"}),m=s.createEl("div",{cls:"full-data-block"}),d=m.createEl("span",{text:"Expense"}),u=m.createEl("span",{text:String(J(c))}),y=s.createEl("ul",{cls:"data-list"});c.forEach((h,p)=>{let g=y.createEl("li",{cls:"data-item",attr:{"data-id":h.id,"data-type":h.type}});g.onclick=async w=>{await Me(w)};let S=g.createEl("div",{cls:"data-link"});S.createEl("span",{text:`${h.emoji}`}),S.createEl("p",{text:`${h.name}`}),g.createEl("p",{text:String(h.amount)})})}if(i!==null){if(i===void 0)throw new Error("incomePlanInfo is undefined");e.removeClass("main-content-body--undefined");let c=i.sort((h,p)=>p.amount-h.amount);c.forEach(h=>r.push(h));let s=e.createEl("div",{cls:"plan-block"}),m=s.createEl("div",{cls:"full-data-block"}),d=m.createEl("span",{text:"Income"}),u=m.createEl("span",{text:String(U(c))}),y=s.createEl("ul",{cls:"data-list"});c.forEach((h,p)=>{let g=y.createEl("li",{cls:"data-item",attr:{"data-id":h.id,"data-type":h.type}});g.onclick=async w=>{await Me(w)};let S=g.createEl("div",{cls:"data-link"});S.createEl("span",{text:`${h.emoji}`}),S.createEl("p",{text:`${h.name}`}),g.createEl("p",{text:String(h.amount)})})}}r.length>5&&e.addClass("main-content-body--padding"),t.createEl("button",{text:"Create a category",cls:"add-button"}).addEventListener("click",async()=>{gn()})},He=async(e,t)=>{F({openPageNow:"Bills"});let{jsonData:n,status:a}=await j("Archive bills");if(a!=="success"&&(new V.Notice(a),console.error(a)),n===void 0)throw new Error("Bill is undefined");if(n===null){let o=e.createEl("div",{cls:"undefined-content"});e.addClass("main-content-body--undefined");let r=o.createEl("span",{text:"\u{1F355} \u{1F3AE} \u{1F455}"}),l=o.createEl("p",{text:"Enter any income and expenses to see how much money is actually left."})}else{if(n.length>5&&e.addClass("main-content-body--padding"),n.filter(o=>o.generalBalance).length>=1){e.removeClass("main-content-body--undefined");let o=e.createEl("div",{cls:"bill-block"}),r=o.createEl("div",{cls:"full-data-block"}),l=r.createEl("span",{text:"Main"}),c=r.createEl("span",{text:String(te(n))}),s=o.createEl("ul",{cls:"data-list"});n.forEach((m,d)=>{if(m.generalBalance){let u=s.createEl("li",{cls:"data-item",attr:{"data-id":m.id}});u.onclick=async p=>{await Le(p)};let y=u.createEl("div",{cls:"data-link"});y.createEl("span",{text:`${m.emoji}`}),y.createEl("p",{text:`${m.name}`});let h=u.createEl("p",{text:`${String(m.balance)} ${N(m.currency)}`})}})}if(n.filter(o=>!o.generalBalance).length>=1){e.removeClass("main-content-body--undefined");let o=e.createEl("div",{cls:"bill-block"}),r=o.createEl("div",{cls:"full-data-block"}),l=r.createEl("span",{text:"Additional"}),c=r.createEl("span",{text:String(qe(n))}),s=o.createEl("ul",{cls:"data-list"});n.forEach((m,d)=>{if(!m.generalBalance){let u=s.createEl("li",{cls:"data-item",attr:{"data-id":m.id}});u.onclick=async h=>{await Le(h)};let y=u.createEl("div",{cls:"data-link"});y.createEl("span",{text:`${m.emoji}`}),y.createEl("p",{text:`${m.name}`}),u.createEl("p",{text:`${String(m.balance)} ${N(m.currency)}`})}})}}t.createEl("button",{text:"Add a bill",cls:"add-button"}).addEventListener("click",async()=>{Sn()})};var Ke=async()=>{if(!I||!f)return;if(F({selectedMonth:null,selectedYear:null}),!await se())return Ke();let{contentEl:t}=I,{month:n}=Y(),{jsonData:a,status:i}=await j("Archive bills");if(i!=="success"&&(new L.Notice(i),console.error(i)),a===void 0)throw new Error("billsInfo is undefined");let{jsonData:o,status:r}=await D("Expenditure plan");if(r!=="success"&&(new L.Notice(r),console.error(r)),o===void 0)throw new Error("expenditurePlanInfo is undefined");let{jsonData:l,status:c}=await D("Income plan");if(c!=="success"&&(new L.Notice(c),console.error(c)),l===void 0)throw new Error("incomePlanInfo is undefined");t.empty(),t.addClass("finance-content");let m=t.createEl("div",{cls:"finance-header"}).createEl("button",{attr:{id:"showAllMonths"}});(0,L.setIcon)(m,"calendar-days"),m.createEl("span",{text:n}),m.addEventListener("click",async()=>{t.dataset.page==="home"&&(t.setAttribute("data-page","months"),await wn())}),t.setAttribute("data-page","home");let d=t.createEl("div",{cls:"balance"}),u=d.createEl("div",{cls:"balance-top"});u.createEl("span",{text:"Balance"}),u.createEl("p",{text:`${te(a)} ${N(f.settings.baseCurrency)}`}),u.createEl("span",{text:`~${Xe(te(a))} for a day`}),d.createEl("div",{cls:"balance-line"}).style.setProperty("--after-width",`${en(a,o)}%`);let h=d.createEl("div",{cls:"balance-body"}),p=h.createEl("div",{cls:"balance_body-expenses"});p.createEl("span",{text:"Expense"});let g=p.createEl("div",{cls:"balance_expenses-check"});(0,L.setIcon)(g,"upload"),g.createEl("p",{text:String(J(o))});let S=h.createEl("div",{cls:"balance_body-income"});S.createEl("span",{text:"Income"});let w=S.createEl("div",{cls:"balance_income-check"});(0,L.setIcon)(w,"download"),w.createEl("p",{text:String(U(l))}),Gn()},Gn=async()=>{let{contentEl:e}=I,{openPageNow:t}=F(),n=e.createEl("div",{cls:"main-nav"}),i=e.createEl("div",{cls:"main-content"}).createEl("div",{cls:"main-content-body"}),o=e.createEl("div",{cls:"main-content-button"}),r=n.createEl("a",{text:"History",cls:"home_button--active",attr:{id:"history-button",href:"#"}});r.addEventListener("click",async()=>{l.removeClass("home_button--active"),c.removeClass("home_button--active"),r.addClass("home_button--active"),i.empty(),o.empty(),await ne(i,o)});let l=n.createEl("a",{text:"Plan",attr:{id:"plan-button",href:"#"}});l.addEventListener("click",async()=>{r.removeClass("home_button--active"),c.removeClass("home_button--active"),l.addClass("home_button--active"),i.empty(),o.empty(),await pe(i,o)});let c=n.createEl("a",{text:"Bills",attr:{id:"bills-button",href:"#"}});c.addEventListener("click",async()=>{r.removeClass("home_button--active"),l.removeClass("home_button--active"),c.addClass("home_button--active"),i.empty(),o.empty(),await He(i,o)}),!t||t==="History"||t===null?(await ne(i,o),r.addClass("home_button--active"),c.removeClass("home_button--active"),l.removeClass("home_button--active")):t==="Plans"?(await pe(i,o),r.removeClass("home_button--active"),l.addClass("home_button--active"),c.removeClass("home_button--active")):t==="Bills"?(await He(i,o),r.removeClass("home_button--active"),l.removeClass("home_button--active"),c.addClass("home_button--active")):(await ne(i,o),r.addClass("home_button--active"),c.removeClass("home_button--active"),l.removeClass("home_button--active"))},wn=async()=>{let{contentEl:e}=I;e.empty();let{year:t}=Y(),n=e.createEl("div",{cls:"exit-button",attr:{id:"exit-button"}});(0,L.setIcon)(n,"arrow-left"),n.addEventListener("click",()=>{var r;(r=I)==null||r.onOpen()}),e.createEl("div",{cls:"calendar-header"}).createEl("h1",{text:"Calendar"});let i=e.createEl("div",{cls:"calendar-main"}),o=["\u2603\uFE0F January","\u{1F328}\uFE0F February","\u{1F337} March","\u{1F331} April","\u2600\uFE0F May","\u{1F333} June","\u{1F3D6}\uFE0F July","\u{1F33E} August","\u{1F341} September","\u{1F342} October","\u2614 November","\u2744\uFE0F December"];for(let r=Number(t);r>=f.settings.startYear;r--){let l=i.createEl("div",{cls:"calendar-list-title"});l.createEl("span",{text:String(r)}),l.createEl("span",{text:await tn(String(r))});let c=i.createEl("ul",{cls:"calendar-list",attr:{"data-year":r}});for(let s=o.length-1;s>=0;s--){let m=c.createEl("li",{attr:{"data-month":`${s+1}`,"data-year":`${r}`}});m.onclick=async u=>{await zn(u)},m.createEl("p",{text:o[s]});let d=m.createEl("div",{cls:"story-month"});nn(_[s],String(r),d)}}},zn=async e=>{var l,c,s,m,d;let{year:t,month:n}=Y(),a=((c=(l=e.target)==null?void 0:l.closest)==null?void 0:c.call(l,"[data-month]"))||e.target,i=Number((s=a==null?void 0:a.dataset)==null?void 0:s.month),o=String((m=a==null?void 0:a.dataset)==null?void 0:m.year);if(_[i-1]===n&&o===t)return(d=I)==null?void 0:d.onOpen();F({selectedMonth:_[i-1],selectedYear:o});let r=await Ze(i-1,o);r!=="success"&&new L.Notice(r),await Je()},Je=async()=>{if(!I||!f)return;let{selectedMonth:e}=F(),{jsonData:t,status:n}=await D("Expenditure plan");if(n!=="success"&&(new L.Notice(n),console.error(n)),t==null)throw new Error("expenditurePlanInfo is null or undefined");let{jsonData:a,status:i}=await D("Income plan");if(i!=="success"&&(new L.Notice(i),console.error(i)),a==null)throw new Error("incomePlanInfo is null or undefined");let{contentEl:o}=I;o.empty();let r=o.createEl("div",{cls:"exit-button",attr:{id:"exit-button"}});(0,L.setIcon)(r,"arrow-left"),r.addEventListener("click",()=>{var p;F({selectedMonth:null,selectedYear:null}),(p=I)==null||p.onOpen()}),o.createEl("div",{cls:"finance-header"}).createEl("button",{text:`\u{1F5D3}\uFE0F ${e}`,attr:{id:"showAllMonths"}}).addEventListener("click",async()=>{o.dataset.page==="home"&&(o.setAttribute("data-page","months"),await wn())}),o.setAttribute("data-page","home");let s=o.createEl("div",{cls:"balance"});s.addClass("balance-other");let m=s.createEl("div",{cls:"balance-body"}),d=m.createEl("div",{cls:"balance_body-expenses"});d.createEl("span",{text:"Expense"});let u=d.createEl("div",{cls:"balance_expenses-check"});(0,L.setIcon)(u,"upload"),u.createEl("p",{text:String(J(t))});let y=m.createEl("div",{cls:"balance_body-income"});y.createEl("span",{text:"Income"});let h=y.createEl("div",{cls:"balance_income-check"});(0,L.setIcon)(h,"download"),h.createEl("p",{text:String(U(a))}),_n()},_n=async()=>{let{contentEl:e}=I,t=e.createEl("div",{cls:"main-nav"}),a=e.createEl("div",{cls:"main-content"}).createEl("div",{cls:"main-content-body"}),i=e.createEl("div",{cls:"main-content-button"}),o=t.createEl("a",{text:"History",cls:"home_button--active",attr:{id:"history-button",href:"#"}});o.addEventListener("click",async()=>{r.removeClass("home_button--active"),o.addClass("home_button--active"),a.empty(),i.empty(),await ne(a,i)});let r=t.createEl("a",{text:"Plan",attr:{id:"plan-button",href:"#"}});r.addEventListener("click",async()=>{o.removeClass("home_button--active"),r.addClass("home_button--active"),a.empty(),i.empty(),await pe(a,i)});let{openPageNow:l}=F();!l||l==="History"||l===null?(await ne(a,i),o.addClass("home_button--active"),r.removeClass("home_button--active")):l==="Plans"?(await pe(a,i),o.removeClass("home_button--active"),r.addClass("home_button--active")):(await ne(a,i),o.addClass("home_button--active"),r.removeClass("home_button--active"))};var oe="financial-accounting-view",f,I,Ce=class extends T.Plugin{async onload(){await this.loadSettings(),this.registerView(oe,n=>new Ge(n)),this.app.workspace.onLayoutReady(async()=>{this.addSettingTab(new _e(this.app,this));let n=this.addRibbonIcon("badge-dollar-sign","Add operation",async()=>{await this.activateView()});this.registerInterval(window.setInterval(()=>{let a=document.querySelector(".workspace-ribbon.mod-left");!a||!n||T.Platform.isMobile&&a.firstChild!==n&&a.append(n)},1e3)),this.unregisterTracking=Un(this.app,()=>{console.log("Financial Accounting View \u0430\u043A\u0442\u0438\u0432\u043D\u0430"),Pn(a=>{a.classList.add("disable-mobile-nav-bar")})},()=>{console.log("Financial Accounting View \u043D\u0435 \u0430\u043A\u0442\u0438\u0432\u043D\u0430"),Pn(a=>{a.classList.remove("disable-mobile-nav-bar")})}),this.addCommand({id:"financial-accounting-view",name:"Open the finance panel",callback:()=>this.activateView()})}),f=this,console.log("Financial accounting plugin loaded")}async activateView(){let{workspace:n}=this.app,a=n.getLeavesOfType(oe)[0];a||(T.Platform.isDesktop?a=n.getRightLeaf(!1):a=n.getLeaf(!0),a&&await a.setViewState({type:oe,active:!0})),a&&n.revealLeaf(a)}async loadSettings(){let n=await this.loadData(),a=new ze;this.settings=Object.assign({},a,n||{})}async saveSettings(){await this.saveData(this.settings)}onunload(){var n;this.app.workspace.detachLeavesOfType(oe),(n=this.unregisterTracking)==null||n.call(this)}},Ge=class extends T.ItemView{constructor(t){super(t)}getViewType(){return oe}getDisplayText(){return"Financial accounting view"}getIcon(){return"chart-pie"}async onOpen(){I=this;let{selectedYear:t,selectedMonth:n}=F();n===null&&t===null?await Ke():await Je()}async onClose(){}},ze=class{constructor(){this.targetFolder="Finances",this.startYear=2020,this.baseCurrency="USD",this.defaultTag="Finances"}},_e=class extends T.PluginSettingTab{constructor(n,a){super(n,a);this.plugin=a}display(){let{containerEl:n}=this;n.empty(),n.createEl("h1",{text:"Plugin settings"});let a=this.app.vault.getAllLoadedFiles().filter(u=>u instanceof T.TFolder).map(u=>u.path),i=this.plugin.settings.targetFolder||"Finances/",o=a.includes(i);new T.Setting(n).setName("Working directory").setDesc("Select the folder the plugin will work with.").addDropdown(u=>{for(let y of a)u.addOption(y,y);o||u.addOption(i,`${i} (does not exist)`),u.setValue(i),u.onChange(async y=>{this.plugin.settings.targetFolder=y,await this.plugin.saveSettings(),new T.Notice(`Folder selected: ${y}`)})}),new T.Setting(n).setName("Initial year of accounting").setDesc("Select the year from which financial accounting has been conducted").addDropdown(u=>{let y=new Date().getFullYear();for(let h=y-100;h<=y;h++)u.addOption(String(h),String(h));u.setValue(String(this.plugin.settings.startYear)),u.onChange(async h=>{this.plugin.settings.startYear=Number(h),await this.plugin.saveSettings(),new T.Notice(`The starting year has been changed to ${h}`)})});let l=new T.Setting(n).setName("Main currency").setDesc("Select the currency from which the conversion will be performed").settingEl.createEl("select",{cls:"currency-select"}),{popularCurrencies:c,otherCurrencies:s}=Pe(),m=document.createElement("optgroup");m.label="Popular",c.forEach(u=>{let y=document.createElement("option");y.value=u.code,y.textContent=`${u.code} \u2022 ${u.name} \u2022 ${u.symbol}`,m.appendChild(y)});let d=document.createElement("optgroup");d.label="All currencies",s.forEach(u=>{let y=document.createElement("option");y.value=u.code,y.textContent=`${u.code} ${u.name} \u2022 ${u.symbol}`,d.appendChild(y)}),l.appendChild(m),l.appendChild(d),l.value=this.plugin.settings.baseCurrency,l.addEventListener("change",async u=>{let y=await j("Archive bills");if(y.jsonData===null||y.jsonData===void 0||y.jsonData.length===0)this.plugin.settings.baseCurrency=u.target.value,await this.plugin.saveSettings(),new T.Notice(`The main currency has been changed to ${u.target.value}`);else return l.value=this.plugin.settings.baseCurrency,new T.Notice("You can change the base currency only if there are no accounts created yet.")}),new T.Setting(n).setName("Default tag for Obsidian").setDesc("Enter one word to use as a tag (no spaces).").addText(u=>{u.setPlaceholder("For example: Finances").setValue(this.plugin.settings.defaultTag||""),u.inputEl.addEventListener("keydown",async y=>{y.key==="Enter"&&(y.preventDefault(),u.inputEl.blur())}),u.inputEl.addEventListener("blur",async()=>{let y=u.getValue().trim();if(/\s/.test(y)){new T.Notice("Error: Tag must not contain spaces.");return}if(!/^[\w\---]+$/.test(y)){new T.Notice("The tag can only contain letters, numbers, underscores and hyphens.");return}this.plugin.settings.defaultTag=y,await this.plugin.saveSettings(),new T.Notice(`The tag "${y}" has been saved.`)})})}},Yn=()=>{let e={openPageNow:null,selectedYear:null,selectedMonth:null};return function(n){return n&&(e={...e,...n}),e}},F=Yn();function Un(e,t,n){let a=()=>{let i=e.workspace.activeLeaf;if(!i){n();return}i.view.getViewType()===oe?t():n()};return e.workspace.on("active-leaf-change",a),e.workspace.on("layout-change",a),a(),()=>{e.workspace.off("active-leaf-change",a),e.workspace.off("layout-change",a)}}function Pn(e){let t=new MutationObserver(()=>{let n=document.querySelector(".mobile-navbar");n&&(e(n),t.disconnect())});t.observe(document.body,{childList:!0,subtree:!0})}
